<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niederwieser Performance Manager</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'in': 'fade-in 0.3s ease-out',
                        'out': 'fade-out 0.3s ease-out',
                    },
                    keyframes: {
                        'fade-in': {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        'fade-out': {
                            '0%': { opacity: '1', transform: 'translateY(0)' },
                            '100%': { opacity: '0', transform: 'translateY(10px)' },
                        }
                    }
                }
            }
        };
    </script>

    <style>
        body { -webkit-font-smoothing: antialiased; }
        /* Custom Scrollbar for better visibility */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        /* Zusätzliche Flex-Anpassung für die gleich hohe Spalte */
        .equal-height-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem; /* 6 */
            align-items: stretch;
        }
        
        /* PDF Print Styles */
        @media print {
            .no-print { display: none !important; }
            .break-inside-avoid { page-break-inside: avoid; }
            body { background: white !important; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        }
        
        /* PDF Mode Styles - Using inline style approach */
        .pdf-mode {
            background: white !important;
            max-width: 190mm !important;
            margin: 0 auto !important;
            padding: 10mm !important;
        }
        .pdf-mode * {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
        }
        .pdf-mode .no-print { 
            display: none !important; 
        }
        .pdf-mode .pdf-only { 
            display: block !important; 
        }
        .pdf-only { 
            display: none; 
        }
        .pdf-mode .break-inside-avoid { 
            page-break-inside: avoid !important; 
        }
        
        /* Remove backgrounds and shadows */
        .pdf-mode [class*="bg-slate"],
        .pdf-mode [class*="bg-blue"],
        .pdf-mode [class*="bg-purple"],
        .pdf-mode [class*="bg-indigo"] {
            background: transparent !important;
        }
        .pdf-mode [class*="shadow"] {
            box-shadow: none !important;
        }
        .pdf-mode [class*="rounded"] {
            border-radius: 4px !important;
        }
        
        /* Table styles */
        .pdf-mode table {
            border-collapse: collapse !important;
            width: 100% !important;
            margin: 8px 0 !important;
        }
        .pdf-mode th {
            background-color: #f8fafc !important;
            font-weight: 700 !important;
            font-size: 11px !important;
            padding: 6px 4px !important;
            border: 1px solid #cbd5e1 !important;
            text-align: left !important;
        }
        .pdf-mode td {
            padding: 6px 4px !important;
            border: 1px solid #cbd5e1 !important;
            font-size: 10px !important;
            vertical-align: middle !important;
        }
        .pdf-mode tbody tr {
            page-break-inside: avoid !important;
        }
        
        /* Headers and spacing */
        .pdf-mode h1 { font-size: 24px !important; margin-bottom: 4px !important; }
        .pdf-mode h2 { font-size: 18px !important; margin-bottom: 8px !important; page-break-after: avoid !important; }
        .pdf-mode h3 { font-size: 14px !important; margin-bottom: 6px !important; page-break-after: avoid !important; }
        .pdf-mode h4 { font-size: 12px !important; margin-bottom: 4px !important; }
        .pdf-mode p { font-size: 11px !important; line-height: 1.4 !important; }
        .pdf-mode label { font-size: 10px !important; }
        
        /* Section spacing */
        .pdf-mode > div {
            margin-bottom: 12px !important;
            padding: 8px !important;
            border: 1px solid #e2e8f0 !important;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-900">
    
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect, useRef } from 'https://esm.sh/react@18.2.0';
        import ReactDOM from 'https://esm.sh/react-dom@18.2.0/client';
        import { 
            BookOpen, Users, Target, Award, ChevronRight, 
            X, Zap, Heart, Scale, Brain, TrendingUp, Clock, MessageCircle, 
            Briefcase, Lightbulb, ShieldAlert, CheckCircle2, 
            ClipboardList, CalendarCheck, Calculator, Info, RotateCcw, Trophy, PlusCircle, XCircle,
            Download, Loader2, Trash2, FileText, Edit2, Eye, UserPlus, Play
        } from 'https://esm.sh/lucide-react@0.292.0';

        const { createElement: e } = React;

        // === GPS SIMULATOR CONSTANTS ===
        const BARS_RANGES = [
          { min: 131, score: 5, label: "Herausragend (>130%)" },
          { min: 111, max: 130, score: 4, label: "Übertroffen (111-130%)" },
          { min: 90, max: 110, score: 3, label: "Baseline (90-110%)" },
          { min: 70, max: 89, score: 2, label: "Teilweise (70-89%)" },
          { min: 0, max: 69, score: 1, label: "Nicht erreicht (<70%)" },
        ];

        const RATINGS = [
          { min: 4.51, max: 5.00, label: "Outstanding (5)", color: "bg-green-600", desc: "Top Bonus / Gehaltssprung" },
          { min: 3.51, max: 4.50, label: "Exceeds Expectations (4)", color: "bg-emerald-500", desc: "Basis-Bonus / Gehaltserhöhung" },
          { min: 2.51, max: 3.50, label: "Meets Expectations (3)", color: "bg-blue-600", desc: "Standard-Runde / Kein Bonus" },
          { min: 1.51, max: 2.50, label: "Needs Improvement (2)", color: "bg-orange-500", desc: "Enge Führung / PIP" },
          { min: 0.00, max: 1.50, label: "Does Not Meet (1)", color: "bg-red-600", desc: "Sofortige Eskalation" },
        ];

        const CORE_COMP_SIM = {
          de: [
            { id: 'fach', name: 'Fachkompetenz & Anwendung', weight: 20 },
            { id: 'komm', name: 'Kommunikation & Zusammenarbeit', weight: 20 },
            { id: 'prob', name: 'Problemlösekompetenz', weight: 20 },
            { id: 'adapt', name: 'Anpassungsfähigkeit', weight: 20 },
            { id: 'orga', name: 'Selbstorganisation', weight: 20 },
          ],
          it: [
            { id: 'fach', name: 'Competenza tecnica & Applicazione', weight: 20 },
            { id: 'komm', name: 'Comunicazione & Collaborazione', weight: 20 },
            { id: 'prob', name: 'Capacità di problem solving', weight: 20 },
            { id: 'adapt', name: 'Adattabilità', weight: 20 },
            { id: 'orga', name: 'Autogestione', weight: 20 },
          ]
        };

        const LEADERSHIP_COMP_SIM = {
          de: [
            { id: 'lead', name: 'Mitarbeiterführung & -entwicklung', weight: 20 },
            { id: 'strat', name: 'Strategisches Denken', weight: 20 },
            { id: 'decide', name: 'Entscheidungsfähigkeit', weight: 20 },
            { id: 'exec', name: 'Execution & Performance Mgmt', weight: 20 },
            { id: 'stake', name: 'Stakeholder-Mgmt & Konflikte', weight: 20 },
          ],
          it: [
            { id: 'lead', name: 'Gestione & Sviluppo del personale', weight: 20 },
            { id: 'strat', name: 'Pensiero strategico', weight: 20 },
            { id: 'decide', name: 'Capacità decisionale', weight: 20 },
            { id: 'exec', name: 'Execution & Performance Mgmt', weight: 20 },
            { id: 'stake', name: 'Gestione degli stakeholder & Conflitti', weight: 20 },
          ]
        };

        const getBarsScore = (percentage) => {
          const range = BARS_RANGES.find(r => percentage >= r.min && (r.max === undefined || percentage <= r.max));
          return range ? range.score : 1;
        };

        const getRating = (score) => {
          return RATINGS.find(r => score >= r.min && score <= r.max) || RATINGS[RATINGS.length - 1];
        };


        // --- UI TEXT (German and Italian) ---
        const UI_TEXT = {
            de: {
                title: "Performance Manager",
                welcome: "Willkommen",
                intro: "Dies ist Ihr interaktiver Guide für das ",
                introBold: "Niederwieser Performance Review",
                introEnd: ". Hier finden Sie alle Verhaltensanker, Definitionen und Beispiele, um Leistungen objektiv einzuschätzen.",
                strategyTitle: "Strategie & Vision",
                strategySubtitle: "Die Transformation im Fokus",
                strategyDesc: "Unsere Kernwerte Fast, Fair & Personal sind der Kompass zur Strategie 2035. Mit dem Performance Review schaffen wir die Transparenz, individuelle Ergebnisse (WAS) und Kompetenzen (WIE) objektiv zu bewerten, um alle Anstrengungen auf das gemeinsame Ziel zu bündeln: die Entwicklung zum ",
                strategyBold: "Smartest Solution Provider",
                strategyEnd: ".",
                barsTitle: "Wie funktioniert BARS?",
                barsDesc: "Behaviorally Anchored Rating Scales: Wir bewerten Verhalten, nicht Persönlichkeit. Nutzen Sie den Guide, um den Unterschied zwischen \"Standard\" (3) und \"Role Model\" (5) zu verstehen.",
                btnCompetencies: "Kompetenzen ansehen",
                coreComp: "Kern-Kompetenzen (Für Alle)",
                leadComp: "Leadership-Kompetenzen (Führungskräfte)",
                back: "← Zurück zur Übersicht",
                selectScore: "Wählen Sie einen Score",
                example: "Praktisches Beispiel",
                dashboard: "Dashboard",
                competencies: "Kompetenzen",
                simulator: "GPS Simulator",
                gpsExplainer: "GPS Formel",
                formular: "Beurteilungsformular",
                zielvereinbarung: "Zielvereinbarung",
                level1: "Erfüllt nicht",
                level2: "Verbesserungsbedarf",
                level3: "Baseline (Standard)",
                level4: "Übertrifft Erwartungen",
                level5: "Herausragend / Role Model",
                // GPS Simulator Texte
                gpsSimTitle: "GPS Simulator: Berechnung testen",
                gpsSimDesc: "Testen Sie die Formel, indem Sie WAS (Ziele) und WIE (Kompetenzen) bewerten.",
                wasSection: "WAS: Ziele erreichen",
                wasPercent: "50% der GPS",
                wasScoreLabel: "WAS Score",
                goalName: "Ziel",
                goalWeight: "Gewicht (%)",
                goalAchievement: "Erreichung (%)",
                addGoal: "Ziel hinzufügen",
                removeGoal: "Entfernen",
                competencyWeight: "Gewicht",
                totalWeight: "Gesamtgewicht",
                shouldBe100: "sollte 100% sein",
                wieCore: "WIE: Kern-Kompetenzen",
                wieLeadership: "WIE: Leadership-Kompetenzen",
                score: "Score",
                addLeadership: "Leadership-Kompetenzen hinzufügen",
                leadershipActive: "Aktiviert (Führungskraft)",
                leadershipOptional: "Optional",
                globalPerformanceScore: "Global Performance Score",
                theMath: "The Math: Berechnung",
                wasGoals: "WAS (Ziele)",
                wieCompetencies: "WIE (Kompetenzen)",
                wieCore2: "WIE (Kern)",
                wieLeader: "WIE (Lead)",
                gpsTotal: "GPS TOTAL",
                resetSimulator: "Simulator zurücksetzen",
                // GPS Erklärungsseite
                gpsExplainerTitle: "Der Global Performance Score (GPS)",
                gpsExplainerSubtitle: "So funktioniert unsere Performance-Bewertung",
                gpsIntroTitle: "Unser ausgewogener Ansatz",
                gpsIntroText: "Der Annual Performance Review basiert auf einem ausgewogenen Ansatz. Wir bewerten nicht nur WAS erreicht wurde, sondern auch WIE es erreicht wurde. Diese Kombination nennen wir Global Performance Score und stellt sicher, dass nicht nur Ergebnisse zählen, sondern auch die Art und Weise, wie diese Ergebnisse erreicht werden.",
                gpsFormulaTitle: "Die GPS-Formel",
                gpsFormulaExplain: "Der GPS setzt sich aus drei Dimensionen zusammen:",
                wasExplainTitle: "WAS: Messbare Ergebnisse",
                wasExplainWeight: "50% Gewichtung",
                wasExplainText: "Misst die Zielerreichung. Die Messung erfolgt objektiv über eine Umrechnungstabelle (%).",
                wasExplainExample: "Beispiel: \"Umsatzziel: 500.000 € geplant, 550.000 € erreicht = 110%\"",
                wieExplainTitle: "WIE: Verhalten & Kompetenzen",
                wieCoreExplainWeight: "25% Gewichtung (Kern-Kompetenzen)",
                wieLeadExplainWeight: "25% Gewichtung (Leadership-Kompetenzen)",
                wieExplainText: "Misst die Kompetenzen anhand von Verhaltensankern (BARS). Dies sichert die Einhaltung unserer Werte.",
                wieExplainCompetencies: "Kern-Kompetenzen: Fachkompetenz & Anwendung • Kommunikation & Zusammenarbeit • Problemlösekompetenz • Anpassungsfähigkeit • Selbstorganisation | Leadership-Kompetenzen: Mitarbeiterführung & -entwicklung • Strategisches Denken • Entscheidungsfähigkeit • Execution & Performance Management • Stakeholder-Management",
                barsConversionTitle: "Umrechnung: Zielerreichung % → BARS-Stufe",
                barsConversionDesc: "Die Zielerreichung in Prozent wird in BARS-Stufen (1-5) umgerechnet:",
                performanceRatingTitle: "Performance-Rating (basierend auf GPS)",
                performanceRatingDesc: "Der finale GPS-Wert bestimmt das Performance-Rating:",
                calculationExampleTitle: "Berechnungsbeispiel",
                calculationExampleIntro: "Annahmen:",
                calculationStep1: "WAS (Zielerreichung): 4,0",
                calculationStep2: "WIE (Kern-Kompetenzen): 3,2",
                calculationStep3: "WIE (Leadership-Kompetenzen): 4,0",
                calculationFormula: "Berechnung:",
                calculationResult: "Ergebnis: GPS = 3,8 → Exceeds Expectations (4)",
                whyGPSTitle: "Warum GPS?",
                whyGPS1Title: "Fairness & Objektivität",
                whyGPS1Text: "BARS-Methodik reduziert subjektive Bewertungen durch konkrete Verhaltensanker",
                whyGPS2Title: "Strategische Ausrichtung",
                whyGPS2Text: "Verhalten wird an unseren Werten \"Schnell • Fair • Persönlich\" gemessen",
                whyGPS3Title: "Entwicklungsorientiert",
                whyGPS3Text: "Klare Verhaltensbeispiele zeigen den Weg zur nächsten Stufe auf",
                // Performance Kompass
                performanceCompassTitle: "Ihr Performance Kompass",
                performanceCompassSubtitle: "Der Global Performance Score (GPS) stellt sicher, dass wir Ihren Erfolg ganzheitlich messen: Wir bewerten nicht nur WAS erreicht wurde, sondern auch WIE es im Einklang mit unseren Werten umgesetzt wurde. Die gleichgewichtete 50/50-Formel von WAS und WIE ist die verbindliche Basis für Vergütung und Entwicklung.",
                wasBoxTitle: "50% WAS",
                wasBoxSubtitle: "Ziele & Ergebnisse (KPIs)",
                wieBoxTitle: "50% WIE",
                wieBoxSubtitle: "Verhalten & Kompetenzen (BARS)",
                fairnessGuarantee: "FAIRNESS-GARANTIE: KALIBRIERTE BEWERTUNG",
                barsRanges: {
                    outstanding: "Herausragend (>130%)",
                    exceeded: "Übertroffen (111-130%)",
                    baseline: "Baseline (90-110%)",
                    partial: "Teilweise (70-89%)",
                    notReached: "Nicht erreicht (<70%)"
                },
                ratings: {
                    outstanding: "Top Bonus / Gehaltssprung",
                    exceeds: "Basis-Bonus / Gehaltserhöhung",
                    meets: "Standard-Runde / Kein Bonus",
                    needs: "Enge Führung / PIP",
                    doesNot: "Sofortige Eskalation"
                }
            },
            it: {
                title: "Performance Manager",
                welcome: "Benvenuto",
                intro: "Questa è la tua guida interattiva per il ",
                introBold: "Niederwieser Performance Review",
                introEnd: ". Qui troverai tutti gli ancoraggi comportamentali, definizioni ed esempi per valutare le prestazioni in modo oggettivo.",
                strategyTitle: "Strategia & Visione",
                strategySubtitle: "Focus sulla trasformazione",
                strategyDesc: "I nostri valori fondamentali Fast, Fair & Personal sono la bussola verso la Strategia 2035. Con il Performance Review creiamo la trasparenza per valutare oggettivamente risultati individuali (COSA) e competenze (COME), concentrando tutti gli sforzi sull'obiettivo comune: lo sviluppo verso ",
                strategyBold: "Smartest Solution Provider",
                strategyEnd: ".",
                barsTitle: "Come funziona BARS?",
                barsDesc: "Behaviorally Anchored Rating Scales: Valutiamo il comportamento, non la personalità. Usa la guida per capire la differenza tra \"Standard\" (3) e \"Role Model\" (5).",
                btnCompetencies: "Vedi Competenze",
                coreComp: "Competenze Chiave (Per Tutti)",
                leadComp: "Competenze di Leadership (Manager)",
                back: "← Torna alla panoramica",
                selectScore: "Seleziona un punteggio",
                example: "Esempio pratico",
                dashboard: "Dashboard",
                competencies: "Competenze",
                simulator: "Simulatore GPS",
                gpsExplainer: "Formula GPS",
                formular: "Modulo di valutazione",
                zielvereinbarung: "Accordo sugli obiettivi",
                level1: "Non soddisfa",
                level2: "Richiede miglioramento",
                level3: "Baseline (Standard)",
                level4: "Supera le aspettative",
                level5: "Eccellente / Role Model",
                // GPS Simulator Texte
                gpsSimTitle: "Simulatore GPS: Testare il calcolo",
                gpsSimDesc: "Testa la formula valutando COSA (Obiettivi) e COME (Competenze).",
                wasSection: "COSA: Raggiungere obiettivi",
                wasPercent: "50% del GPS",
                wasScoreLabel: "COSA Score",
                goalName: "Obiettivo",
                goalWeight: "Peso (%)",
                goalAchievement: "Raggiungimento (%)",
                addGoal: "Aggiungi obiettivo",
                removeGoal: "Rimuovi",
                competencyWeight: "Peso",
                totalWeight: "Peso totale",
                shouldBe100: "dovrebbe essere 100%",
                wieCore: "COME: Competenze Chiave",
                wieLeadership: "COME: Competenze di Leadership",
                score: "Punteggio",
                addLeadership: "Aggiungi Competenze di Leadership",
                leadershipActive: "Attivato (Manager)",
                leadershipOptional: "Opzionale",
                globalPerformanceScore: "Global Performance Score",
                theMath: "Il Calcolo: Formula",
                wasGoals: "COSA (Obiettivi)",
                wieCompetencies: "COME (Competenze)",
                wieCore2: "COME (Chiave)",
                wieLeader: "COME (Lead)",
                gpsTotal: "GPS TOTALE",
                resetSimulator: "Resetta simulatore",
                // GPS Erklärungsseite
                gpsExplainerTitle: "Il Global Performance Score (GPS)",
                gpsExplainerSubtitle: "Come funziona la nostra valutazione delle prestazioni",
                gpsIntroTitle: "Il nostro approccio equilibrato",
                gpsIntroText: "L'Annual Performance Review si basa su un approccio equilibrato. Valutiamo non solo COSA è stato raggiunto, ma anche COME è stato raggiunto. Questa combinazione viene definita Global Performance Score e garantisce che vengano considerati non solo i risultati, ma anche il modo in cui sono stati ottenuti.",
                gpsFormulaTitle: "La Formula GPS",
                gpsFormulaExplain: "Il GPS si compone di tre dimensioni:",
                wasExplainTitle: "COSA: Risultati misurabili",
                wasExplainWeight: "Peso 50%",
                wasExplainText: "Misura il raggiungimento degli obiettivi. La misurazione avviene in modo oggettivo attraverso una tabella di conversione (%).",
                wasExplainExample: "Esempio: \"Obiettivo di fatturato: 500.000 € pianificati, 550.000 € raggiunti = 110%\"",
                wieExplainTitle: "COME: Comportamento & Competenze",
                wieCoreExplainWeight: "Peso 25% (Competenze Chiave)",
                wieLeadExplainWeight: "Peso 25% (Competenze di Leadership)",
                wieExplainText: "Misura le competenze sulla base di ancoraggi comportamentali (BARS). Ciò garantisce il rispetto dei nostri valori.",
                wieExplainCompetencies: "Competenze Chiave: Competenza tecnica & Applicazione • Comunicazione & Collaborazione • Capacità di problem solving • Adattabilità • Autogestione | Competenze di Leadership: Gestione & Sviluppo del personale • Pensiero strategico • Capacità decisionale • Execution & Performance Management • Gestione degli stakeholder",
                barsConversionTitle: "Conversione: Raggiungimento % → Livello BARS",
                barsConversionDesc: "La percentuale di raggiungimento viene convertita in livelli BARS (1-5):",
                performanceRatingTitle: "Valutazione delle Prestazioni (basata su GPS)",
                performanceRatingDesc: "Il valore GPS finale determina la valutazione delle prestazioni:",
                calculationExampleTitle: "Esempio di calcolo",
                calculationExampleIntro: "Ipotesi:",
                calculationStep1: "COSA (Raggiungimento obiettivi): 4,0",
                calculationStep2: "COME (Competenze Chiave): 3,2",
                calculationStep3: "COME (Competenze di Leadership): 4,0",
                calculationFormula: "Calcolo:",
                calculationResult: "Risultato: GPS = 3,8 → Supera le Aspettative (4)",
                whyGPSTitle: "Perché GPS?",
                whyGPS1Title: "Equità & Oggettività",
                whyGPS1Text: "La metodologia BARS riduce le valutazioni soggettive grazie ad ancoraggi comportamentali concreti",
                whyGPS2Title: "Allineamento Strategico",
                whyGPS2Text: "Il comportamento viene misurato in base ai nostri valori \"Veloce • Equo • Personale\"",
                whyGPS3Title: "Orientato allo Sviluppo",
                whyGPS3Text: "Esempi comportamentali chiari indicano il percorso verso il livello successivo",
                // Performance Kompass
                performanceCompassTitle: "La tua Bussola delle Prestazioni",
                performanceCompassSubtitle: "Il Global Performance Score (GPS) garantisce che misuriamo il vostro successo in modo olistico: valutiamo non solo COSA è stato raggiunto, ma anche COME è stato realizzato in linea con i nostri valori. La formula equilibrata 50/50 di COSA e COME è la base vincolante per retribuzione e sviluppo.",
                wasBoxTitle: "50% COSA",
                wasBoxSubtitle: "Obiettivi & Risultati (KPI)",
                wieBoxTitle: "50% COME",
                wieBoxSubtitle: "Comportamento & Competenze (BARS)",
                fairnessGuarantee: "GARANZIA DI EQUITÀ: VALUTAZIONE CALIBRATA",
                barsRanges: {
                    outstanding: "Eccellente (>130%)",
                    exceeded: "Superato (111-130%)",
                    baseline: "Baseline (90-110%)",
                    partial: "Parziale (70-89%)",
                    notReached: "Non raggiunto (<70%)"
                },
                ratings: {
                    outstanding: "Bonus Massimo / Aumento Salariale",
                    exceeds: "Bonus Base / Aumento",
                    meets: "Standard / Nessun Bonus",
                    needs: "Supervisione Stretta / PIP",
                    doesNot: "Escalation Immediata"
                }
            }
        };

        // --- FORM TEXT FOR APPRAISAL FORM ---
        const FORM_TEXT = {
            de: {
                headerTitle: "Jahresgespräch & Performance Review",
                headerSubtitle: "Annual Performance Review | Strategie 2035",
                partA: "Teil A: Gesprächsdaten",
                formType: "Art des Formulars",
                formTypeSelf: "Selbstreflexion (Mitarbeiter:in)",
                formTypeManager: "Beurteilung (Führungskraft)",
                selfReflectionNote: "⚠️ Bitte sende diese Selbstreflexion mindestens eine Woche vor dem Gespräch an deine Führungskraft.",
                partB: "Teil B: Zielerreichung (WAS) – 50% Gewichtung",
                partC: "Teil C: Kern-Kompetenzen (WIE)",
                compName: "Kompetenz",
                partCLead: "Teil C.2: Leadership-Kompetenzen",
                partC3: "Teil C.3: Global Performance Score (GPS)",
                partD: "Teil D: Stärken & Entwicklungsplanung",
                partE: "Teil E: Karriereperspektive & Zielvorstellungen",
                partF: "Teil F: Mitarbeiter-Feedback",
                partH: "Teil G: Unterschriften & Einverständnis",
                employee: "Mitarbeiter:in (Name, Vorname)",
                position: "Stellenbezeichnung / Funktion",
                manager: "Führungskraft (Name, Vorname)",
                date: "Gesprächsdatum",
                period: "Bewertungszeitraum",
                to: "bis",
                hintGPS: "Hinweis: Der GPS wird hier interaktiv berechnet. Übertragen Sie die finalen Werte aus der Kalibrierung.",
                profile: "Profil / Rolle",
                roleEmp: "Mitarbeitende (50% WAS / 50% Kern-Komp.)",
                roleMgr: "Führungskraft (50% WAS / 25% Kern / 25% Lead)",
                goalName: "Zielbezeichnung",
                weight: "Gewicht %",
                achievement: "Erreichung %",
                barsLevel: "BARS-Note",
                strengths: "D.1 Identifizierte Stärken",
                strengthsProfessional: "Fachliche Stärken (Was gelingt besonders gut?):",
                strengthsPersonal: "Persönliche Stärken (Welche Verhaltenskompetenzen zeichnen besonders aus?):",
                development: "D.2 Entwicklungsfelder & Maßnahmen",
                devIntro: "Welche Kompetenzen sollen gestärkt werden?",
                measure: "Maßnahme",
                responsible: "Verantwortlich",
                deadline: "Umsetzung bis",
                careerIntro: "Welche Zielvorstellungen hat der/die Mitarbeiter:in?",
                careerOptions: [
                    "Weiterentwicklung in höherwertige Tätigkeit",
                    "Vertiefung in der aktuellen Rolle (Spezialist:in)",
                    "Führungskarriere anstreben",
                    "Lateraler Move (anderer Bereich)",
                    "Beibehaltung der aktuellen Tätigkeit (keine Veränderung gewünscht)"
                ],
                comments: "Erläuterung:",
                feedbackIntro: "Bitte teile deine Einschätzung zur Zusammenarbeit, den Arbeitsbedingungen und Entwicklungsmöglichkeiten mit.",
                feedbackQ1: "1. Fühlst du dich ausreichend unterstützt und gefördert?",
                feedbackQ2: "2. Welche Verbesserungsvorschläge hast du (Prozesse, Tools, Arbeitsbedingungen)?",
                feedbackQ3: "3. Auf welche größeren Schwierigkeiten bist du dieses Jahr gestoßen?",
                feedbackQ4: "4. Was war dein größter persönlicher Erfolgsmoment?",
                feedbackQ5: "5. Wie nimmst du die Änderung der Unternehmensstrategie wahr?",
                feedbackQ6: "6. Welche Projekte würdest du für deine Abteilung vorschlagen?",
                feedbackQ7: "7. Wie bewertest du deine Work-Life-Balance? (1=sehr schlecht, 5=sehr gut)",
                signatureNote: "Mit der Unterschrift wird bestätigt, dass das Gespräch stattgefunden hat.",
                signatureEmp: "Unterschrift Mitarbeiter:in",
                signatureMgr: "Unterschrift Führungskraft",
                print: "Als PDF herunterladen",
                generating: "Erstelle PDF...",
                calcAuto: "Automatisch berechnet",
                totalWas: "WAS-Score",
                totalWie: "WIE-Score",
                addGoal: "Ziel hinzufügen",
                addDev: "Maßnahme hinzufügen",
                addComp: "Kompetenz hinzufügen",
                totalWeight: "Gesamtgewicht",
                shouldBe100: "sollte 100% sein",
                rating: "Rating",
                comment: "Kommentar / Begründung",
                barsCompetency: {
                    fach: {
                        1: "Erfüllt nicht – Fehlerhaft, kein fachliches Fundament",
                        2: "Verbesserungsbedarf – Standardprozesse okay, bei Abweichungen überfordert",
                        3: "Baseline – Souverän, selbstständig, qualitativ hochwertig",
                        4: "Übertrifft – Durchdringt komplexe Zusammenhänge, agiert präventiv",
                        5: "Herausragend – Fachliche Autorität, standortübergreifend anerkannt"
                    },
                    komm: {
                        1: "Erfüllt nicht – Kapselt sich ab, Absicherungs-Mentalität",
                        2: "Verbesserungsbedarf – Reaktiv, ineffiziente Kanäle",
                        3: "Baseline – Proaktiv, wertschätzend, teilt Wissen bereitwillig",
                        4: "Übertrifft – Schafft Verständnis, baut Silos ab, vermittelt bei Konflikten",
                        5: "Herausragend – Etabliert neue Standards, Netzwerk des Vertrauens"
                    },
                    prob: {
                        1: "Erfüllt nicht – Blockiert, wartet passiv auf Lösung von außen",
                        2: "Verbesserungsbedarf – Bearbeitet Symptome, eskaliert zu früh",
                        3: "Baseline – Analysiert strukturiert, findet pragmatische Lösungen",
                        4: "Übertrifft – Erkennt Muster, denkt in Lösungsalternativen",
                        5: "Herausragend – Löst strategische Probleme, Vorbild bei Krisen"
                    },
                    adapt: {
                        1: "Erfüllt nicht – Sträubt sich gegen Veränderungen",
                        2: "Verbesserungsbedarf – Wenig Eigeninitiative zur Weiterbildung",
                        3: "Baseline – Neugierig, reflektiert, passt sich zügig an",
                        4: "Übertrifft – Sucht aktiv Wissen, Katalysator für Neues",
                        5: "Herausragend – Antizipiert Trends, bereitet Organisation vor"
                    },
                    orga: {
                        1: "Erfüllt nicht – Chaotisch, hält Fristen nicht ein",
                        2: "Verbesserungsbedarf – Funktioniert unter Führung, bei Autonomie unsicher",
                        3: "Baseline – Organisiert, priorisiert, hält Commitments ein",
                        4: "Übertrifft – Vorausschauend, optimiert Prozesse, entlastet andere",
                        5: "Herausragend – Koordiniert komplexe Vorhaben, setzt Maßstäbe"
                    },
                    lead: {
                        1: "Erfüllt nicht – Kein Commitment zum Team, Mikromanagement",
                        2: "Verbesserungsbedarf – Führt nur 'gefällige' Gespräche",
                        3: "Baseline – Gibt klare Richtung, fördert individuell, coacht",
                        4: "Übertrifft – Strategisches Teamdesign, entwickelt High Performer",
                        5: "Herausragend – Baut standortübergreifende Führungskultur auf"
                    },
                    strat: {
                        1: "Erfüllt nicht – Tunnelblick, keine Weitsicht",
                        2: "Verbesserungsbedarf – Tagesgeschäft dominiert, wenig Bezug zur Strategie",
                        3: "Baseline – Übersetzt Strategie in Bereichsziele, zeigt Zusammenhänge",
                        4: "Übertrifft – Antizipiert Entwicklungen, fordert Status quo heraus",
                        5: "Herausragend – Prägt strategische Ausrichtung, M&A-Kompetenz"
                    },
                    decide: {
                        1: "Erfüllt nicht – Vermeidet Entscheidungen, delegiert ständig nach oben",
                        2: "Verbesserungsbedarf – Entscheidet nur bei perfekter Info-Lage",
                        3: "Baseline – Entscheidet zügig, transparent, steht zu Entscheidungen",
                        4: "Übertrifft – Trifft auch unbequeme Entscheidungen, dosiert Risiko klug",
                        5: "Herausragend – Entscheidet strategisch mit Mut, bei Unsicherheit souverän"
                    },
                    exec: {
                        1: "Erfüllt nicht – Plant nicht, keine Verbindlichkeit",
                        2: "Verbesserungsbedarf – Nachverfolgung inkonsistent, lässt nachsichtig durchgehen",
                        3: "Baseline – Klare Ziele, nachvollziehbare Erwartungen, fordert ein",
                        4: "Übertrifft – Stringent, balanciert Druck & Förderung, denkt in KPIs",
                        5: "Herausragend – Performance-Kultur über Standorte hinweg"
                    },
                    stake: {
                        1: "Erfüllt nicht – Ignoriert Stakeholder, provoziert Konflikte",
                        2: "Verbesserungsbedarf – Reagiert nur auf Eskalationen",
                        3: "Baseline – Pflegt proaktiv Beziehungen, moderiert sachlich",
                        4: "Übertrifft – Orchestriert Stakeholder, findet Win-Win-Lösungen",
                        5: "Herausragend – Diplomatie auf Executive-Level, verhindert Eskalationen"
                    }
                }
            },
            it: {
                headerTitle: "Colloquio Annuale & Performance Review",
                headerSubtitle: "Annual Performance Review | Strategia 2035",
                partA: "Parte A: Dati del Colloquio",
                formType: "Tipo di modulo",
                formTypeSelf: "Autoriflessione (Collaboratore)",
                formTypeManager: "Valutazione (Manager)",
                selfReflectionNote: "⚠️ Si prega di inviare questa autoriflessione al proprio manager almeno una settimana prima del colloquio.",
                partB: "Parte B: Raggiungimento Obiettivi (COSA) – Peso 50%",
                partC: "Parte C: Competenze Chiave (COME)",
                compName: "Competenza",
                partCLead: "Parte C.2: Competenze Leadership",
                partC3: "Parte C.3: Global Performance Score (GPS)",
                partD: "Parte D: Punti di forza & Pianificazione Sviluppo",
                partE: "Parte E: Prospettiva di carriera & Obiettivi",
                partF: "Parte F: Feedback del Collaboratore",
                partH: "Parte G: Firme & Accettazione",
                employee: "Collaboratore (Cognome, Nome)",
                position: "Posizione / Funzione",
                manager: "Responsabile (Cognome, Nome)",
                date: "Data del colloquio",
                period: "Periodo di valutazione",
                to: "al",
                hintGPS: "Nota: Il GPS viene calcolato interattivamente qui. Trasferire i valori finali dalla calibrazione.",
                profile: "Profilo / Ruolo",
                roleEmp: "Collaboratore (50% COSA / 50% Comp. Chiave)",
                roleMgr: "Manager (50% COSA / 25% Chiave / 25% Lead)",
                goalName: "Descrizione Obiettivo",
                weight: "Peso %",
                achievement: "Raggiunto %",
                barsLevel: "Voto BARS",
                strengths: "D.1 Punti di forza identificati",
                strengthsProfessional: "Punti di forza tecnici (Cosa riesce particolarmente bene?):",
                strengthsPersonal: "Punti di forza personali (Quali competenze comportamentali si distinguono?):",
                development: "D.2 Aree di sviluppo & Misure",
                devIntro: "Quali competenze devono essere rafforzate?",
                measure: "Misura",
                responsible: "Responsabile",
                deadline: "Attuazione entro",
                careerIntro: "Quali obiettivi di carriera ha il collaboratore?",
                careerOptions: [
                    "Sviluppo verso attività di livello superiore",
                    "Approfondimento nel ruolo attuale (Specialista)",
                    "Aspirazione alla carriera manageriale",
                    "Spostamento laterale (altro settore)",
                    "Mantenimento dell'attività attuale (nessun cambiamento desiderato)"
                ],
                comments: "Spiegazione:",
                feedbackIntro: "Condividi la tua valutazione sulla collaborazione, le condizioni di lavoro e le opportunità di sviluppo.",
                feedbackQ1: "1. Ti senti sufficientemente supportato e incoraggiato?",
                feedbackQ2: "2. Quali suggerimenti di miglioramento hai (processi, strumenti, condizioni di lavoro)?",
                feedbackQ3: "3. Quali difficoltà maggiori hai incontrato quest'anno?",
                feedbackQ4: "4. Qual è stato il tuo più grande momento di successo personale?",
                feedbackQ5: "5. Come percepisci il cambiamento della strategia aziendale?",
                feedbackQ6: "6. Quali progetti proporresti per il tuo reparto?",
                feedbackQ7: "7. Come valuti il tuo equilibrio vita-lavoro? (1=molto scarso, 5=molto buono)",
                signatureNote: "La firma conferma che il colloquio ha avuto luogo.",
                signatureEmp: "Firma Collaboratore",
                signatureMgr: "Firma Responsabile",
                print: "Scarica come PDF",
                generating: "Generazione PDF...",
                calcAuto: "Calcolato automaticamente",
                totalWas: "Score COSA",
                totalWie: "Score COME",
                addGoal: "Aggiungi Obiettivo",
                addDev: "Aggiungi Misura",
                addComp: "Aggiungi Competenza",
                totalWeight: "Peso Totale",
                shouldBe100: "dovrebbe essere 100%",
                rating: "Rating",
                comment: "Commento / Motivazione",
                barsCompetency: {
                    fach: {
                        1: "Non soddisfa – Lacune evidenti, nessuna base tecnica",
                        2: "Necessita miglioramento – Processi standard ok, in difficoltà con deviazioni",
                        3: "Baseline – Autonomo, affidabile, alta qualità",
                        4: "Supera – Padroneggia contesti complessi, agisce preventivamente",
                        5: "Eccezionale – Autorità tecnica, riconosciuto tra sedi"
                    },
                    komm: {
                        1: "Non soddisfa – Si isola, mentalità difensiva",
                        2: "Necessita miglioramento – Reattivo, canali inefficienti",
                        3: "Baseline – Proattivo, rispettoso, condivide conoscenze",
                        4: "Supera – Crea comprensione, abbatte silos, media conflitti",
                        5: "Eccezionale – Stabilisce nuovi standard, rete di fiducia"
                    },
                    prob: {
                        1: "Non soddisfa – Blocca, attende passivamente soluzioni esterne",
                        2: "Necessita miglioramento – Tratta sintomi, escalation prematura",
                        3: "Baseline – Analizza strutturalmente, trova soluzioni pragmatiche",
                        4: "Supera – Riconosce pattern, pensa in alternative",
                        5: "Eccezionale – Risolve problemi strategici, modello nelle crisi"
                    },
                    adapt: {
                        1: "Non soddisfa – Resiste ai cambiamenti",
                        2: "Necessita miglioramento – Poca iniziativa per formazione",
                        3: "Baseline – Curioso, riflette, si adatta rapidamente",
                        4: "Supera – Cerca attivamente conoscenza, catalizzatore per novità",
                        5: "Eccezionale – Anticipa trend, prepara organizzazione"
                    },
                    orga: {
                        1: "Non soddisfa – Caotico, non rispetta scadenze",
                        2: "Necessita miglioramento – Funziona sotto guida, insicuro in autonomia",
                        3: "Baseline – Organizzato, prioritizza, mantiene impegni",
                        4: "Supera – Previdente, ottimizza processi, alleggerisce altri",
                        5: "Eccezionale – Coordina progetti complessi, stabilisce standard"
                    },
                    lead: {
                        1: "Non soddisfa – Nessun impegno per team, micromanagement",
                        2: "Necessita miglioramento – Conduce solo conversazioni 'comode'",
                        3: "Baseline – Direzione chiara, sviluppo individuale, coaching",
                        4: "Supera – Design strategico team, sviluppa high performer",
                        5: "Eccezionale – Costruisce cultura leadership cross-site"
                    },
                    strat: {
                        1: "Non soddisfa – Visione tunnel, nessuna lungimiranza",
                        2: "Necessita miglioramento – Domina operatività, poco legame strategico",
                        3: "Baseline – Traduce strategia in obiettivi, mostra connessioni",
                        4: "Supera – Anticipa sviluppi, sfida status quo",
                        5: "Eccezionale – Plasma direzione strategica, competenza M&A"
                    },
                    decide: {
                        1: "Non soddisfa – Evita decisioni, delega sempre verso l'alto",
                        2: "Necessita miglioramento – Decide solo con informazioni perfette",
                        3: "Baseline – Decide rapidamente, trasparente, sostiene decisioni",
                        4: "Supera – Prende decisioni scomode, dosa rischio intelligentemente",
                        5: "Eccezionale – Decide strategicamente con coraggio, sovrano nell'incertezza"
                    },
                    exec: {
                        1: "Non soddisfa – Non pianifica, nessuna affidabilità",
                        2: "Necessita miglioramento – Follow-up incoerente, troppo indulgente",
                        3: "Baseline – Obiettivi chiari, aspettative comprensibili, richiede risultati",
                        4: "Supera – Rigoroso, bilancia pressione & supporto, pensa in KPI",
                        5: "Eccezionale – Cultura performance cross-site"
                    },
                    stake: {
                        1: "Non soddisfa – Ignora stakeholder, provoca conflitti",
                        2: "Necessita miglioramento – Reagisce solo a escalation",
                        3: "Baseline – Coltiva relazioni proattivamente, modera oggettivamente",
                        4: "Supera – Orchestra stakeholder, trova soluzioni win-win",
                        5: "Eccezionale – Diplomazia executive-level, previene escalation"
                    }
                }
            }
        };

        const CORE_COMPETENCIES_CALC = [
          { id: 'fach', name: 'Fachkompetenz & Anwendung', nameIt: 'Competenza tecnica & Applicazione', weight: 20 },
          { id: 'komm', name: 'Kommunikation & Zusammenarbeit', nameIt: 'Comunicazione & Collaborazione', weight: 20 },
          { id: 'prob', name: 'Problemlösekompetenz', nameIt: 'Capacità di problem solving', weight: 20 },
          { id: 'adapt', name: 'Anpassungsfähigkeit', nameIt: 'Adattabilità', weight: 20 },
          { id: 'orga', name: 'Selbstorganisation', nameIt: 'Autogestione', weight: 20 },
        ];

        const LEADERSHIP_COMPETENCIES_CALC = [
          { id: 'lead', name: 'Mitarbeiterführung & -entwicklung', nameIt: 'Gestione & Sviluppo del personale', weight: 20 },
          { id: 'strat', name: 'Strategisches Denken', nameIt: 'Pensiero strategico', weight: 20 },
          { id: 'decide', name: 'Entscheidungsfähigkeit', nameIt: 'Capacità decisionale', weight: 20 },
          { id: 'exec', name: 'Execution & Performance Mgmt', nameIt: 'Execution & Performance Mgmt', weight: 20 },
          { id: 'stake', name: 'Stakeholder-Mgmt & Konflikte', nameIt: 'Gestione degli stakeholder & Conflitti', weight: 20 },
        ];

        const DEFAULTS = {
            de: {
                core: CORE_COMPETENCIES_CALC.map(c => ({...c, id: Math.random(), rating: 3, comment: ''})),
                lead: LEADERSHIP_COMPETENCIES_CALC.map(c => ({...c, id: Math.random(), rating: 3, comment: ''}))
            },
            it: {
                core: CORE_COMPETENCIES_CALC.map(c => ({...c, id: Math.random(), name: c.nameIt, rating: 3, comment: ''})),
                lead: LEADERSHIP_COMPETENCIES_CALC.map(c => ({...c, id: Math.random(), name: c.nameIt, rating: 3, comment: ''}))
            }
        };

        // --- APPLICATION DATA (Competencies and Levels) ---
        const APP_DATA = {
          de: {
            intro: {
              values: [
                { key: "Fast", desc: "Wir agieren schnell und lösungsorientiert.", icon: Zap, color: "text-yellow-600" },
                { key: "Fair", desc: "Wir arbeiten respektvoll und auf Augenhöhe zusammen.", icon: Scale, color: "text-blue-600" },
                { key: "Personal", desc: "Wir übernehmen Verantwortung und gestalten aktiv.", icon: Heart, color: "text-red-600" }
              ]
            },
            competencies: [
            {
              id: "c1",
              title: "Fachkompetenz & Anwendung",
              category: "core",
              icon: Briefcase,
              definition: `Bewertet spezifisches Fachwissen und dessen Anwendung. Es geht nicht nur um theoretisches Können, sondern den Beitrag zu Prozesssicherheit und Qualität.`,
              levels: {
                1: { 
                  text: `Der/die Mitarbeitende verfügt nicht über das für die Position zwingend erforderliche fachliche Fundament. Aufgaben werden häufig fehlerhaft oder unvollständig ausgeführt (z. B. falsche Dateneingaben, Fehlbedienung von Anlagen, Falschauskünfte an Kunden), was zu Nacharbeit, Beschwerden oder Risiken führt. Es fehlt das Verständnis für die fachlichen Standards und Regeln des eigenen Bereichs. Auch nach Einarbeitung oder Feedback treten dieselben inhaltlichen Fehler wiederholt auf. Der/die Mitarbeitende zeigt wenig Antrieb, diese Wissenslücken eigenständig zu schließen. Komplexe Zusammenhänge des eigenen Fachgebiets werden nicht durchdrungen; man verlässt sich darauf, dass andere die fachliche Richtigkeit prüfen.`, 
                  example: `Admin: Pflegt Stammdaten wiederholt falsch ein, versteht die Auswirkung auf Rechnungen nicht.` 
                },
                2: { 
                  text: `Der/die Mitarbeitende beherrscht Standardprozesse und Routineaufgaben in seinem Fachgebiet sicher, stößt aber bei Abweichungen, Spezialfällen oder neuen Anforderungen schnell an Grenzen. Das Wissen wird eher nach „Vorschrift“ angewendet, ohne das tiefere „Warum“ oder die Auswirkungen auf angrenzende Bereiche zu verstehen. Zur Lösung von fachlichen Problemen wird primär auf Anweisung gewartet oder sofort eskaliert, anstatt vorhandene Ressourcen (Dokumentation, Recherche, System-Hilfen) zu nutzen. Die Qualität der Arbeitsergebnisse ist schwankend, insbesondere wenn es stressig wird. Fachliche Neuerungen (z.B. neue Software-Features, geänderte Kundenanforderungen) werden nur zögerlich adaptiert.`, 
                  example: `IT: Löst Standard-Passwörter, ist aber bei komplexeren Netzwerkproblemen sofort überfordert und eskaliert ohne Diagnose.` 
                },
                3: { 
                  text: `BASELINE: Der/die Mitarbeitende beherrscht sein Aufgabengebiet souverän. Er/Sie liefert konstant qualitativ hochwertige Ergebnisse (z.B. korrekte Auftragsabwicklung, stabile Systemverfügbarkeit, präzise Werkstücke) und arbeitet im Tagesgeschäft vollkommen selbstständig. Auftretende fachliche Probleme werden eigenständig analysiert und pragmatisch gelöst. Er/Sie kennt die relevanten Tools, Richtlinien und Systeme seiner Funktion im Detail und nutzt sie effizient. Der/die Mitarbeitende hält sein Fachwissen aktuell und setzt es so ein, dass Prozesse reibungslos laufen. Man kann sich darauf verlassen, dass die Aufgaben fachlich korrekt und termingerecht („Fast & Fair“) erledigt werden.`, 
                  example: `Produktion: Bedient Anlage sicher, hält Vorgaben ein. Behebt kleine Störungen selbstständig.` 
                },
                4: { 
                  text: `Der/die Mitarbeitende durchdringt auch komplexe fachliche Zusammenhänge tiefgehend und erkennt Wechselwirkungen, die anderen entgehen (z.B. wie eine Änderung im Auftrag die Produktionsplanung beeinflusst). Er/Sie agiert präventiv: Risiken oder Fehlerquellen werden identifiziert und eliminiert, bevor sie zum Problem werden. Das Fachwissen wird genutzt, um bestehende Abläufe aktiv zu optimieren und effizienter zu gestalten. Kollegen wenden sich bei kniffligen fachlichen Fragen aktiv an diese Person („Go-to-Person“). Der/die Mitarbeitende gibt Wissen proaktiv weiter und sorgt für einen hohen Standard im Team. Er/Sie blickt über den eigenen Schreibtisch hinaus und versteht die Anforderungen der internen Schnittstellenpartner genau.`, 
                  example: `Customer Service: Prüft bei spezifischer Frage proaktiv mit Labor die Machbarkeit und schlägt sicherere Alternative vor.` 
                },
                5: { 
                  text: `Der/die Mitarbeitende gilt als absolute fachliche Autorität auf seinem Gebiet, deren Expertise auch standortübergreifend (Sulzberg/Bozen/Campogalliano) geschätzt und angefragt wird. Er/Sie nutzt sein exzellentes Wissen, um signifikante Verbesserungen für die Gruppe zu erzielen (z. B. Einführung konzernweiter Standards im Customer Service, massive Effizienzsteigerung durch neue IT-Lösungen). Diese Person fungiert als Multiplikator. Sie bereitet komplexes Fachwissen so auf, dass es für die Organisation nutzbar wird (z.B. Schulungen, Best-Practice-Leitfäden). Er/Sie antizipiert zukünftige Entwicklungen im Fachbereich (z.B. Markttrends, neue Technologien) und bereitet das Unternehmen proaktiv darauf vor. Fachliche Exzellenz wird hier zum direkten Mehrwert für den Unternehmenserfolg.`, 
                  example: `Group Function: Entwickelt einheitlichen Service-Standard für alle Standorte (DE/IT), schult Teams, sorgt für 'One Voice'.` 
                }
              }
            },
            {
              id: "c2",
              title: "Kommunikation & Zusammenarbeit",
              category: "core",
              icon: MessageCircle,
              definition: `Qualität des Informationsaustauschs und das Miteinander. 'One Niederwieser' bedeutet: Zusammenarbeit endet nicht an der Bürotür oder Ländergrenze.`,
              levels: {
                1: { 
                  text: `Der/die Mitarbeitende behält arbeitskritische Informationen für sich oder gibt sie so unvollständig/spät weiter, dass Kollegen oder Kunden aktiv nachhaken müssen oder Fehler entstehen. Er/Sie kapselt sich ab und zeigt kein Interesse an gemeinsamer Zielerreichung. Bei Problemen oder Anfragen wird Verantwortung abgeschoben („Nicht meine Zuständigkeit“) oder Unterstützung verweigert. Die Kommunikation ist oft geprägt von einer „Absicherungs-Mentalität“ (z. B. CC-Schlachten) statt Lösungsorientierung. Konflikte werden ignoriert, hinter dem Rücken ausgetragen oder unsachlich eskaliert. Das Verhalten verletzt die Grundwerte des Respekts und der Fairness.`, 
                  example: `Produktion: Gibt bei Schichtübergabe trotz Störung nur ein kurzes 'Alles okay' weiter, um schnell nach Hause zu kommen.` 
                },
                2: { 
                  text: `Der/die Mitarbeitende kommuniziert primär reaktiv: Informationen fließen oft erst auf explizite Nachfrage („Holschuld“ statt „Bringschuld“). Er/Sie fokussiert sich stark auf den eigenen Aufgabenbereich und blendet die Bedürfnisse angrenzender Abteilungen oder Kollegen aus. In Meetings oder Projekten bringt er/sie sich kaum proaktiv ein. Der gewählte Kommunikationskanal ist häufig ineffizient (z. B. langes Hin-und-Her-Schreiben bei komplexen Themen statt eines kurzen, klärenden Anrufs – entgegen dem Prinzip „Phone before Email“). Feedback wird oft persönlich genommen oder defensiv abgewehrt. Die Zusammenarbeit funktioniert im Routinebetrieb, wird aber bei Stress, Unklarheit oder abteilungsübergreifenden Themen schnell holprig.`, 
                  example: `Backoffice: Schreibt tagelang E-Mails hin und her statt den Fall in 2 Minuten telefonisch zu klären.` 
                },
                3: { 
                  text: `BASELINE: Der/die Mitarbeitende informiert Kollegen und Schnittstellenpartner proaktiv, vollständig und rechtzeitig über alles Relevante (z.B. Status-Updates, Verzögerungen, Abwesenheiten). Er/Sie wählt situationsbedingt den effizientesten Kanal (greift zum Hörer, wenn Dinge schnell geklärt werden müssen). Der Umgangston ist stets wertschätzend und auf Augenhöhe, unabhängig von Hierarchie oder Standort. Er/Sie bietet Kollegen Unterstützung an, wenn Not am Mann ist, und teilt Wissen bereitwillig. In Meetings ist er/sie präsent, gut vorbereitet und konstruktiv. Konflikte werden sachlich und direkt angesprochen. Er/Sie trägt stabil zu einer positiven, professionellen Arbeitsatmosphäre bei.`, 
                  example: `Sales: Informiert bei Lieferverzug sofort Kunden und Außendienst proaktiv mit neuem Termin.` 
                },
                4: { 
                  text: `Der/die Mitarbeitende kommuniziert nicht nur Informationen, sondern schafft Verständnis. Er/Sie passt die Kommunikation gezielt an das Gegenüber an (z. B. übersetzt technische Details für Laien, bereitet Daten für Entscheider auf) und stellt sicher, dass die Botschaft korrekt ankommt. Er/Sie agiert aktiv als Bindeglied zwischen Abteilungen und baut Silos ab. Bei Konflikten oder Missverständnissen im Team übernimmt er/sie eine vermittelnde Rolle und sucht nach einer gemeinsamen Lösung („Win-Win“), anstatt Recht haben zu wollen. Er/Sie gibt konstruktives, entwicklungsorientiertes Feedback, das anderen hilft, besser zu werden. Die Zusammenarbeit mit dieser Person macht das gesamte Umfeld messbar effizienter und motivierter.`, 
                  example: `Schnittstelle: Moderiert bei Konflikt zwischen Produktion und Service, schafft Regelung für Eilaufträge.` 
                },
                5: { 
                  text: `Der/die Mitarbeitende etabliert neue Standards der Zusammenarbeit, die über das eigene Team hinauswirken (z. B. Initiierung regelmäßiger Austauschformate zwischen den Standorten Sulzberg und Campogalliano oder zwischen Sales und Technik). Er/Sie lebt die Werte Fast, Fair, Personal so vorbildlich, dass er/sie als Rollenmodell wirkt und andere mitreißt. Er/Sie schafft ein Netzwerk des Vertrauens im gesamten Unternehmen und nutzt dieses, um komplexe, abteilungsübergreifende Probleme schnell und unbürokratisch zu lösen. Er/Sie wird bei schwierigen Kommunikationssituationen (z. B. Change-Prozesse, Krisen) als Mentor oder Mediator hinzugezogen. Er/Sie sorgt aktiv dafür, dass wir intern und extern „mit einer Stimme“ sprechen.`, 
                  example: `HR: Initiiert standortübergreifendes Sounding Board, um kulturelle Unterschiede zwischen Bozen und Sulzberg zu klären.` 
                }
              }
            },
            {
              id: "c3",
              title: "Problemlösekompetenz",
              category: "core",
              icon: ShieldAlert,
              definition: `Umgang mit Hindernissen. Wir unterscheiden Troubleshooting (Symptome) vs. Ursachenforschung (Wurzel).`,
              levels: {
                1: { 
                  text: `Der/die Mitarbeitende erkennt Probleme oft erst, wenn sie bereits eskaliert sind, oder ignoriert offensichtliche Warnsignale (z.B. Fehlermeldungen, Kundenbeschwerden, Qualitätsabweichungen). Er/Sie zeigt keine Eigeninitiative zur Lösung, sondern wartet passiv auf Anweisungen („Dienst nach Vorschrift“). Bei Schwierigkeiten wird schnell aufgegeben oder die Verantwortung auf andere (Kollegen, IT, Lieferanten) geschoben. Fehler werden vertuscht oder kleingeredet, statt sie offen anzusprechen. Es findet kein Lernen aus Fehlern statt: Das exakt gleiche Problem tritt immer wieder auf, ohne dass das Verhalten geändert wird.`, 
                  example: `Admin: Klickt Fehlermeldung im ERP einfach weg, ohne Info. Am Monatsende stimmen Zahlen nicht.` 
                },
                2: { 
                  text: `Der/die Mitarbeitende meldet Probleme zwar („Hier stimmt was nicht“), trägt aber kaum selbst zur Lösung bei. Er/Sie verlässt sich stark auf die Führungskraft oder erfahrene Kollegen, um den Weg aus der Krise zu finden. Lösungsversuche bleiben oft an der Oberfläche: Es werden Symptome bekämpft (z. B. Maschine einfach neustarten, Kunde vertrösten), aber nicht die eigentlichen Ursachen. Sobald ein erstes Hindernis bei der Lösungsfindung auftaucht, stoppt der Prozess. Er/Sie benötigt detaillierte Anleitung, um auch Standardprobleme zu beheben. Es fehlt der Blick für die Konsequenzen: Eine „schnelle Lösung“ schafft oft an anderer Stelle neue Probleme.`, 
                  example: `Produktion: Reduziert Maschinengeschwindigkeit damit Falten verschwinden, statt mechanische Ursache zu suchen.` 
                },
                3: { 
                  text: `BASELINE: Der/die Mitarbeitende erkennt Probleme im eigenen Aufgabenbereich frühzeitig und geht sie eigenständig an. Er/Sie nutzt verfügbare Informationen (Daten, Handbücher, Historie) und Werkzeuge, um pragmatische Lösungen zu finden, die funktionieren. Er/Sie unterscheidet sicher, was er/sie selbst lösen kann und wann eine Eskalation notwendig ist – informiert dann aber präzise und lösungsorientiert (kommt mit einem Vorschlag, nicht nur mit der Beschwerde). Die Lösungen sind solide und nachhaltig für den Arbeitsalltag. Er/Sie bleibt auch in stressigen Situationen handlungsfähig („Kühler Kopf“). Nach einem Fehler wird Verantwortung übernommen („Accountability“) und korrigiert, statt Ausreden zu suchen.`, 
                  example: `Customer Service: Lokalisiert fehlende Ware, informiert Kunden ehrlich, löst Konflikt professionell.` 
                },
                4: { 
                  text: `Der/die Mitarbeitende löst nicht nur das akute Problem, sondern betreibt systematische Ursachenforschung (z.B. „5-Why“-Methode, Datenanalyse), um zu verstehen, warum es passiert ist. Er/Sie entwickelt Maßnahmen, die verhindern, dass der Fehler jemals wieder auftritt (Fehlervermeidung). Er/Sie denkt über den eigenen Bereich hinaus: Wenn ein Problem Schnittstellen betrifft (z. B. Übergabe Sales an Produktion), wird das aktiv adressiert und gelöst. Er/Sie unterstützt Kollegen bei schwierigen Herausforderungen und bringt kreative, unkonventionelle Ansätze ein, wenn Standardlösungen nicht greifen. Probleme werden als Chance zur Verbesserung begriffen.`, 
                  example: `Logistik: Analysiert Verspätungs-Daten, spricht mit Spediteur und passt Abholprozess dauerhaft an.` 
                },
                5: { 
                  text: `Der/die Mitarbeitende identifiziert komplexe, strukturelle Probleme oder Risiken, die anderen noch gar nicht aufgefallen sind, und entwickelt dafür umfassende Konzepte. Die Lösungen haben oft positiven Einfluss auf mehrere Abteilungen oder Standorte der Gruppe (Sulzberg/Bozen/Campogalliano). Er/Sie etabliert neue Standards oder „Best Practices“ zur Problemlösung, die im Unternehmen übernommen werden. Er/Sie verwandelt Probleme in echte Innovationen oder Wettbewerbsvorteile für Niederwieser. Bei Krisen übernimmt er/sie informell die Führung („Troubleshooter“) und navigiert das Team sicher durch unsicheres Terrain.`, 
                  example: `Quality: Initiiert Task-Force für Materialfehler über Standorte hinweg, führt neuen Gruppen-Standard ein.` 
                }
              }
            },
            {
              id: "c4",
              title: "Anpassungsfähigkeit & Lernbereitschaft",
              category: "core",
              icon: BookOpen,
              definition: `Wille, sich auf neue Rahmenbedingungen (IT, Markt, Prozesse) einzustellen. 'Growth Mindset' statt Status Quo.`,
              levels: {
                1: { 
                  text: `Der/die Mitarbeitende reagiert auf Neuerungen (z.B. neue Software, Umstrukturierungen) mit offener Ablehnung, Zynismus oder Blockadehaltung. Er/Sie hält starr an veralteten Methoden fest („Das haben wir schon immer so gemacht“) und weigert sich, neue Fähigkeiten zu erlernen. Veränderungen führen zu einem massiven Leistungseinbruch oder schlechter Laune, die das Team ansteckt. Er/Sie benötigt unverhältnismäßig viel Überzeugungsarbeit und Druck, um selbst kleinste Anpassungen im Arbeitsablauf umzusetzen. Feedback zur persönlichen Weiterentwicklung wird ignoriert oder als Angriff gewertet.`, 
                  example: `Lager: Weigert sich, neue Scanner zu nutzen, führt private Handlisten weiter.` 
                },
                2: { 
                  text: `Der/die Mitarbeitende akzeptiert Veränderungen erst nach längerem Zögern oder Murren. Er/Sie wartet ab, ob die Neuerung „wirklich bleibt“, bevor er/sie sich bewegt. Das Erlernen neuer Aufgaben oder Systeme dauert deutlich länger als bei vergleichbaren Kollegen, da die innere Motivation fehlt. Er/Sie zeigt wenig Eigeninitiative zur Weiterbildung; neues Wissen wird nur angeeignet, wenn es explizit angeordnet oder „vorgekaut“ wird. In Stresssituationen oder bei unklaren neuen Anforderungen fällt er/sie schnell in alte, ineffiziente Verhaltensmuster zurück. Die Anpassungsfähigkeit reicht für dynamische Phasen nicht aus.`, 
                  example: `Finance: Druckt trotz papierlosem System weiter Mails aus. Lernt neuen Prozess nur langsam.` 
                },
                3: { 
                  text: `BASELINE: Der/die Mitarbeitende geht konstruktiv mit Veränderungen um und passt seine Arbeitsweise an neue Gegebenheiten an. Er/Sie setzt neue Vorgaben (z. B. Nutzung eines neuen Tools, geänderter Schichtplan) verlässlich und ohne großes Klagen um. Die Einarbeitung in neue Themen erfolgt in angemessener Zeit. Er/Sie erkennt, wann Wissen fehlt, und nutzt die angebotenen Schulungen oder Hilfsmittel, um die Lücke zu schließen. Er/Sie blockiert Innovationen nicht, sondern trägt sie im Tagesgeschäft mit. Man kann sich darauf verlassen, dass er/sie auch in einem sich wandelnden Umfeld stabil seine Leistung bringt („Fair“ gegenüber dem Team).`, 
                  example: `Sales: Nimmt an Schulung für neue nachhaltige Folien teil und berät Kunden ab Stichtag kompetent.` 
                },
                4: { 
                  text: `Der/die Mitarbeitende sieht Veränderungen als Chance zur Verbesserung. Er/Sie wartet nicht auf Schulungen, sondern eignet sich neues Wissen (z. B. über neue Produkte, Markttrends oder Software-Kniffe) eigenständig an. Er/Sie experimentiert mit neuen Lösungsansätzen und teilt die Erkenntnisse mit dem Team. In Phasen des Umbruchs wirkt er/sie stabilisierend auf andere und hilft Kollegen, die sich mit der Veränderung schwerer tun (z.B. als „Buddy“ bei neuen Systemen). Er/Sie hinterfragt den Status quo konstruktiv und macht Vorschläge, wie man sich besser an neue Anforderungen anpassen kann.`, 
                  example: `Service: Klickt sich schon vor Schulung durch neues CRM, hilft danach Kollegen beim Start.` 
                },
                5: { 
                  text: `Der/die Mitarbeitende antizipiert notwendige Veränderungen oft früher als andere und bereitet sich und das Umfeld proaktiv darauf vor (z.B. Erwerb von Zukunftskompetenzen, bevor sie akut gebraucht werden). Er/Sie treibt Innovationen voran, die das Unternehmen zukunftsfähig machen (z. B. Pilotierung komplett neuer Arbeitsweisen). Er/Sie etabliert eine Kultur des Lernens im eigenen Bereich, indem er/sie Fehler als Lernchance vorlebt und andere zum Ausprobieren ermutigt („Empowerment“). Er/Sie agiert als Leuchtturm bei strategischen Großprojekten (z.B. Harmonisierung der Standorte) und schafft Begeisterung für den neuen Weg, selbst bei anfänglichen Widerständen.`, 
                  example: `IT: Initiiert eigenständig KI-Pilotprojekt (Copilot), klärt Datenschutz und schult andere Standorte.` 
                }
              }
            },
            {
              id: "c5",
              title: "Selbstorganisation & Zuverlässigkeit",
              category: "core",
              icon: Clock,
              definition: `Strukturierung der Arbeit, Priorisierung und Accountability. Kann man sich auf das Wort verlassen?`,
              levels: {
                1: { 
                  text: `Der/die Mitarbeitende arbeitet unsystematisch und ohne erkennbare Struktur. Aufgaben werden vergessen, Deadlines ohne Vorwarnung gerissen oder Termine versäumt. Er/Sie lässt sich leicht ablenken und verliert den Fokus auf das Wesentliche. Die Führungskraft oder Kollegen müssen ständig nachfassen („Babysitting“), damit Ergebnisse geliefert werden. Es fehlt der Überblick über offene Aufgaben; Zusagen werden leichtfertig gemacht und nicht eingehalten. Der Arbeitsplatz (physisch oder digital) ist unorganisiert, sodass wichtige Unterlagen oder Informationen nicht griffbereit sind. Die Unzuverlässigkeit belastet das Team massiv.`, 
                  example: `Sales: Vergisst Besuchsberichte, verlegt Zettel mit Kundenanfragen. Kein Überblick.` 
                },
                2: { 
                  text: `Der/die Mitarbeitende erledigt einfache Routineaufgaben zuverlässig, gerät aber bei mehreren parallelen Aufgaben oder Zeitdruck schnell ins Schwimmen. Er/Sie hat Schwierigkeiten, Wichtiges von Unwichtigem zu unterscheiden (macht z.B. das, was Spaß macht, zuerst, nicht das, was eilt). Planung findet nur sehr kurzfristig (von Tag zu Tag) statt. Wenn es eng wird, kommuniziert er/sie dies nicht rechtzeitig, sondern erst, wenn das Kind bereits in den Brunnen gefallen ist. Die Qualität der Arbeit leidet unter fehlender Sorgfalt oder Zeitmanagement. Er/Sie benötigt regelmäßige Steuerung und Erinnerungen durch die Führungskraft, um auf Kurs zu bleiben.`, 
                  example: `Werkstatt: Räumt auf, obwohl dringende Eil-Reparatur die Produktion blockiert.` 
                },
                3: { 
                  text: `BASELINE: Der/die Mitarbeitende organisiert seinen Arbeitsalltag selbstständig. Er/Sie priorisiert Aufgaben sinnvoll nach Dringlichkeit und Wichtigkeit. Zusagen und Termine werden verlässlich eingehalten. Sollte eine Deadline gefährdet sein, informiert er/sie proaktiv und rechtzeitig („Transparency“), bevor ein Schaden entsteht. Er/Sie behält auch bei normaler Arbeitsbelastung den Überblick und arbeitet effizient. Unterlagen, Daten und Arbeitsmittel sind so organisiert, dass sie jederzeit verfügbar sind. Die Führungskraft muss nicht kontrollieren, ob Aufgaben erledigt werden – das Ergebnis kommt verlässlich („Fire and Forget“).`, 
                  example: `Admin: Hat Wiedervorlage im Griff. Meldet drohenden Verzug beim Abschluss proaktiv 2 Tage vorher.` 
                },
                4: { 
                  text: `Der/die Mitarbeitende plant vorausschauend (Wochen/Monate) und erkennt Engpässe, bevor sie entstehen (z.B. Urlaubszeiten, Projekt-Deadlines). Er/Sie optimiert aktiv die eigene Arbeitsweise, um produktiver zu sein (z. B. Nutzung digitaler Tools, Checklisten, Bündelung von Aufgaben). Er/Sie bleibt auch unter hohem Druck oder bei unvorhergesehenen Ereignissen strukturiert und strahlt Ruhe aus. Er/Sie dokumentiert Arbeitsschritte so transparent, dass Kollegen im Vertretungsfall nahtlos übernehmen können. Er/Sie unterstützt weniger organisierte Kollegen dabei, Struktur zu finden.`, 
                  example: `Projektmanagement: Bereitet Aufgaben für Urlaubszeit wochenlang vor ('Vorratsarbeit').` 
                },
                5: { 
                  text: `Der/die Mitarbeitende entwickelt Organisationssysteme oder Workflows, die nicht nur ihm/ihr selbst, sondern dem ganzen Team oder der Abteilung helfen, effizienter zu arbeiten (z. B. Einführung eines Kanban-Boards, Standardisierung der Ablage für die Gruppe). Er/Sie managt hochkomplexe Aufgabenpakete mit vielen Abhängigkeiten (z. B. standortübergreifende Projekte) souverän und termingerecht. Er/Sie gilt als „sicherer Hafen“ für kritische Aufgaben: Wenn er/sie es übernimmt, ist der Erfolg garantiert. Er/Sie schafft durch exzellente Organisation Freiräume für strategische Themen und Innovationen.`, 
                  example: `Marketing: Etabliert digitales Planungstool für alle Standorte (Sulzberg/Bozen/Campo), eliminiert Doppelarbeit.` 
                }
              }
            },
            {
              id: "l1",
              title: "Mitarbeiterführung & -entwicklung", // Korrigierte Titel
              category: "leadership",
              icon: Users,
              definition: `Steuerung, Motivation und Entwicklung des Teams. 'Leadership' statt nur 'Management'.`, // Geändert für DE
              levels: {
                1: { 
                  text: `Die Führungskraft vernachlässigt ihre Kernaufgaben: Mitarbeitergespräche (Jahresgespräch, Check-ins) finden nicht statt, sind extrem verspätet oder werden als lästige Pflichtübung abgehandelt. Es gibt kein konstruktives Feedback; Kritik erfolgt oft unsachlich oder vor anderen. Entwicklungswünsche der Mitarbeitenden werden ignoriert oder blockiert („Dafür haben wir keine Zeit“). Ziele werden unklar oder gar nicht kommuniziert, was zu Orientierungslosigkeit führt. Das Verhalten widerspricht unseren Werten massiv (z.B. Respektlosigkeit, „Divide and Conquer“). Im Team herrscht eine Atmosphäre der Angst oder Gleichgültigkeit, was zu hoher Fluktuation oder innerer Kündigung führt.`, 
                  example: `Prod-Leiter: Sagt Jahresgespräch 3x ab, führt es dann in 15min zwischen Tür und Angel.` 
                },
                2: { 
                  text: `Die Führungskraft erledigt die administrativen Pflichten (Urlaubsfreigabe, formale Gespräche), aber ohne Tiefe. Feedback gibt es meist nur, wenn etwas schiefgelaufen ist (reaktiv), kaum Lob oder Orientierung für die Zukunft. Die Führungsarbeit beschränkt sich auf das Zuweisen von Aufgaben („Micromanagement“), statt Verantwortung zu delegieren. Entwicklungspläne (IDPs) werden zwar ausgefüllt, verschwinden dann aber in der Schublade und werden nicht nachverfolgt. Die Führungskraft nimmt sich zu wenig Zeit für das Team („Tür zu“). Es fehlt an Klarheit und Inspiration; das Team arbeitet „Dienst nach Vorschrift“, aber nicht mehr.`, 
                  example: `Teamleiter: Nutzt Copy-Paste für Ziele. Antwortet auf Entwicklungswunsch vage 'Schauen wir mal'.` 
                },
                3: { 
                  text: `BASELINE: Die Führungskraft führt alle verpflichtenden Gespräche (Review, Zielsetzung) pünktlich, gut vorbereitet und auf Augenhöhe durch. Sie sorgt für klare Ziele und Erwartungen, sodass jeder weiß, was zu tun ist. Feedback erfolgt regelmäßig und fair – sowohl positiv als auch korrigierend. Sie unterstützt die fachliche Weiterentwicklung (z.B. Genehmigung von Schulungen) und ist für die Mitarbeitenden bei Problemen ansprechbar. Sie lebt die Werte „Fast, Fair, Personal“ im Alltag vor und sorgt für ein stabiles, positives Arbeitsklima. Sie behandelt alle Teammitglieder gerecht und diskriminierungsfrei.`, 
                  example: `Sales Director: Regelmäßige Check-ins, lobt Erfolge, spricht Defizite offen an. Team kennt Ziele.` 
                },
                4: { 
                  text: `Die Führungskraft nutzt Führung aktiv, um Mitarbeitende besser zu machen. Sie delegiert nicht nur Aufgaben, sondern Verantwortung, um Wachstum zu ermöglichen („Empowerment“). Sie führt regelmäßige, informelle Feedback-Gespräche (über den Standardprozess hinaus) und nutzt Coaching-Methoden, um Mitarbeitende zur eigenen Lösungsfindung anzuregen. Sie erkennt Potenziale proaktiv und schlägt individuelle Entwicklungsmaßnahmen vor (z. B. Projektleitung, Job Rotation). Sie schafft eine Teamkultur, in der Fehler offen besprochen werden, um daraus zu lernen. Die Zusammenarbeit mit dieser Person macht das gesamte Umfeld messbar effizienter und motivierter.`, 
                  example: `IT-Leiter: Delegiert Projektleitung an Talent, gibt spezifisches Feedback, stärkt Selbstvertrauen.` 
                },
                5: { 
                  text: `Die Führungskraft baut systematisch Nachfolger auf und entwickelt High-Potentials auch über den eigenen Bedarf hinaus (für die Gruppe). Sie gilt als Mentor im gesamten Unternehmen, dessen Rat auch von Mitarbeitenden anderer Bereiche gesucht wird. Sie schafft ein Umfeld der Exzellenz, in dem sich Talente entfalten können, und bindet Leistungsträger langfristig an Niederwieser. Sie steuert die Personalplanung strategisch vorausschauend (z.B. für die nächsten 2-3 Jahre) und sorgt dafür, dass das Team bereit für zukünftige Herausforderungen der Strategie 2035. Unter ihrer Führung entstehen Innovationen und überdurchschnittliche Ergebnisse durch Synergieeffekte.`, 
                  example: `Manager: Empfiehlt Top-Mitarbeiter proaktiv für Stelle an anderem Standort, statt ihn zu 'horten'.` 
                }
              }
            },
            {
              id: "l2",
              title: "Strategisches Denken",
              category: "leadership",
              icon: Brain,
              definition: `Das 'große Ganze' sehen. Weg vom Silo-Denken hin zum Gruppen-Denken ('One Niederwieser').`,
              levels: {
                1: { 
                  text: `Die Führungskraft handelt fast ausschließlich reaktiv und verliert sich im Mikromanagement des Tagesgeschäfts („Firefighting“). Sie zeigt kein Interesse an der Unternehmensstrategie oder versteht sie nicht. Entscheidungen werden isoliert für die eigene Abteilung getroffen, oft sogar zum Nachteil anderer Bereiche oder der Gruppe (Suboptimierung). Sie plant Budget und Ressourcen nur für den momentanen Bedarf ohne Weitblick. Strategische Initiativen der Geschäftsleitung werden ignoriert, belächelt oder als „störend“ für den Betrieb empfunden. Das Team hat keine Orientierung, wohin die Reise langfristig geht.`, 
                  example: `Prod-Leiter: Produziert auf Halde für 100% Auslastung, obwohl Vertrieb das Produkt nicht verkauft.` 
                },
                2: { 
                  text: `Die Führungskraft kennt die Schlagworte der Strategie (z. B. Nachhaltigkeit, Wachstum), schafft es aber nicht, diese in den Alltag ihres Teams zu integrieren. Strategie bleibt Theorie („Folie an der Wand“), während operativ „weiter wie bisher“ gearbeitet wird. Planung erfolgt meist nur kurzfristig (Quartal/Jahr). Zusammenhänge zwischen Abteilungen oder Standorten werden nur erkannt, wenn man explizit darauf hingewiesen wird. Sie wartet darauf, dass Strategie „von oben“ vorgegeben wird, statt selbst Vorschläge für den eigenen Bereich zu entwickeln.`, 
                  example: `Sales: Kennt Nachhaltigkeits-Ziel, steuert Team aber weiter nur über reine Menge/Umsatz.` 
                },
                3: { 
                  text: `BASELINE: Die Führungskraft leitet die Ziele ihres Bereichs logisch aus der Unternehmensstrategie ab. Sie erklärt ihrem Team das „Warum“ hinter Entscheidungen und stellt sicher, dass alle an einem Strang ziehen. Sie berücksichtigt bei ihrer Planung (Budget, Personal, Kapazität) einen Horizont von 12-18 Monaten. Sie erkennt relevante Trends im eigenen Fachbereich (z. B. Digitalisierung in der Admin, neue Technologien in der Produktion) und passt die Ausrichtung ihres Teams rechtzeitig an. Sie denkt über Standortgrenzen hinweg und unterstützt die Harmonisierung der Gruppe („One Niederwieser“), indem sie Standards einhält und Kooperation fördert.`, 
                  example: `IT-Leiter: Plant Budget proaktiv für Harmonisierung der ERP-Systeme (Bozen/Sulzberg).` 
                },
                4: { 
                  text: `Die Führungskraft erkennt Markt- oder interne Veränderungen, bevor sie offensichtlich werden, und bereitet ihren Bereich proaktiv darauf vor. Sie entwickelt eigeninitiativ strategische Vorschläge (z.B. neue Geschäftsfelder, strukturelle Anpassungen), die über das Tagesgeschäft hinausgehen. Sie sucht aktiv nach Synergien mit anderen Standorten (z.B. gemeinsame Nutzung von Ressourcen zwischen Sulzberg und Campogalliano) und bricht Silos auf. Sie denkt in Szenarien („Was wäre, wenn...“) und hat Plan B in der Tasche. Sie wird von Peers als strategischer Sparringspartner geschätzt.`, 
                  example: `Marketing: Schichtet Budget von Produktwerbung auf 'Solution-Kampagnen' um, bevor Markt dreht.` 
                },
                5: { 
                  text: `Die Führungskraft entwickelt Konzepte, die das Geschäftsmodell oder die Arbeitsweise der gesamten Gruppe nachhaltig verändern (z.B. Erschließung eines neuen Marktes, Einführung einer bahnbrechenden Technologie). Ihre Ideen fließen direkt in die Weiterentwicklung der Unternehmensstrategie ein. Sie erkennt disruptive Risiken oder Chancen sehr früh und steuert das Unternehmen durch mutige Entscheidungen in eine erfolgreiche Richtung. Sie gilt intern und extern als Vordenker („Thought Leader“) und inspiriert nicht nur das eigene Team, sondern die ganze Organisation, größer zu denken.`, 
                  example: `Standortleiter: Erarbeitet Business Case für Übernahme in Nische, ermöglicht Markteinstieg.` 
                }
              }
            },
            {
              id: "l3",
              title: "Entscheidungsfähigkeit",
              category: "leadership",
              icon: Target,
              definition: `Zeitnah und verbindlich entscheiden, auch unter Unsicherheit. Balance zwischen Analyse und Speed.`,
              levels: {
                1: { 
                  text: `Die Führungskraft trifft Entscheidungen extrem zögerlich oder gar nicht („Aussitzen“). Dringende Themen bleiben liegen, wodurch Fristen verstreichen oder Chancen verloren gehen. Sie fordert für kleinste Entscheidungen immer wieder neue Daten an oder delegiert die Entscheidung an den Vorgesetzten („Rückdelegation“), um bloß keinen Fehler zu machen. Getroffene Entscheidungen werden bei leichtem Gegenwind sofort revidiert („Flip-Flopping“), was das Team verunsichert. Wenn eine Entscheidung falsch war, sucht sie die Schuld bei anderen oder den Umständen, statt Verantwortung zu übernehmen. Es fehlt der Mut zur Klarheit.`, 
                  example: `Einkauf: Entscheidet wochenlang nicht über Preiserhöhung. Frist läuft ab, Konditionen werden schlechter.` 
                },
                2: { 
                  text: `Die Führungskraft entscheidet oft zu spät, sodass das Team in Warteposition verharrt. Sie verlässt sich zu stark auf Bauchgefühl oder Einzelmeinungen, statt verfügbare Fakten und Daten („Data driven“) hinzuzuziehen. Entscheidungen werden „im stillen Kämmerlein“ getroffen und dem Team ohne Begründung vorgesetzt. Schwierige oder unpopuläre Entscheidungen (z. B. Absagen an Bewerber, Stoppen von Projekten) werden aufgeschoben, in der Hoffnung, dass sich das Problem von selbst löst. Die Führungskraft braucht viel Rückversicherung von oben, um sich sicher zu fühlen.`, 
                  example: `Recruiting: Kann sich nicht zwischen Kandidaten entscheiden. Beide springen ab.` 
                },
                3: { 
                  text: `BASELINE: Die Führungskraft trifft Entscheidungen im Tagesgeschäft zeitnah und sicher. Sie wägt Chancen und Risiken vernünftig ab und nutzt die vorhandenen Informationen effizient. Sie kommuniziert die Entscheidung und das „Warum“ dahinter klar an ihr Team und betroffene Schnittstellen. Sie steht auch dann zu ihrer Entscheidung, wenn es Kritik gibt, ist aber bereit, den Kurs zu korrigieren, wenn neue Fakten auf den Tisch kommen (keine Sturheit). Sie unterscheidet sicher, was sie selbst entscheiden darf und was eskaliert werden muss – und liefert bei Eskalationen eine klare Empfehlung mit.`, 
                  example: `Schichtleiter: Entscheidet nachts selbstständig Umplanung bei Maschinenausfall, informiert Planung.` 
                },
                4: { 
                  text: `Die Führungskraft bleibt auch in unübersichtlichen Situationen, unter Zeitdruck oder bei unvollständiger Informationslage handlungsfähig. Sie trifft mutige Entscheidungen („Courage“), um Stillstand zu vermeiden, und managt das Risiko aktiv. Sie bezieht relevante Stakeholder (z.B. andere Standorte) rechtzeitig ein, um die Qualität der Entscheidung zu sichern, verliert sich aber nicht in endlosen Abstimmungsschleifen. Sie erklärt auch unpopuläre Entscheidungen so transparent und wertschätzend („Fair“), dass das Team sie mittragen kann.`, 
                  example: `Sales Dir: Lehnt unprofitablen Großauftrag mutig ab ('Courage'), erklärt Strategie 'Wert vor Volumen'.` 
                },
                5: { 
                  text: `Die Führungskraft trifft wegweisende Entscheidungen, die positive Auswirkungen weit über den eigenen Bereich hinaus haben (z.B. für die gesamte Gruppe). In Krisensituationen übernimmt sie sofort das Steuer, schafft Ruhe und gibt durch klare Entscheidungen Sicherheit und Orientierung. Sie etabliert Prinzipien oder Rahmenbedingungen, die es ihren Mitarbeitenden ermöglichen, selbstständig bessere Entscheidungen zu treffen („Empowerment“). Sie hat den Mut, alte Zöpfe abzuschneiden (z. B. unrentable Projekte oder Produkte zu stoppen), um Ressourcen für Neues freizumachen.`, 
                  example: `IT-Group: Kappt bei Cyber-Verdacht sofort alle Verbindungen der Gruppe, nimmt Prod-Ausfall in Kauf.` 
                }
              }
            },
            {
              id: "l4",
              title: "Execution & Performance",
              category: "leadership",
              icon: TrendingUp,
              definition: `Ziele in Ergebnisse umsetzen. Daten nutzen ('Clarity'), Prozesse beherrschen und konsequent steuern.`,
              levels: {
                1: { 
                  text: `Die Führungskraft arbeitet ohne erkennbaren Plan oder Struktur. Projekte und Aufgaben werden begonnen, aber nicht konsequent zu Ende geführt. Es gibt keine klaren Meilensteine oder Verantwortlichkeiten. Die Leistung des Teams wird nicht gemessen oder gesteuert; Abweichungen (z.B. Budgetüberzug, Terminverzug) fallen erst auf, wenn es zu spät ist. Ziele werden regelmäßig und deutlich verfehlt, ohne dass die Führungskraft gegensteuert oder die Ursachen analysiert. Es herrscht eine Kultur der Ausreden statt der Ergebnisse.`, 
                  example: `Projektleiter: Software-Rollout Monate überfällig. Kein neuer Plan, keine Info an User.` 
                },
                2: { 
                  text: `Die Führungskraft ist bemüht, verliert aber im Tagesgeschäft oft den Fokus. Planung erfolgt eher grob („Wird schon passen“), Risiken oder Engpässe werden nicht antizipiert. Die Steuerung erfolgt sporadisch (z.B. nur wenn der Chef nachfragt), nicht systematisch. Ziele werden teilweise erreicht, aber oft nur durch hektische „Last-Minute-Aktionen“ (Feuerlöschen) auf Kosten der Qualität oder der Mitarbeiter-Ressourcen. Es fehlt an Transparenz darüber, wo das Team wirklich steht. Prozesse werden nicht eingehalten oder ständig umgangen, um kurzfristige Ergebnisse zu erzwingen.`, 
                  example: `Sales: Merkt Zielverfehlung erst am 25., macht Druck für schlechte Margen-Deals.` 
                },
                3: { 
                  text: `BASELINE: Die Führungskraft plant Aufgaben und Projekte strukturiert mit realistischen Zeitplänen und Ressourcen. Sie definiert klare Erfolgskriterien (KPIs) und überprüft den Fortschritt regelmäßig (z.B. in Jour Fixes). Bei Abweichungen greift sie zeitnah ein und leitet Korrekturmaßnahmen ein, um das Ziel noch zu erreichen. Sie sorgt dafür, dass ihr Team die vereinbarten Ziele (Qualität, Kosten, Zeit) verlässlich erfüllt. Sie kommuniziert den Status transparent an Vorgesetzte und Schnittstellen. Man kann sich auf ihre Zusagen verlassen („Fair“).`, 
                  example: `Resp. Prod: Organisiert sofort Samstagsschicht bei Ausfall, informiert Vertrieb proaktiv.` 
                },
                4: { 
                  text: `Die Führungskraft verwaltet nicht nur, sondern optimiert aktiv. Sie nutzt Daten und Kennzahlen systematisch, um Ineffizienzen oder Bottlenecks aufzudecken, bevor sie zum Problem werden. Sie etabliert Routinen, die eine konstant hohe Performance sicherstellen. Sie liefert Ergebnisse oft schneller („Fast“) oder kostengünstiger als geplant, ohne die Qualität zu gefährden. Sie schafft es, auch bei unvorhergesehenen Hindernissen (z.B. Krankheitswelle, Lieferausfall) den Betrieb stabil zu halten, weil sie Szenarien vorausgeplant hat.`, 
                  example: `HR: Analysiert Prozess, führt digitales Tool ein, verkürzt 'Time-to-Hire' drastisch.` 
                },
                5: { 
                  text: `Die Führungskraft etabliert Best-Practice-Prozesse, die als Vorbild für die gesamte Gruppe dienen (z.B. ein neues Reporting-System, das später in Sulzberg und Bozen ausgerollt wird). Sie treibt kontinuierliche Verbesserung (KVP) so voran, dass Performance-Sprünge (z. B. signifikante Senkung der Ausschussquote oder Durchlaufzeit) erreicht werden. Sie schafft eine Hochleistungskultur, in der das Team sich selbstständig steuert und permanent übertrifft. Sie realisiert strategische Großprojekte in „Time, Budget & Quality“ und liefert damit einen direkten Beitrag zum Unternehmenserfolg („1 Result“).`, 
                  example: `Logistik: Bündelt Transporte Sulzberg/Bozen, senkt Kosten um 15% durch neues Cross-Docking.` 
                }
              }
            },
            {
              id: "l5",
              title: "Stakeholder & Konfliktlösung",
              category: "leadership",
              icon: Award,
              definition: `Beziehungen pflegen, politische Interessen moderieren. Brückenbauer zwischen Silos.`,
              levels: {
                1: { 
                  text: `Die Führungskraft ignoriert die Interessen anderer Abteilungen oder Standorte komplett. Sie kommuniziert nicht mit wichtigen Stakeholdern, was zu Überraschungen und Widerständen führt. In Konflikten verhält sie sich destruktiv: Sie sucht Schuldige statt Lösungen, redet schlecht über andere Bereiche („Die da oben/unten“) oder trägt Konflikte aggressiv und unsachlich aus. Alternativ werden Konflikte ignoriert oder ausgesessen, bis sie eskalieren. Das Verhalten beschädigt das Vertrauen und die Zusammenarbeit in der Gruppe massiv.`, 
                  example: `Prod-Leiter: Schimpft über 'unfähige Verkäufer' statt Machbarkeit direkt zu klären.` 
                },
                2: { 
                  text: `Die Führungskraft pflegt Beziehungen nur, wenn sie akut etwas braucht (transaktional). Sie vergisst häufig, relevante Partner (z.B. HR, IT, andere Standorte) rechtzeitig einzubinden, was Projekte verzögert. Sie erkennt politische Fettnäpfchen oft zu spät. Bei Konflikten reagiert sie defensiv oder zieht sich zurück, um „den Frieden zu wahren“, obwohl eine Klärung nötig wäre. Lösungen sind oft faule Kompromisse, die niemanden zufriedenstellen. Sie tut sich schwer, die Perspektive des Gegenübers einzunehmen.`, 
                  example: `Projektleiter: Vergisst Betriebsrat zu informieren. Zieht Projekt beleidigt zurück bei Veto.` 
                },
                3: { 
                  text: `BASELINE: Die Führungskraft kennt ihre wichtigsten Stakeholder und hält sie regelmäßig informiert. Sie stimmt sich proaktiv ab, um Missverständnisse zu vermeiden. Sie begegnet Partnern – egal ob intern oder extern – respektvoll und auf Augenhöhe. Konflikte werden zeitnah („Fast“) angesprochen und sachlich diskutiert. Sie vertritt die Interessen ihres Bereichs, ist aber bereit, Argumente der Gegenseite zu hören und faire Lösungen zu finden. Sie sorgt dafür, dass die Zusammenarbeit reibungslos funktioniert.`, 
                  example: `Service/Supply: Legt Zahlen offen, einigt sich sachlich auf Mindestbestand (Kompromiss).` 
                },
                4: { 
                  text: `Die Führungskraft baut aktiv ein belastbares Netzwerk über Abteilungsgrenzen hinweg auf. Sie antizipiert potenzielle Konflikte (z.B. Ressourcenengpässe zwischen Projekten) und moderiert diese präventiv, bevor sie eskalieren. Sie versteht die Zwänge und Ziele der anderen Seite und bietet Lösungen an, die beiden helfen („Win-Win“). Sie wird von anderen Abteilungen als verlässlicher Partner geschätzt, der nicht nur fordert, sondern auch unterstützt. Sie kann auch schwierige Botschaften diplomatisch und wertschätzend vermitteln.`, 
                  example: `Quality: Reist an Standorte, moderiert Workshop für gemeinsamen Standard.` 
                },
                5: { 
                  text: `Die Führungskraft löst komplexe, verfahrene Konflikte (z. B. kulturelle Spannungen zwischen Standorten oder historische Grabenkämpfe), an denen andere gescheitert sind. Sie schafft es, unterschiedliche Interessen auf das gemeinsame strategische Ziel („One Niederwieser“) auszurichten. Sie etabliert Gremien oder Formate, die den Austausch und das Stakeholder-Management strukturell verbessern. Sie genießt höchstes Vertrauen bei der Geschäftsführung und den Belegschaftsvertretungen und nutzt dieses Kapital zum Wohle des Unternehmens. Sie macht aus Gegnern Partner.`, 
                  example: `Manager: Rompe vecchi silos, integra team ostili in un'unità di successo.` 
                }
              }
            }
          ],
          },
          it: {
            intro: {
              values: [
                { key: "Fast", desc: "Agiamo velocemente e orientati alla soluzione.", icon: Zap, color: "text-yellow-600" },
                { key: "Fair", desc: "Lavoriamo insieme con rispetto e alla pari.", icon: Scale, color: "text-blue-600" },
                { key: "Personal", desc: "Ci assumiamo la responsabilità e partecipiamo attivamente.", icon: Heart, color: "text-red-600" }
              ]
            },
            competencies: [
            {
              id: "c1",
              title: "Competenza tecnica & Applicazione",
              category: "core",
              icon: Briefcase,
              definition: `Valuta le conoscenze tecniche specifiche e la loro applicazione. Non si tratta solo di abilità teoriche, ma del contributo alla sicurezza dei processi e alla qualità.`,
              levels: {
                1: { 
                  text: `Il collaboratore non possiede le basi tecniche essenziali richieste per la posizione. I compiti vengono eseguiti frequentemente in modo errato o incompleto (es. inserimento dati errati, uso scorretto degli impianti, informazioni errate ai clienti), portando a rilavorazioni, reclami o rischi. Manca la comprensione degli standard tecnici e delle regole del proprio settore. Anche dopo la formazione o il feedback, si verificano ripetutamente gli stessi errori di contenuto. Il collaboratore mostra poca iniziativa nel colmare autonomamente queste lacune. I contesti complessi del proprio campo non vengono compresi; si fa affidamento sugli altri per verificare la correttezza tecnica.`, 
                  example: `Admin: Inserisce ripetutamente i dati anagrafici in modo errato, non comprende l'impatto sulle fatture.` 
                },
                2: { 
                  text: `Il collaboratore padroneggia i processi standard e i compiti di routine nel suo campo, ma raggiunge rapidamente i limiti in caso di deviazioni, casi speciali o nuove esigenze. La conoscenza viene applicata più secondo le "prescrizioni", senza comprendere il "perché" più profondo o gli effetti sulle aree adiacenti. Per risolvere problemi tecnici si attende principalmente un'istruzione o si scala immediatamente, invece di utilizzare le risorse disponibili (documentazione, ricerca, guide di sistema). La qualità dei risultati è altalenante, specialmente sotto stress. Le novità tecniche (es. nuove funzionalità software, richieste dei clienti modificate) vengono adottate con esitazione.`, 
                  example: `IT: Risolve problemi di password standard, ma è subito sopraffatto da problemi di rete più complessi e scala senza diagnosi.` 
                },
                3: { 
                  text: `BASELINE: Il collaboratore padroneggia il suo ambito di competenza con sicurezza. Fornisce costantemente risultati di alta qualità (es. corretta gestione degli ordini, stabilità del sistema, pezzi precisi) e lavora in totale autonomia nel quotidiano. I problemi tecnici che si presentano vengono analizzati autonomamente e risolti pragmaticamente. Conosce nel dettaglio gli strumenti, le linee guida e i sistemi rilevanti della sua funzione e li utilizza in modo efficiente. Il collaboratore mantiene aggiornate le sue conoscenze tecniche e le utilizza affinché i processi scorrano senza intoppi. Ci si può fidare che i compiti vengano svolti in modo tecnicamente corretto e puntuale ("Fast & Fair").`, 
                  example: `Produzione: Opera l'impianto in sicurezza, rispetta le specifiche. Risolve autonomamente piccoli guasti.` 
                },
                4: { 
                  text: `Il collaboratore comprende a fondo anche contesti tecnici complessi e riconosce interazioni che sfuggono ad altri (es. come una modifica nell'ordine influenza la pianificazione della produzione). Agisce preventivamente: rischi o fonti di errore vengono identificati ed eliminati prima che diventino un problema. La conoscenza tecnica viene utilizzata per ottimizzare attivamente i processi esistenti e renderli più efficienti. I colleghi si rivolgono attivamente a questa persona per domande tecniche difficili ("Go-to-Person"). Il collaboratore trasmette proattivamente le conoscenze e garantisce un alto standard nel team. Guarda oltre la propria scrivania e comprende esattamente le esigenze dei partner di interfaccia interni.`, 
                  example: `Customer Service: Verifica proattivamente la fattibilità con il laboratorio su domande specifiche e propone alternative più sicure.` 
                },
                5: { 
                  text: `Il collaboratore è considerato un'autorità tecnica assoluta nel suo campo, la cui competenza è apprezzata e richiesta anche tra le diverse sedi (Sulzberg/Bolzano/Campogalliano). Utilizza la sua eccellente conoscenza per ottenere miglioramenti significativi per il gruppo (es. introduzione di standard a livello di gruppo nel Customer Service, massiccio aumento dell'efficienza tramite nuove soluzioni IT). Questa persona funge da moltiplicatore. Elabora conoscenze complesse in modo che siano utilizzabili per l'organizzazione (es. corsi di formazione, linee guida best practice). Anticipa sviluppi futuri nel settore (es. trend di mercato, nuove tecnologie) e prepara l'azienda proattivamente. L'eccellenza tecnica diventa qui un valore aggiunto diretto per il successo aziendale.`, 
                  example: `Group Function: Sviluppa standard di servizio uniformi per tutte le sedi (DE/IT), forma i team, garantisce 'One Voice'.` 
                }
              }
            },
            {
              id: "c2",
              title: "Comunicazione & Collaborazione",
              category: "core",
              icon: MessageCircle,
              definition: `Qualità dello scambio di informazioni e della convivenza. 'One Niederwieser' significa: La collaborazione non finisce alla porta dell'ufficio o al confine nazionale.`,
              levels: {
                1: { 
                  text: `Il collaboratore tiene per sé informazioni critiche per il lavoro o le trasmette in modo così incompleto/tardivo che colleghi o clienti devono chiedere attivamente o si verificano errori. Si isola e non mostra interesse per il raggiungimento degli obiettivi comuni. In caso di problemi o richieste, la responsabilità viene scaricata ("Non è mia competenza") o il supporto viene rifiutato. La comunicazione è spesso caratterizzata da una "mentalità difensiva" (es. battaglie in CC) invece che orientata alla soluzione. I conflitti vengono ignorati, gestiti alle spalle o scalati in modo non oggettivo. Il comportamento viola i valori fondamentali di rispetto e correttezza.`, 
                  example: `Produzione: Al cambio turno, nonostante un guasto, comunica solo un breve 'Tutto ok' per andare a casa presto.` 
                },
                2: { 
                  text: `Il collaboratore comunica principalmente in modo reattivo: le informazioni fluiscono spesso solo su richiesta esplicita ("Dovere di informarsi" invece di "Dovere di informare"). Si concentra fortemente sulla propria area di competenza e ignora le esigenze dei reparti adiacenti o dei colleghi. In riunioni o progetti contribuisce raramente in modo proattivo. Il canale di comunicazione scelto è spesso inefficiente (es. lunghi scambi di email su argomenti complessi invece di una breve chiamata chiarificatrice – contrariamente al principio "Phone before Email"). Il feedback viene spesso preso sul personale o respinto in modo difensivo. La collaborazione funziona nella routine, ma diventa rapidamente difficile in caso di stress, incertezza o temi interfunzionali.`, 
                  example: `Backoffice: Scrive email avanti e indietro per giorni invece di chiarire il caso in 2 minuti al telefono.` 
                },
                3: { 
                  text: `BASELINE: Il collaboratore informa colleghi e partner di interfaccia in modo proattivo, completo e tempestivo su tutto ciò che è rilevante (es. aggiornamenti di stato, ritardi, assenze). Sceglie il canale più efficiente in base alla situazione (prende il telefono se le cose devono essere chiarite rapidamente). Il tono è sempre rispettoso e alla pari, indipendentemente dalla gerarchia o dalla sede. Offre supporto ai colleghi in caso di necessità e condivide volentieri le conoscenze. Nelle riunioni è presente, ben preparato e costruttivo. I conflitti vengono affrontati in modo oggettivo e diretto. Contribuisce stabilmente a un'atmosfera lavorativa positiva e professionale.`, 
                  example: `Sales: In caso di ritardo nella consegna, informa subito proattivamente cliente e agente con nuova data.` 
                },
                4: { 
                  text: `Il collaboratore non comunica solo informazioni, ma crea comprensione. Adatta la comunicazione in modo mirato all'interlocutore (es. traduce dettagli tecnici per i non addetti ai lavori, prepara dati per i decisori) e assicura che il messaggio arrivi correttamente. Agisce attivamente come legame tra i reparti e abbatte i silos. In caso di conflitti o malintesi nel team, assume un ruolo di mediazione e cerca una soluzione comune ("Win-Win"), invece di voler avere ragione. Fornisce feedback costruttivi e orientati allo sviluppo che aiutano gli altri a migliorare. La collaborazione con questa persona rende l'intero ambiente misurabilmente più efficiente e motivato.`, 
                  example: `Interfaccia: Modera in caso di conflitto tra produzione e servizio, crea regolamentazione per ordini urgenti.` 
                },
                5: { 
                  text: `Il collaboratore stabilisce nuovi standard di collaborazione che vanno oltre il proprio team (es. avvio di formati di scambio regolari tra le sedi di Sulzberg e Campogalliano o tra Sales e Tecnica). Vive i valori Fast, Fair, Personal in modo così esemplare da fungere da modello e trascinare gli altri. Crea una rete di fiducia nell'intera azienda e la utilizza per risolvere problemi complessi e interfunzionali in modo rapido e non burocratico. Viene coinvolto come mentore o mediatore in situazioni comunicative difficili (es. processi di cambiamento, crisi). Si assicura attivamente che parliamo internamente ed esternamente "con una sola voce".`, 
                  example: `HR: Avvia Sounding Board inter-sede per chiarire differenze culturali tra Bolzano e Sulzberg.` 
                }
              }
            },
            {
              id: "c3",
              title: "Competenza nel Problem Solving",
              category: "core",
              icon: ShieldAlert,
              definition: `Gestione degli ostacoli. Distinguiamo tra Troubleshooting (sintomi) e ricerca delle cause (radice).`,
              levels: {
                1: { 
                  text: `Il collaboratore riconosce i problemi spesso solo quando sono già degenerati, o ignora segnali di avvertimento evidenti (es. messaggi di errore, reclami clienti, deviazioni di qualità). Non mostra iniziativa per la soluzione, ma attende passivamente istruzioni ("Lavoro secondo prescrizione"). Di fronte alle difficoltà si arrende rapidamente o scarica la responsabilità su altri (colleghi, IT, fornitori). Gli errori vengono nascosti o minimizzati invece di parlarne apertamente. Non c'è apprendimento dagli errori: lo stesso identico problema si verifica ancora e ancora senza che il comportamento venga modificato.`, 
                  example: `Admin: Chiude semplicemente il messaggio di errore nell'ERP, senza info. A fine mese i numeri non tornano.` 
                },
                2: { 
                  text: `Il collaboratore segnala i problemi ("Qui c'è qualcosa che non va"), ma contribuisce poco alla soluzione. Si affida molto al responsabile o a colleghi esperti per trovare la via d'uscita dalla crisi. I tentativi di soluzione rimangono spesso in superficie: si combattono i sintomi (es. riavviare semplicemente la macchina, temporeggiare col cliente), ma non le cause reali. Appena sorge un primo ostacolo nella ricerca della soluzione, il processo si ferma. Necessita di istruzioni dettagliate per risolvere anche problemi standard. Manca la visione delle conseguenze: una "soluzione rapida" crea spesso nuovi problemi altrove.`, 
                  example: `Produzione: Riduce velocità macchina per nascondere pieghe, invece di cercare causa meccanica.` 
                },
                3: { 
                  text: `BASELINE: Il collaboratore riconosce tempestivamente i problemi nel proprio ambito di competenza e li affronta autonomamente. Utilizza le informazioni disponibili (dati, manuali, storico) e gli strumenti per trovare soluzioni pragmatiche che funzionano. Distingue con sicurezza cosa può risolvere da solo e quando è necessaria un'escalation – informando poi in modo preciso e orientato alla soluzione (arriva con una proposta, non solo con il lamento). Le soluzioni sono solide e sostenibili per il lavoro quotidiano. Rimane capace di agire anche in situazioni stressanti ("Sangue freddo"). Dopo un errore si assume la responsabilità ("Accountability") e corregge, invece di cercare scuse.`, 
                  example: `Customer Service: Localizza merce mancante, informa cliente onestamente, risolve conflitto professionalmente.` 
                },
                4: { 
                  text: `Il collaboratore non risolve solo il problema acuto, ma conduce una ricerca sistematica delle cause (es. metodo "5-Why", analisi dati) per capire perché è successo. Sviluppa misure che impediscono che l'errore si verifichi di nuovo (prevenzione errori). Pensa oltre il proprio ambito: se un problema riguarda le interfacce (es. passaggio Sales a Produzione), questo viene indirizzato e risolto attivamente. Supporta i colleghi in sfide difficili e apporta approcci creativi e non convenzionali quando le soluzioni standard non funzionano. I problemi vengono concepiti come opportunità di miglioramento.`, 
                  example: `Logistica: Analizza dati ritardi, parla con spedizioniere e adatta processo di ritiro permanentemente.` 
                },
                5: { 
                  text: `Il collaboratore identifica problemi complessi e strutturali o rischi che altri non hanno ancora notato e sviluppa concetti completi per risolverli. Le soluzioni hanno spesso un impatto positivo su più reparti o sedi del gruppo (Sulzberg/Bolzano/Campogalliano). Stabilisce nuovi standard o "Best Practices" per la risoluzione dei problemi che vengono adottati in azienda. Trasforma i problemi in vere innovazioni o vantaggi competitivi per Niederwieser. Nelle crisi assume informalmente la guida ("Troubleshooter") e naviga il team con sicurezza attraverso terreni incerti.`, 
                  example: `Quality: Avvia Task-Force per difetti materiali tra le sedi, introduce nuovo standard di gruppo.` 
                }
              }
            },
            {
              id: "c4",
              title: "Adattabilità & Volontà di apprendere",
              category: "core",
              icon: BookOpen,
              definition: `Volontà di adattarsi a nuove condizioni quadro (IT, mercato, processi). 'Growth Mindset' invece di Status Quo.`,
              levels: {
                1: { 
                  text: `Il collaboratore reagisce alle novità (es. nuovo software, ristrutturazioni) con aperto rifiuto, cinismo o ostruzionismo. Si aggrappa rigidamente a metodi obsoleti ("Abbiamo sempre fatto così") e si rifiuta di apprendere nuove abilità. I cambiamenti portano a un massiccio calo delle prestazioni o a malumore che contagia il team. Necessita di una sproporzionata opera di convincimento e pressione per attuare anche i minimi adattamenti nel flusso di lavoro. Il feedback sullo sviluppo personale viene ignorato o valutato come un attacco.`, 
                  example: `Magazzino: Si rifiuta di usare nuovi scanner, continua a tenere liste manuali private.` 
                },
                2: { 
                  text: `Il collaboratore accetta i cambiamenti solo dopo lunga esitazione o mugugni. Aspetta di vedere se la novità "rimane davvero" prima di muoversi. L'apprendimento di nuovi compiti o sistemi dura molto più a lungo rispetto a colleghi comparabili, poiché manca la motivazione interna. Mostra poca iniziativa per l'aggiornamento; nuove conoscenze vengono acquisite solo se esplicitamente ordinate o "pre-digerite". In situazioni di stress o con nuove esigenze poco chiare, ricade rapidamente in vecchi modelli comportamentali inefficienti. L'adattabilità non è sufficiente per fasi dinamiche.`, 
                  example: `Finance: Stampa email nonostante sistema paperless. Impara nuovo processo solo lentamente.` 
                },
                3: { 
                  text: `BASELINE: Il collaboratore gestisce i cambiamenti in modo costruttivo e adatta il suo modo di lavorare alle nuove condizioni. Attua le nuove direttive (es. uso di un nuovo strumento, piano turni modificato) in modo affidabile e senza grandi lamentele. L'inserimento in nuovi temi avviene in tempi adeguati. Riconosce quando mancano conoscenze e utilizza i corsi offerti o gli ausili per colmare la lacuna. Non blocca le innovazioni, ma le supporta nel lavoro quotidiano. Ci si può fidare che fornisca stabilmente la sua prestazione anche in un ambiente in evoluzione ("Fair" verso il team).`, 
                  example: `Sales: Partecipa a corso su nuovi film sostenibili e consiglia i clienti con competenza dalla data stabilita.` 
                },
                4: { 
                  text: `Il collaboratore vede i cambiamenti come opportunità di miglioramento. Non aspetta i corsi, ma acquisisce nuove conoscenze (es. su nuovi prodotti, trend di mercato o trucchi software) autonomamente. Sperimenta nuovi approcci risolutivi e condivide le scoperte con il team. Nelle fasi di transizione agisce in modo stabilizzante sugli altri e aiuta i colleghi che hanno più difficoltà con il cambiamento (es. come "Buddy" per nuovi sistemi). Mette in discussione lo status quo in modo costruttivo e fa proposte su come adattarsi meglio alle nuove esigenze.`, 
                  example: `Service: Esplora il nuovo CRM prima del corso, aiuta poi i colleghi all'avvio.` 
                },
                5: { 
                  text: `Il collaboratore anticipa i cambiamenti necessari spesso prima degli altri e prepara sé stesso e l'ambiente proattivamente (es. acquisizione di competenze future prima che servano acutamente). Spinge innovazioni che rendono l'azienda pronta per il futuro (es. pilotaggio di modalità di lavoro completamente nuove). Stabilisce una cultura dell'apprendimento nel proprio ambito, vivendo gli errori come opportunità di apprendimento e incoraggiando gli altri a provare ("Empowerment"). Agisce come faro in grandi progetti strategici (es. armonizzazione delle sedi) e crea entusiasmo per la nuova strada, anche in caso di resistenze iniziali.`, 
                  example: `IT: Avvia autonomamente progetto pilota AI (Copilot), chiarisce privacy e forma altre sedi.` 
                }
              }
            },
            {
              id: "c5",
              title: "Auto-organizzazione & Affidabilità",
              category: "core",
              icon: Clock,
              definition: `Strutturazione del lavoro, priorizzazione e Accountability. Ci si può fidare della parola data?`,
              levels: {
                1: { 
                  text: `Il collaboratore lavora in modo asistematico e senza struttura riconoscibile. I compiti vengono dimenticati, le scadenze mancate senza preavviso o gli appuntamenti persi. Si lascia distrarre facilmente e perde il focus sull'essenziale. Il responsabile o i colleghi devono costantemente controllare ("Babysitting") affinché i risultati vengano consegnati. Manca la panoramica sui compiti aperti; le promesse vengono fatte con leggerezza e non mantenute. Il posto di lavoro (fisico o digitale) è disorganizzato, cosicché documenti o informazioni importanti non sono a portata di mano. L'inaffidabilità pesa massicciamente sul team.`, 
                  example: `Sales: Dimentica rapporti visita, smarrisce fogli con richieste clienti. Nessuna panoramica.` 
                },
                2: { 
                  text: `Il collaboratore sbriga compiti di routine semplici in modo affidabile, ma va rapidamente in difficoltà con più compiti paralleli o pressione temporale. Ha difficoltà a distinguere l'importante dal non importante (fa es. ciò che diverte prima, non ciò che urge). La pianificazione avviene solo a brevissimo termine (giorno per giorno). Quando i tempi si stringono, non lo comunica tempestivamente, ma solo quando il danno è già fatto. La qualità del lavoro soffre per mancanza di cura o gestione del tempo. Necessita di guida regolare e promemoria dal responsabile per rimanere in rotta.`, 
                  example: `Officina: Riordina, anche se riparazione urgente blocca la produzione.` 
                },
                3: { 
                  text: `BASELINE: Il collaboratore organizza autonomamente la sua giornata lavorativa. Prioritizza i compiti in modo sensato secondo urgenza e importanza. Promesse e appuntamenti vengono rispettati in modo affidabile. Se una scadenza è a rischio, informa proattivamente e tempestivamente ("Transparency"), prima che sorga un danno. Mantiene la panoramica anche con carico di lavoro normale e lavora in modo efficiente. Documenti, dati e strumenti di lavoro sono organizzati in modo da essere sempre disponibili. Il responsabile non deve controllare se i compiti vengono svolti – il risultato arriva in modo affidabile ("Fire and Forget").`, 
                  example: `Admin: Ha lo scadenziario sotto controllo. Segnala rischio ritardo chiusura proattivamente 2 giorni prima.` 
                },
                4: { 
                  text: `Il collaboratore pianifica in modo lungimirante (settimane/mesi) e riconosce colli di bottiglia prima che sorgano (es. periodi di ferie, scadenze progetti). Ottimizza attivamente il proprio modo di lavorare per essere più produttivo (es. uso di strumenti digitali, checklist, raggruppamento di compiti). Rimane strutturato auch sotto alta pressione o eventi imprevisti e irradia calma. Documenta i passaggi di lavoro in modo così trasparente che i colleghi possono subentrare senza problemi in caso di sostituzione. Supporta colleghi meno organizzati a trovare struttura.`, 
                  example: `Project Management: Prepara compiti per periodo ferie settimane prima ('lavoro di scorta').` 
                },
                5: { 
                  text: `Il collaboratore sviluppa sistemi organizzativi o flussi di lavoro che aiutano non solo lui/lei, ma l'intero team o reparto a lavorare più efficientemente (es. introduzione di una Kanban-Board, standardizzazione dell'archiviazione per il gruppo). Gestisce pacchetti di compiti altamente complessi con molte dipendenze (es. progetti inter-sede) con sovranità e puntualità. È considerato un "porto sicuro" per compiti critici: se se ne occupa lui/lei, il successo è garantito. Crea spazi per temi strategici e innovazioni attraverso un'eccellente organizzazione.`, 
                  example: `Marketing: Stabilisce tool di pianificazione digitale per tutte le sedi (Sulzberg/BZ/Campo), elimina doppi lavori.` 
                }
              }
            },
            {
              id: "l1",
              title: "Gestione & Sviluppo dei collaboratori",
              category: "leadership",
              icon: Users,
              definition: `Guida, motivazione e sviluppo del team. 'Leadership' invece di solo 'Management'.`,
              levels: {
                1: { 
                  text: `Il manager trascura i suoi compiti principali: i colloqui con i collaboratori (colloquio annuale, check-in) non hanno luogo, sono estremamente in ritardo o vengono sbrigati come fastidioso dovere. Non c'è feedback costruttivo; la critica avviene spesso in modo non oggettivo o davanti ad altri. I desideri di sviluppo dei collaboratori vengono ignorati o bloccati ("Non abbiamo tempo per questo"). Gli obiettivi vengono comunicati in modo poco chiaro o per nulla, portando a disorientamento. Il comportamento contraddice massicciamente i nostri valori (es. mancanza di rispetto, "Divide and Conquer"). Nel team regna un'atmosfera di paura o indifferenza, portando ad alto turnover o dimissioni interne.`, 
                  example: `Resp. Prod: Annulla colloquio annuale 3 volte, lo fa poi in 15min in piedi.` 
                },
                2: { 
                  text: `Il manager sbriga i doveri amministrativi (approvazione ferie, colloqui formali), ma senza profondità. Il feedback c'è per lo più solo se qualcosa è andato storto (reattivo), quasi nessuna lode o orientamento per il futuro. Il lavoro di leadership si limita all'assegnazione di compiti ("Micromanagement"), invece di delegare responsabilità. I piani di sviluppo (IDP) vengono sì compilati, ma spariscono poi nel cassetto e non vengono seguiti. Il manager si prende troppo poco tempo per il team ("Porta chiusa"). Manca chiarezza e ispirazione; il team lavora "secondo prescrizione", ma non oltre.`, 
                  example: `Team Leader: Usa Copia-Incolla per obiettivi. Risponde a desiderio sviluppo vagamente 'Vediamo'.` 
                },
                3: { 
                  text: `BASELINE: Il manager conduce tutti i colloqui obbligatori (Review, definizione obiettivi) puntualmente, ben preparato e alla pari. Assicura obiettivi e aspettative chiari, cosicché ognuno sappia cosa fare. Il feedback avviene regolarmente ed equamente – sia positivo che correttivo. Supporta lo sviluppo professionale (es. approvazione corsi) ed è disponibile per i collaboratori in caso di problemi. Vive i valori "Fast, Fair, Personal" nel quotidiano e garantisce un clima lavorativo stabile e positivo. Tratta tutti i membri del team equamente e senza discriminazioni.`, 
                  example: `Sales Director: Check-in regolari, loda successi, parla apertamente dei deficit. Team conosce obiettivi.` 
                },
                4: { 
                  text: `Il manager usa la leadership attivamente per rendere i collaboratori migliori. Non delega solo compiti, ma responsabilità, per permettere la crescita ("Empowerment"). Conduce regolari colloqui di feedback informali (oltre il processo standard) e usa metodi di coaching per stimolare i collaboratori a trovare soluzioni proprie. Riconosce potenziali proattivamente e propone misure di sviluppo individuali (es. guida progetto, Job Rotation). Crea una cultura di team in cui gli errori vengono discussi apertamente per impararne. Il team si sente supportato e porta prestazioni misurabilmente più alte grazie all'alta motivazione.`, 
                  example: `Resp. IT: Delega guida progetto a talento, dà feedback specifico, rafforza autostima.` 
                },
                5: { 
                  text: `Il manager costruisce sistematicamente successori e sviluppa High-Potentials auch über den eigenen Bedarf hinaus (per il gruppo). È considerato un mentore nell'intera azienda, il cui consiglio è cercato anche da collaboratori di altri settori. Crea un ambiente di eccellenza in cui i talenti possono svilupparsi e lega i top performer a lungo termine a Niederwieser. Gestisce la pianificazione del personale strategicamente in modo lungimirante (es. per i prossimi 2-3 anni) e assicura che il team sia pronto per le sfide future della Strategia 2035. Sotto la sua guida nascono innovazioni e risultati sopra la media grazie a effetti sinergici.`, 
                  example: `Manager: Raccomanda Top-Mitarbeiter proattivamente per posizione in altra sede, invece di 'accumularlo'.` 
                }
              }
            },
            {
              id: "l2",
              title: "Pensiero strategico",
              category: "leadership",
              icon: Brain,
              definition: `Vedere il 'quadro generale'. Via dal pensiero a silos verso il pensiero di gruppo ('One Niederwieser').`,
              levels: {
                1: { 
                  text: `Il manager agisce quasi esclusivamente in modo reattivo e si perde nel micromanagement del quotidiano ("Firefighting"). Non mostra interesse per la strategia aziendale o non la comprende. Le decisioni vengono prese isolatamente per il proprio reparto, spesso addirittura a svantaggio di altri settori o del gruppo (Subottimizzazione). Pianifica budget e risorse solo per il fabbisogno momentaneo senza lungimiranza. Le iniziative strategiche della direzione vengono ignorate, derise o percepite come "disturbo" per l'operatività. Il team non ha orientamento su dove vada il viaggio a lungo termine.`, 
                  example: `Resp. Prod: Produce a magazzino per 100% utilizzo, anche se vendite non vendono il prodotto.` 
                },
                2: { 
                  text: `Il manager conosce le parole chiave della strategia (es. sostenibilità, crescita), ma non riesce a integrarle nel quotidiano del suo team. La strategia rimane teoria ("Slide sul muro"), mentre operativamente si lavora "come sempre". La pianificazione avviene per lo più solo a breve termine (trimestre/anno). Le connessioni tra reparti o sedi vengono riconosciute solo se esplicitamente segnalate. Aspetta che la strategia venga data "dall'alto", invece di sviluppare proposte per il proprio ambito.`, 
                  example: `Sales: Conosce obiettivo sostenibilità, ma guida team ancora solo su pura quantità/fatturato.` 
                },
                3: { 
                  text: `BASELINE: Il manager deriva logicamente gli obiettivi del suo settore dalla strategia aziendale. Spiega al suo team il "Perché" dietro le decisioni e assicura che tutti tirino dalla stessa parte. Considera nella sua pianificazione (budget, personale, capacità) un orizzonte di 12-18 mesi. Riconosce trend rilevanti nel proprio ambito (es. digitalizzazione in amministrazione, nuove tecnologie in produzione) e adatta l'orientamento del suo team tempestivamente. Pensa oltre i confini della sede e supporta la harmonizzazione del gruppo ("One Niederwieser"), rispettando standard e promuovendo la cooperazione.`, 
                  example: `Resp. IT: Pianifica budget proattivamente per armonizzazione sistemi ERP (Bolzano/Sulzberg).` 
                },
                4: { 
                  text: `Il manager riconosce cambiamenti di mercato o interni prima che diventino ovvi e prepara il suo settore proattivamente. Sviluppa di propria iniziativa proposte strategiche (es. nuovi campi di business, adattamenti strutturali) che vanno oltre il quotidiano. Cerca attivamente sinergie con altre sedi (es. uso comune di risorse tra Sulzberg und Campogalliano) und rompe i silos. Pensa in scenari ("Cosa succederebbe se...") e ha un piano B in tasca. È apprezzato dai pari come sparring partner strategico.`, 
                  example: `Marketing: Sposta budget da pubblicità prodotto a 'campagne soluzioni' prima che il mercato giri.` 
                },
                5: { 
                  text: `Il manager sviluppa concetti che cambiano il modello di business o il modo di lavorare dell'intero gruppo in modo sostenibile (es. apertura di un nuovo mercato, introduzione di una tecnologia rivoluzionaria). Le sue idee fluiscono direttamente nello sviluppo della strategia aziendale. Riconosce rischi o opportunità distruttivi molto presto e guida l'azienda attraverso decisioni coraggiose in una direzione di successo. È considerato internamente ed esternamente come precursore ("Thought Leader") e inspira non solo il proprio team, ma l'intera organizzazione a pensare più in grande.`, 
                  example: `Resp. Sede: Elabora Business Case per acquisizione in nicchia, permette ingresso mercato.` 
                }
              }
            },
            {
              id: "l3",
              title: "Capacità decisionale",
              category: "leadership",
              icon: Target,
              definition: `Decidere tempestivamente e in modo vincolante, anche nell'incertezza. Equilibrio tra analisi e velocità.`,
              levels: {
                1: { 
                  text: `Il manager prende decisioni con estrema esitazione o non le prende affatto ("Temporeggiare"). Temi urgenti rimangono fermi, facendo scadere termini o perdere opportunità. Richiede per le minime decisioni sempre nuovi dati o delega la decisione al superiore ("Delega di ritorno"), pur di non fare errori. Le decisioni prese vengono riviste immediatamente al minimo vento contrario ("Flip-Flopping"), cosa che disorienta il team. Se una decisione era sbagliata, cerca la colpa negli altri o nelle circostanze, invece di assumersi la responsabilità. Manca il coraggio della chiarezza.`, 
                  example: `Acquisti: Non decide per settimane su aumento prezzi. Scadenza passa, condizioni peggiorano.` 
                },
                2: { 
                  text: `Il manager decide spesso troppo tardi, cosicché il team rimane in posizione di attesa. Si affida troppo alla sensazione di pancia o a opinioni singole, invece di consultare fatti e dati disponibili ("Data driven"). Le decisioni vengono prese "nel chiuso della stanza" e presentate al team senza giustificazione. Decisioni difficili o impopolari (es. rifiuti a candidati, stop di progetti) vengono rimandate, nella speranza che il problema si risolva da solo. Il manager necessita di molta rassicurazione dall'alto per sentirsi sicuro.`, 
                  example: `Recruiting: Non riesce a decidere tra candidati. Entrambi rinunciano.` 
                },
                3: { 
                  text: `BASELINE: Il manager prende decisioni nel quotidiano tempestivamente e con sicurezza. Pesa opportunità e rischi ragionevolmente e utilizza le informazioni esistenti in modo efficiente. Comunica la decisione e il "Perché" dietro di essa chiaramente al suo team e alle interfacce interessate. Mantiene la sua decisione anche se c'è critica, ma è pronto a correggere la rotta se arrivano nuovi fatti sul tavolo (nessuna testardaggine). Distingue con sicurezza cosa può decidere lui stesso e cosa deve essere scalato – e fornisce in caso di escalation una chiara raccomandazione.`, 
                  example: `Capoturno: Decide di notte autonomamente riprogrammazione per guasto macchina, informa pianificazione.` 
                },
                4: { 
                  text: `Il manager rimane capace di agire anche in situazioni confuse, sotto pressione temporale o con informazioni incomplete. Prende decisioni coraggiose ("Courage") per evitare lo stallo und gestisce il rischio attivamente. Coinvolge gli stakeholder rilevanti (es. altre sedi) tempestivamente per assicurare la qualità della decisione, ma non si perde in infiniti cicli di coordinamento. Spiega anche decisioni impopolari in modo così trasparente und wertschätzend ("Fair") che il team può sostenerle.`, 
                  example: `Sales Dir: Rifiuta coraggiosamente grande ordine non profittevole ('Courage'), erklärt Strategie 'Wert vor Volumen'.` 
                },
                5: { 
                  text: `Il manager prende decisioni pionieristiche che hanno effetti positivi ben oltre il proprio ambito (es. per l'intero gruppo). In situazioni di crisi prende immediatamente il timone, crea calma und dà sicurezza und orientamento tramite decisioni chiare. Stabilisce principi o condizioni quadro che permettono ai suoi collaboratori di prendere autonomamente decisioni migliori ("Empowerment"). Ha il coraggio di tagliare rami secchi (es. fermare progetti o prodotti non redditizi) per liberare risorse per il nuovo.`, 
                  example: `IT-Group: Kappt bei Cyber-Verdacht sofort alle Verbindungen der Gruppe, accetta stop prod.` 
                }
              }
            },
            {
              id: "l4",
              title: "Execution & Performance",
              category: "leadership",
              icon: TrendingUp,
              definition: `Trasformare obiettivi in risultati. Usare i dati ('Clarity'), padroneggiare i processi e guidare coerentemente.`,
              levels: {
                1: { 
                  text: `Il manager lavora senza piano o struttura riconoscibile. Progetti e compiti vengono iniziati, ma non portati a termine coerentemente. Non ci sono chiare pietre miliari o responsabilità. La prestazione del team non viene misurata o controllata; deviazioni (es. sforamento budget, ritardo termini) si notano solo quando è troppo tardi. Gli obiettivi vengono mancati regolarmente e chiaramente, ohne dass die Führungskraft gegensteuert oder die Ursachen analysiert. Es herrscht eine Kultur der Ausreden statt der Ergebnisse.`, 
                  example: `Projektleiter: Software-Rollout Monate überfällig. Kein neuer Plan, keine Info an User.` 
                },
                2: { 
                  text: `Il manager si impegna, ma perde spesso il focus nel quotidiano. La pianificazione avviene in modo approssimativo ("Andrà bene"), rischi o colli di bottiglia non vengono anticipati. Il controllo avviene sporadicamente (es. solo quando il capo chiede), non sistematicamente. Gli obiettivi vengono parzialmente raggiunti, ma spesso solo tramite frenetiche "azioni last-minute" (spegnere incendi) a spese della qualità o delle risorse dei collaboratori. Manca trasparenza su dove si trovi veramente il team. I processi non vengono rispettati o costantemente aggirati per forzare risultati a breve termine.`, 
                  example: `Sales: Nota mancato obiettivo solo il 25, fa pressione per deal a basso margine.` 
                },
                3: { 
                  text: `BASELINE: Il manager pianifica compiti e progetti in modo strutturato con tempistiche e risorse realistiche. Definisce chiari criteri di successo (KPI) e controlla il progresso regolarmente (es. in Jour Fixes). In caso di deviazioni interviene tempestivamente e avvia misure correttive per raggiungere ancora l'obiettivo. Assicura che il suo team soddisfi gli obiettivi concordati (Qualità, Costi, Tempo) in modo affidabile. Comunica lo stato in modo trasparente ai superiori e alle interfacce. Ci si può fidare delle sue promesse ("Fair").`, 
                  example: `Resp. Prod: Organizza subito turno sabato in caso di guasto, informa Vendite proattivamente.` 
                },
                4: { 
                  text: `Il manager non solo amministra, ma ottimizza attivamente. Utilizza dati e indicatori sistematicamente per scoprire inefficienze o colli di bottiglia prima che diventino un problema. Stabilisce routine che assicurano una performance costantemente alta. Fornisce risultati spesso più velocemente ("Fast") o in modo più economico del previsto, senza mettere a rischio la qualità. Riesce a mantenere stabile l'operatività anche in caso di ostacoli imprevisti (es. ondata di malattia, mancata consegna), perché ha pianificato scenari in anticipo.`, 
                  example: `HR: Analizza processo, introduce tool digitale, accorcia 'Time-to-Hire' drasticamente.` 
                },
                5: { 
                  text: `Il manager stabilisce processi Best-Practice che servono da modello per l'intero gruppo (es. un nuovo sistema di reporting che viene poi implementato a Sulzberg e Bolzano). Spinge il miglioramento continuo (KVP) in modo tale da raggiungere salti di performance (es. significativa riduzione della quota scarti o tempo di attraversamento). Crea una cultura di alta prestazione in cui il team si autogestisce e si supera permanentemente. Realizza grandi progetti strategici in "Time, Budget & Quality" e fornisce così un contributo diretto al successo aziendale ("1 Result").`, 
                  example: `Logistica: Raggruppa trasporti Sulzberg/Bolzano, riduce costi del 15% con nuovo Cross-Docking.` 
                }
              }
            },
            {
              id: "l5",
              title: "Stakeholder & Risoluzione dei conflitti",
              category: "leadership",
              icon: Award,
              definition: `Curare le relazioni, moderare interessi politici. Costruttore di ponti tra i silos.`,
              levels: {
                1: { 
                  text: `Il manager ignora completamente gli interessi di altri reparti o sedi. Non comunica con stakeholder importanti, portando a sorprese e resistenze. Nei conflitti si comporta in modo distruttivo: cerca colpevoli invece di soluzioni, parla male di altri settori ("Quelli lassù/laggiù") o porta avanti conflitti in modo aggressivo e non oggettivo. Alternativamente i conflitti vengono ignorati o attesi finché non degenerano. Il comportamento danneggia massicciamente la fiducia e la collaborazione nel gruppo.`, 
                  example: `Resp. Prod: Impreca su 'venditori incapaci' invece di chiarire fattibilità direttamente.` 
                },
                2: { 
                  text: `Il manager cura le relazioni solo quando ha acutamente bisogno di qualcosa (transazionale). Dimentica frequentemente di coinvolgere partner rilevanti (es. HR, IT, altre sedi) tempestivamente, ritardando i progetti. Riconosce gaffe politiche spesso troppo tardi. In caso di conflitti reagisce difensivamente o si ritira per "mantenere la pace", anche se sarebbe necessario un chiarimento. Le soluzioni sono spesso compromessi deboli che non soddisfano nessuno. Fa fatica ad assumere la prospettiva dell'interlocutore.`, 
                  example: `Project Leader: Dimentica di informare il consiglio di fabbrica. Ritira progetto offeso in caso di veto.` 
                },
                3: { 
                  text: `BASELINE: Il manager conosce i suoi stakeholder più importanti e li tiene regolarmente informati. Si coordina proattivamente per evitare malintesi. Incontra i partner – interni or esterni – con rispetto e alla pari. I conflitti vengono affrontati tempestivamente ("Fast") und diskutiert oggettivamente. Rappresenta gli interessi del suo settore, ma è pronto ad ascoltare argomenti della controparte e trovare soluzioni eque. Assicura che la collaborazione funzioni senza intoppi.`, 
                  example: `Service/Supply: Mostra numeri, concorda oggettivamente scorta minima (Compromesso).` 
                },
                4: { 
                  text: `Il manager costruisce attivamente una rete resiliente oltre i confini del reparto. Anticipa potenziali conflitti (es. colli di bottiglia risorse tra progetti) und moderiert diese präventiv, bevor sie eskalieren. Comprende i vincoli e gli obiettivi dell'altra parte e offre soluzioni che aiutano entrambi ("Win-Win"). È apprezzato da altri reparti come partner affidabile che non solo chiede, ma supporta anche. Sa comunicare anche messaggi difficili in modo diplomatico e rispettoso.`, 
                  example: `Quality: Viaggia nelle sedi, modera workshop per standard comune.` 
                },
                5: { 
                  text: `Il manager risolve conflitti complessi e bloccati (es. tensioni culturali tra sedi o guerre di trincea storiche) dove altri hanno fallito. Riesce a orientare interessi diversi verso l'obiettivo strategico comune ("One Niederwieser"). Stabilisce comitati o formati che migliorano strutturalmente lo scambio e la gestione degli stakeholder. Gode della massima fiducia presso la direzione e le rappresentanze dei lavoratori e utilizza questo capitale per il bene dell'azienda. Trasforma avversari in partner.`, 
                  example: `Manager: Rompe vecchi silos, integra team ostili in un'unità di successo.` 
                }
              }
            }
          ]
          }
        };

        // --- QUIZ DATA (Removed, but keeping definition for completeness) ---
        const QUIZ_QUESTIONS = { de: [], it: [] }; // Leeren, da Quiz entfernt wird

        // --- REACT COMPONENT ---
        
        // === GPS SIMULATOR COMPONENT ===
        const CompetencySlider = ({ name, weight, value, onChange, labels }) => (
          React.createElement('div', { className: "mb-4 pb-4 border-b border-slate-100 last:border-0" },
            React.createElement('div', { className: "flex justify-between items-center mb-2" },
              React.createElement('label', { className: "font-medium text-slate-700 text-sm" }, name),
              React.createElement('span', { className: "text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded" }, 
                `${labels.weight}: ${(weight * 100).toFixed(0)}%`)
            ),
            React.createElement('div', { className: "flex items-center gap-4" },
              React.createElement('input', {
                type: "range",
                min: "1",
                max: "5",
                step: "1",
                value: value,
                onChange: (e) => onChange(parseInt(e.target.value)),
                className: "w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"
              }),
              React.createElement('div', { 
                className: `w-12 h-10 flex items-center justify-center rounded font-bold text-white shadow-sm transition-colors ${
                  value >= 4 ? 'bg-green-500' : value === 3 ? 'bg-blue-500' : value === 2 ? 'bg-orange-400' : 'bg-red-500'
                }`
              }, value)
            ),
            React.createElement('div', { className: "flex justify-between text-xs text-slate-400 mt-1 px-1" },
              React.createElement('span', null, `${labels.level1} (1)`),
              React.createElement('span', null, `${labels.level3} (3)`),
              React.createElement('span', null, `${labels.level5} (5)`)
            )
          )
        );

        // === ZIELVEREINBARUNG COMPONENT (Simplified Goal Agreement) ===
        const Zielvereinbarung = ({ lang, onSaveTeam, onCancel }) => {
            const t = FORM_TEXT[lang] || FORM_TEXT['de'];
            const formRef = useRef(null);

            
            // === TEAM CONTEXT ===
            const [teamContext, setTeamContext] = useState(null);
            const [teamButtonsVisible, setTeamButtonsVisible] = useState(false);
            
            useEffect(() => {
              const ctx = localStorage.getItem('nw_current_employee');
              console.log('🔍 Zielvereinbarung useEffect triggered');
              console.log('   localStorage nw_current_employee:', ctx);
              
              if (ctx) {
                try {
                  const data = JSON.parse(ctx);
                  console.log('✓ Parsed team context:', data);
                  setTeamContext(data);
                  setTeamButtonsVisible(true);
                  console.log('✓ teamButtonsVisible set to TRUE');
                  
                  // Load existing data if available
                  if (data.existingData) {
                    const existing = data.existingData;
                    
                    // Set form data
                    setFormData(prev => ({
                      ...prev,
                      employee: existing.employeeName || data.employee.name,
                      position: existing.position || data.employee.position,
                      manager: existing.formData?.manager || prev.manager,
                      date: existing.updatedAt ? existing.updatedAt.split('T')[0] : prev.date
                    }));
                    
                    // Set goals if exists
                    if (existing.goals && existing.goals.length > 0) {
                      setGoals(existing.goals);
                    }
                    
                    // Set devPlan if exists
                    if (existing.devPlan && existing.devPlan.length > 0) {
                      setDevPlan(existing.devPlan);
                    }
                  } else {
                    // New appraisal - set employee data
                    setFormData(prev => ({
                      ...prev,
                      employee: data.employee.name,
                      position: data.employee.position
                    }));
                  }
                } catch (e) {
                  console.error('Error loading team context:', e);
                }
              }
            }, []);
            
            const handleSaveTeamAppraisal = (status) => {
              if (!teamContext || !onSaveTeam) {
                alert('Team-Kontext fehlt!');
                return;
              }
              
              // Für Zielvereinbarungen: kein GPS-Score berechnen
              const appraisal = {
                id: teamContext.appraisalId,
                type: 'goals', // WICHTIG: Typ auf 'goals' setzen
                employeeId: teamContext.employee.id,
                employeeName: teamContext.employee.name,
                position: teamContext.employee.position,
                period: teamContext.period,
                status: status,
                createdAt: teamContext.existingData?.createdAt || new Date().toISOString(),
                updatedAt: new Date().toISOString(),
                goals: goals,
                devPlan: devPlan,
                formData: formData,
                // Für Zielvereinbarungen keine GPS-relevanten Scores
                gpsScore: 0,
                wasScore: 0,
                wieCoreScore: 0,
                wieLeaderScore: 0
              };
              
              onSaveTeam(appraisal);
            };
            
            const handleCancelTeam = () => {
              if (confirm(lang === 'de' ? 'Abbrechen? Änderungen gehen verloren.' : 'Annullare?')) {
                localStorage.removeItem('nw_current_employee');
                if (onCancel) onCancel();
              }
            };
            
            const [isGenerating, setIsGenerating] = useState(false);
            
            const [formData, setFormData] = useState({
                employee: '', 
                position: '', 
                manager: '', 
                date: new Date().toISOString().split('T')[0]
            });
            
            const [goals, setGoals] = useState([
                { id: 101, name: '', weight: 60, target: '' },
                { id: 102, name: '', weight: 40, target: '' }
            ]);
            
            const [devPlan, setDevPlan] = useState([
                { id: 201, measure: '', responsible: '', deadline: '' }
            ]);

            const handleFormChange = (field, val) => setFormData({...formData, [field]: val});
            const updateItem = (list, setList, id, field, val) => {
                setList(list.map(i => {
                    if (i.id !== id) return i;
                    // Parse numeric fields to ensure calculations work correctly
                    if (field === 'weight') {
                        return { ...i, [field]: parseFloat(val) || 0 };
                    }
                    return { ...i, [field]: val };
                }));
            };
            const addItem = (list, setList, template) => setList([...list, { ...template, id: Date.now() }]);
            const removeItem = (list, setList, id) => setList(list.filter(i => i.id !== id));

            const handleDownloadPDF = () => {
                if (!window.html2pdf) {
                    alert("PDF-Bibliothek nicht geladen. Bitte Seite neu laden.");
                    return;
                }
                
                setIsGenerating(true);
                
                setTimeout(() => {
                    try {
                        const pdfContainer = document.createElement('div');
                        pdfContainer.style.cssText = `
                            width: 210mm;
                            padding: 15mm;
                            background: white;
                            font-family: Arial, sans-serif;
                            color: #1e293b;
                            font-size: 11pt;
                            line-height: 1.4;
                        `;
                        
                        let pdfHTML = `
                            <div style="margin-bottom: 20px; border-bottom: 2px solid #e2e8f0; padding-bottom: 15px;">
                                <h1 style="color: #243186; font-size: 24pt; margin: 0 0 5px 0;">nıederwıeser</h1>
                                <p style="color: #6EBD84; font-size: 10pt; margin: 0; font-weight: 600;">FLEXIBLE FOOD PACKAGING</p>
                                <h2 style="color: #243186; font-size: 18pt; margin: 15px 0 5px 0;">${lang === 'de' ? 'Zielvereinbarung' : 'Accordo sugli obiettivi'}</h2>
                                <p style="color: #6EBD84; font-size: 12pt; margin: 0; font-weight: 600;">${t.headerSubtitle}</p>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0;">
                                <h3 style="font-size: 14pt; margin: 0 0 10px 0; color: #334155;">${t.partA}</h3>
                                <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                                    <tr>
                                        <td style="padding: 5px 0; width: 50%;"><span style="font-size: 9pt; color: #64748b;">${t.employee}</span><br/><strong>${formData.employee || '–'}</strong></td>
                                        <td style="padding: 5px 0;"><span style="font-size: 9pt; color: #64748b;">${t.manager}</span><br/><strong>${formData.manager || '–'}</strong></td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 5px 0;"><span style="font-size: 9pt; color: #64748b;">${t.position}</span><br/><strong>${formData.position || '–'}</strong></td>
                                        <td style="padding: 5px 0;"><span style="font-size: 9pt; color: #64748b;">${t.date}</span><br/><strong>${formData.date || '–'}</strong></td>
                                    </tr>
                                </table>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 10px 0; color: #334155;">${lang === 'de' ? 'Zieldefinition' : 'Definizione degli obiettivi'}</h3>
                                <table style="width: 100%; border-collapse: collapse; font-size: 10pt;">
                                    <thead>
                                        <tr style="background: #f8fafc;">
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.goalName}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; width: 80px;">${t.weight}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${lang === 'de' ? 'Zielwert / Beschreibung' : 'Valore target / Descrizione'}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${goals.map(g => `
                                            <tr>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${g.name || '–'}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; text-align: right; font-weight: 600;">${g.weight}%</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${g.target || '–'}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 10px 0; color: #334155;">${t.development}</h3>
                                <p style="font-size: 10pt; color: #64748b; margin-bottom: 10px;">${t.devIntro}</p>
                                <table style="width: 100%; border-collapse: collapse; font-size: 10pt;">
                                    <thead>
                                        <tr style="background: #f8fafc;">
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.measure}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.responsible}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700; width: 100px;">${t.deadline}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${devPlan.map(d => `
                                            <tr>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${d.measure || '–'}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${d.responsible || '–'}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${d.deadline || '–'}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div style="margin-top: 30px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 20px 0; color: #334155;">${t.partH}</h3>
                                <div style="display: flex; justify-content: space-between; margin-top: 40px;">
                                    <div style="width: 45%; text-align: center;">
                                        <div style="border-bottom: 2px solid #1e293b; height: 50px;"></div>
                                        <p style="margin: 10px 0 0 0; font-size: 9pt; color: #64748b;">${t.employee}</p>
                                    </div>
                                    <div style="width: 45%; text-align: center;">
                                        <div style="border-bottom: 2px solid #1e293b; height: 50px;"></div>
                                        <p style="margin: 10px 0 0 0; font-size: 9pt; color: #64748b;">${t.manager}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                        
                        pdfContainer.innerHTML = pdfHTML;
                        document.body.appendChild(pdfContainer);
                        
                        const opt = {
                            margin: 0,
                            filename: `Zielvereinbarung_${(formData.employee || 'Export').replace(/[^a-z0-9äöüß]/gi, '_')}.pdf`,
                            image: { type: 'jpeg', quality: 0.95 },
                            html2canvas: { 
                                scale: 2,
                                useCORS: true,
                                logging: false,
                                backgroundColor: '#ffffff'
                            },
                            jsPDF: { 
                                unit: 'mm', 
                                format: 'a4', 
                                orientation: 'portrait'
                            }
                        };
                        
                        window.html2pdf()
                            .set(opt)
                            .from(pdfContainer)
                            .save()
                            .then(() => {
                                document.body.removeChild(pdfContainer);
                                setIsGenerating(false);
                            })
                            .catch(err => {
                                console.error('PDF Error:', err);
                                alert("Fehler beim PDF-Export: " + err.message);
                                if (document.body.contains(pdfContainer)) {
                                    document.body.removeChild(pdfContainer);
                                }
                                setIsGenerating(false);
                            });
                            
                    } catch (error) {
                        console.error('PDF Generation Error:', error);
                        alert("Fehler beim PDF-Export: " + error.message);
                        setIsGenerating(false);
                    }
                }, 300);
            };

            const renderGoalRow = (item) => (
                e('tr', { key: item.id, className: "break-inside-avoid" },
                    e('td', { className: "p-2 border" }, 
                        e('input', { 
                            className: "w-full bg-transparent outline-none font-medium", 
                            value: item.name, 
                            placeholder: lang === 'de' ? 'Zielbezeichnung...' : 'Nome obiettivo...', 
                            onChange: (ev) => updateItem(goals, setGoals, item.id, 'name', ev.target.value) 
                        })
                    ),
                    e('td', { className: "p-2 border text-center w-20" }, 
                        e('div', { className: "flex items-center justify-center" },
                            e('input', { 
                                type: "number", 
                                className: "w-full bg-transparent outline-none text-right pr-1", 
                                value: item.weight, 
                                onChange: (ev) => updateItem(goals, setGoals, item.id, 'weight', ev.target.value) 
                            }), 
                            e('span', null, "%")
                        )
                    ),
                    e('td', { className: "p-2 border" }, 
                        e('input', { 
                            className: "w-full bg-transparent outline-none", 
                            value: item.target, 
                            placeholder: lang === 'de' ? 'z.B. 500.000€, 95% Qualität...' : 'es. 500.000€, 95% qualità...', 
                            onChange: (ev) => updateItem(goals, setGoals, item.id, 'target', ev.target.value) 
                        })
                    ),
                    e('td', { className: "p-2 border text-center no-print w-8" }, 
                        e('button', { 
                            onClick: () => removeItem(goals, setGoals, item.id), 
                            className: "text-slate-300 hover:text-red-500" 
                        }, e(Trash2, { size: 14 }))
                    )
                )
            );

            const renderDevRow = (item) => (
                e('tr', { key: item.id, className: "break-inside-avoid" },
                    e('td', { className: "p-2 border" }, 
                        e('input', { 
                            className: "w-full bg-transparent outline-none", 
                            value: item.measure, 
                            placeholder: "...", 
                            onChange: (ev) => updateItem(devPlan, setDevPlan, item.id, 'measure', ev.target.value) 
                        })
                    ),
                    e('td', { className: "p-2 border" }, 
                        e('input', { 
                            className: "w-full bg-transparent outline-none", 
                            value: item.responsible, 
                            placeholder: "...", 
                            onChange: (ev) => updateItem(devPlan, setDevPlan, item.id, 'responsible', ev.target.value) 
                        })
                    ),
                    e('td', { className: "p-2 border" }, 
                        e('input', { 
                            type: "date", 
                            className: "w-full bg-transparent outline-none", 
                            value: item.deadline, 
                            onChange: (ev) => updateItem(devPlan, setDevPlan, item.id, 'deadline', ev.target.value) 
                        })
                    ),
                    e('td', { className: "p-2 border text-center no-print w-8" }, 
                        e('button', { 
                            onClick: () => removeItem(devPlan, setDevPlan, item.id), 
                            className: "text-slate-300 hover:text-red-500" 
                        }, e(Trash2, { size: 14 }))
                    )
                )
            );

            return e('div', { ref: formRef, className: "max-w-5xl mx-auto space-y-8 pb-20" },
                
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200" },
                    e('div', { className: "flex justify-between items-start mb-6" },
                        e('div', null, 
                            e('h1', { className: "text-3xl font-bold", style: { color: "#243186" } }, "nıederwıeser"), 
                            e('span', { className: "text-sm tracking-wider font-medium", style: { color: "#6EBD84" } }, "FLEXIBLE FOOD PACKAGING")
                        ),
                        e('button', { 
                            onClick: handleDownloadPDF, 
                            disabled: isGenerating, 
                            className: "no-print flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50" 
                        }, 
                            isGenerating ? e(Loader2, { className: "animate-spin", size: 18 }) : e(Download, { size: 18 }), 
                            isGenerating ? t.generating : t.print
                        )
                    ),
                    e('div', { className: "border-b-2 border-slate-100 mb-4" }),
                    
                    // === DEBUG: Check Team Buttons ===
                    (() => {
                      console.log('🎨 Rendering form - teamButtonsVisible:', teamButtonsVisible, 'teamContext:', teamContext);
                      return null;
                    })(),
                    
                    // === TEAM BUTTONS (wenn teamContext) ===
                    teamButtonsVisible && teamContext && e('div', {
                      className: 'mb-6 p-5 bg-gradient-to-r from-[#243186] to-[#1a2564] rounded-xl shadow-2xl border-2 border-[#6EBD84]'
                    },
                      e('div', { className: 'flex flex-col gap-4' },
                        e('div', { className: 'flex justify-between items-start' },
                          e('div', { className: 'text-white' },
                            e('h2', { className: 'text-3xl font-bold mb-1', style: { color: '#6EBD84' } }, 
                              teamContext.employee.name
                            ),
                            e('p', { className: 'text-blue-200 text-base font-semibold' }, 
                              teamContext.employee.position + (teamContext.employee.department ? ' • ' + teamContext.employee.department : '')
                            ),
                            e('p', { className: 'text-blue-100 text-sm mt-2 font-medium' }, 
                              (lang === 'de' ? 'Bewertungszeitraum: ' : 'Periodo: ') + teamContext.period
                            )
                          ),
                          e('button', {
                            onClick: handleCancelTeam,
                            type: 'button',
                            className: 'text-white/80 hover:text-white transition-colors text-4xl leading-none font-bold'
                          }, '×')
                        ),
                        e('div', { className: 'grid grid-cols-3 gap-4 mt-2' },
                          e('button', {
                            onClick: () => handleSaveTeamAppraisal('draft'),
                            type: 'button',
                            className: 'bg-slate-200 hover:bg-slate-300 text-slate-900 py-4 px-5 rounded-xl font-bold text-base transition-all transform hover:scale-105 shadow-lg'
                          }, '💾 ' + (lang === 'de' ? 'Als Entwurf' : 'Bozza')),
                          e('button', {
                            onClick: () => handleSaveTeamAppraisal('completed'),
                            type: 'button',
                            className: 'bg-[#6EBD84] hover:bg-[#5da872] text-white py-4 px-5 rounded-xl font-bold text-base transition-all transform hover:scale-105 shadow-lg'
                          }, '✓ ' + (lang === 'de' ? 'Abschließen' : 'Completa')),
                          e('button', {
                            onClick: handleCancelTeam,
                            type: 'button',
                            className: 'border-2 border-white/40 text-white py-4 px-5 rounded-xl font-bold hover:bg-white/20 transition-all shadow-lg text-base'
                          }, lang === 'de' ? 'Abbrechen' : 'Annulla')
                        )
                      )
                    ),
                    
                    e('h2', { className: "text-2xl font-bold", style: { color: "#243186" } }, lang === 'de' ? 'Zielvereinbarung' : 'Accordo sugli obiettivi'),
                    e('p', { className: "font-medium", style: { color: "#6EBD84" } }, t.headerSubtitle)
                ),

                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, t.partA),
                    e('div', { className: "grid grid-cols-2 gap-6" },
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.employee), e('input', { type: "text", value: formData.employee, onChange: (ev) => handleFormChange('employee', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" })),
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.manager), e('input', { type: "text", value: formData.manager, onChange: (ev) => handleFormChange('manager', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" })),
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.position), e('input', { type: "text", value: formData.position, onChange: (ev) => handleFormChange('position', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" })),
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.date), e('input', { type: "date", value: formData.date, onChange: (ev) => handleFormChange('date', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" }))
                    )
                ),

                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, lang === 'de' ? 'Zieldefinition' : 'Definizione degli obiettivi'),
                    e('table', { className: "w-full text-sm" },
                        e('thead', { className: "bg-slate-50 text-left" }, 
                            e('tr', null, 
                                e('th', { className: "p-2 border w-1/3" }, t.goalName), 
                                e('th', { className: "p-2 border w-20" }, t.weight), 
                                e('th', { className: "p-2 border" }, lang === 'de' ? 'Zielwert / Beschreibung' : 'Valore target / Descrizione'), 
                                e('th', { className: "p-2 border no-print w-8" }, "")
                            )
                        ),
                        e('tbody', null, goals.map(item => renderGoalRow(item)))
                    ),
                    e('button', { 
                        onClick: () => addItem(goals, setGoals, {name:'', weight:0, target:''}), 
                        className: "no-print mt-3 text-xs flex items-center gap-1 text-blue-600" 
                    }, e(PlusCircle, {size:14}), t.addGoal)
                ),

                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, t.development),
                    e('p', { className: "text-xs text-slate-500 mb-2" }, t.devIntro),
                    e('table', { className: "w-full text-sm mb-2" },
                        e('thead', { className: "bg-slate-50 text-left" }, 
                            e('tr', null, 
                                e('th', { className: "p-2 border" }, t.measure), 
                                e('th', { className: "p-2 border" }, t.responsible), 
                                e('th', { className: "p-2 border" }, t.deadline), 
                                e('th', { className: "p-2 border no-print" }, "")
                            )
                        ),
                        e('tbody', null, devPlan.map(item => renderDevRow(item)))
                    ),
                    e('button', { 
                        onClick: () => addItem(devPlan, setDevPlan, {measure:'', responsible:'', deadline:''}), 
                        className: "no-print mt-2 text-xs flex items-center gap-1 text-blue-600" 
                    }, e(PlusCircle, {size:14}), t.addDev)
                ),

                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-8 border-b pb-2" }, t.partH),
                    e('div', { className: "grid grid-cols-2 gap-12" },
                        e('div', null, e('div', { className: "border-b border-black h-8" }), e('p', { className: "text-xs mt-1" }, t.employee)),
                        e('div', null, e('div', { className: "border-b border-black h-8" }), e('p', { className: "text-xs mt-1" }, t.manager))
                    )
                )
            );
        };

        // === APPRAISAL FORM COMPONENT ===
        const AppraisalForm = ({ lang, onSaveTeam, onCancel }) => {
            const t = FORM_TEXT[lang] || FORM_TEXT['de'];
            const defs = DEFAULTS[lang] || DEFAULTS['de'];
            const formRef = useRef(null);
            
            const [isManager, setIsManager] = useState(false);
            const [isGenerating, setIsGenerating] = useState(false);
            const [formType, setFormType] = useState('manager'); // 'self' or 'manager'
            
            // === TEAM CONTEXT ===
            const [teamContext, setTeamContext] = useState(null);
            const [teamButtonsVisible, setTeamButtonsVisible] = useState(false);
            
            const [formData, setFormData] = useState({
                employee: '', position: '', manager: '', date: new Date().toISOString().split('T')[0],
                strengths1: '', strengths2: '', careerComment: '', 
                feedbackQ1: '', feedbackQ2: '', feedbackQ3: '', feedbackQ4: '', feedbackQ5: '', feedbackQ6: '', feedbackQ7: 0
            });
            
            const [careerChecks, setCareerChecks] = useState([false, false, false, false, false]);
            const [goals, setGoals] = useState([
                { id: 101, name: '', weight: 60, achievement: 0 },
                { id: 102, name: '', weight: 40, achievement: 0 }
            ]);
            const [devPlan, setDevPlan] = useState([
                { id: 201, measure: '', responsible: '', deadline: '' }
            ]);
            const [coreList, setCoreList] = useState(defs.core);
            const [leadList, setLeadList] = useState(defs.lead);

            // === TEAM CONTEXT EFFECT ===
            useEffect(() => {
              const ctx = localStorage.getItem('nw_current_employee');
              console.log('🔍 AppraisalForm useEffect triggered');
              console.log('   localStorage nw_current_employee:', ctx);
              
              if (ctx) {
                try {
                  const data = JSON.parse(ctx);
                  console.log('✓ Parsed team context:', data);
                  setTeamContext(data);
                  setTeamButtonsVisible(true);
                  
                  // Load existing data if available
                  if (data.existingData) {
                    const existing = data.existingData;
                    
                    // Set form data
                    setFormData(prev => ({
                      ...prev,
                      employee: existing.employeeName || data.employee.name,
                      position: existing.position || data.employee.position,
                      manager: existing.formData?.manager || prev.manager,
                      date: existing.updatedAt ? existing.updatedAt.split('T')[0] : prev.date,
                      strengths1: existing.formData?.strengths1 || '',
                      strengths2: existing.formData?.strengths2 || '',
                      careerComment: existing.formData?.careerComment || '',
                      feedbackQ1: existing.formData?.feedbackQ1 || '',
                      feedbackQ2: existing.formData?.feedbackQ2 || '',
                      feedbackQ3: existing.formData?.feedbackQ3 || '',
                      feedbackQ4: existing.formData?.feedbackQ4 || '',
                      feedbackQ5: existing.formData?.feedbackQ5 || '',
                      feedbackQ6: existing.formData?.feedbackQ6 || '',
                      feedbackQ7: existing.formData?.feedbackQ7 || 0
                    }));
                    
                    // Set goals if exists
                    if (existing.goals && existing.goals.length > 0) {
                      setGoals(existing.goals);
                    }
                    
                    // Set core scores if exists
                    if (existing.coreScores && Object.keys(existing.coreScores).length > 0) {
                      setCoreList(prev => prev.map(c => ({
                        ...c,
                        rating: existing.coreScores[c.id] || c.rating,
                        comment: existing.coreComments?.[c.id] || c.comment || ''
                      })));
                    }
                    
                    // Set leader scores if exists
                    if (existing.leaderScores && Object.keys(existing.leaderScores).length > 0) {
                      setLeadList(prev => prev.map(c => ({
                        ...c,
                        rating: existing.leaderScores[c.id] || c.rating,
                        comment: existing.leaderComments?.[c.id] || c.comment || ''
                      })));
                    }
                    
                    // Set isManager if leadership was included
                    if (existing.includeLeadership) {
                      setIsManager(true);
                    }
                    
                    // Set career checks if exists
                    if (existing.careerChecks) {
                      setCareerChecks(existing.careerChecks);
                    }
                    
                    // Set dev plan if exists
                    if (existing.devPlan && existing.devPlan.length > 0) {
                      setDevPlan(existing.devPlan);
                    }
                    
                  } else {
                    // New appraisal - set employee data
                    setFormData(prev => ({
                      ...prev,
                      employee: data.employee.name,
                      position: data.employee.position
                    }));
                  }
                } catch (e) {
                  console.error('Error loading team context:', e);
                }
              }
            }, []);
            
            // === TEAM SAVE HANDLER ===
            const handleSaveTeamAppraisal = (status) => {
              if (!teamContext || !onSaveTeam) {
                alert('Team-Kontext fehlt!');
                return;
              }
              
              // Collect core scores
              const coreScoresObj = {};
              const coreCommentsObj = {};
              coreList.forEach(c => {
                coreScoresObj[c.id] = c.rating;
                coreCommentsObj[c.id] = c.comment || '';
              });
              
              // Collect leader scores
              const leaderScoresObj = {};
              const leaderCommentsObj = {};
              leadList.forEach(c => {
                leaderScoresObj[c.id] = c.rating;
                leaderCommentsObj[c.id] = c.comment || '';
              });
              
              const appraisal = {
                id: teamContext.appraisalId,
                type: 'review', // WICHTIG: Typ auf 'review' setzen
                employeeId: teamContext.employee.id,
                employeeName: teamContext.employee.name,
                position: teamContext.employee.position,
                period: teamContext.period,
                status: status,
                createdAt: teamContext.existingData?.createdAt || new Date().toISOString(),
                updatedAt: new Date().toISOString(),
                goals: goals,
                coreScores: coreScoresObj,
                coreComments: coreCommentsObj,
                leaderScores: leaderScoresObj,
                leaderComments: leaderCommentsObj,
                includeLeadership: isManager,
                wasScore: wasScore,
                wieCoreScore: wieCoreScore,
                wieLeaderScore: wieLeadScore,
                gpsScore: finalGPS,
                formData: formData,
                careerChecks: careerChecks,
                devPlan: devPlan
              };
              
              onSaveTeam(appraisal);
            };
            
            // === TEAM CANCEL HANDLER ===
            const handleCancelTeam = () => {
              if (confirm(lang === 'de' ? 'Abbrechen? Änderungen gehen verloren.' : 'Annullare?')) {
                localStorage.removeItem('nw_current_employee');
                if (onCancel) onCancel();
              }
            };

            useEffect(() => {
                setCoreList(prev => prev.map((p, i) => {
                    if (defs.core[i]) {
                        return {
                            ...p,
                            name: lang === 'it' && CORE_COMPETENCIES_CALC[i].nameIt ? 
                                CORE_COMPETENCIES_CALC[i].nameIt : 
                                CORE_COMPETENCIES_CALC[i].name
                        };
                    }
                    return p;
                }));
                setLeadList(prev => prev.map((p, i) => {
                    if (defs.lead[i]) {
                        return {
                            ...p,
                            name: lang === 'it' && LEADERSHIP_COMPETENCIES_CALC[i].nameIt ? 
                                LEADERSHIP_COMPETENCIES_CALC[i].nameIt : 
                                LEADERSHIP_COMPETENCIES_CALC[i].name
                        };
                    }
                    return p;
                }));
            }, [lang]);

            const calculateWAS = () => {
                let sum = 0, weight = 0;
                goals.forEach(g => {
                    const w = parseFloat(g.weight) || 0;
                    if(w > 0) { sum += getBarsScore(g.achievement) * (w/100); weight += w; }
                });
                return weight > 0 ? (sum / (weight/100)) : 0;
            };

            const calculateWIE = (list) => {
                let sum = 0, weight = 0;
                list.forEach(i => {
                    const w = parseFloat(i.weight) || 0;
                    sum += i.rating * (w/100);
                    weight += w;
                });
                return weight > 0 ? (sum / (weight/100)) : 0;
            };

            const wasScore = calculateWAS();
            const wieCoreScore = calculateWIE(coreList);
            const wieLeadScore = calculateWIE(leadList);
            
            // Calculate total goal weight for validation
            const totalGoalWeight = goals.reduce((sum, g) => sum + (parseFloat(g.weight) || 0), 0);
            
            // GPS-Berechnung: Wenn keine Ziele vorhanden, nur WIE-Kompetenzen (100%)
            let finalGPS;
            if (goals.length === 0 || totalGoalWeight === 0) {
                // Keine Ziele: GPS = 100% WIE
                finalGPS = isManager 
                    ? (wieCoreScore * 0.5) + (wieLeadScore * 0.5)
                    : wieCoreScore;
            } else {
                // Mit Zielen: Standard-Formel
                finalGPS = isManager 
                    ? (wasScore * 0.5) + (wieCoreScore * 0.25) + (wieLeadScore * 0.25)
                    : (wasScore * 0.5) + (wieCoreScore * 0.5);
            }

            const handleFormChange = (field, val) => setFormData({...formData, [field]: val});
            const updateItem = (list, setList, id, field, val) => {
                setList(list.map(i => {
                    if (i.id !== id) return i;
                    // Parse numeric fields to ensure calculations work correctly
                    if (field === 'weight' || field === 'achievement') {
                        return { ...i, [field]: parseFloat(val) || 0 };
                    }
                    if (field === 'rating') {
                        return { ...i, [field]: parseInt(val) || 3 };
                    }
                    return { ...i, [field]: val };
                }));
            };
            const addItem = (list, setList, template) => setList([...list, { ...template, id: Date.now() }]);
            const removeItem = (list, setList, id) => setList(list.filter(i => i.id !== id));
            const toggleCareer = (index) => {
                const newChecks = [...careerChecks];
                newChecks[index] = !newChecks[index];
                setCareerChecks(newChecks);
            };

            const handleDownloadPDF = () => {
                if (!window.html2pdf) {
                    alert("PDF-Bibliothek nicht geladen. Bitte Seite neu laden.");
                    return;
                }
                
                setIsGenerating(true);
                
                setTimeout(() => {
                    try {
                        // Create a clean copy for PDF
                        const element = formRef.current;
                        const pdfContainer = document.createElement('div');
                        pdfContainer.className = 'pdf-export-container';
                        pdfContainer.style.cssText = `
                            width: 210mm;
                            padding: 15mm;
                            background: white;
                            font-family: Arial, sans-serif;
                            color: #1e293b;
                            font-size: 11pt;
                            line-height: 1.4;
                        `;
                        
                        // Build PDF content structure
                        let pdfHTML = `
                            <div style="margin-bottom: 20px; border-bottom: 2px solid #e2e8f0; padding-bottom: 15px;">
                                <h1 style="color: #243186; font-size: 24pt; margin: 0 0 5px 0;">nıederwıeser</h1>
                                <p style="color: #6EBD84; font-size: 10pt; margin: 0; font-weight: 600;">FLEXIBLE FOOD PACKAGING</p>
                                <h2 style="color: #243186; font-size: 18pt; margin: 15px 0 5px 0;">${t.headerTitle}</h2>
                                <p style="color: #6EBD84; font-size: 12pt; margin: 0; font-weight: 600;">${t.headerSubtitle}</p>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0;">
                                <h3 style="font-size: 14pt; margin: 0 0 10px 0; color: #334155;">${t.partA}</h3>
                                <p style="margin: 5px 0; font-weight: 600;">${t.profile}: ${isManager ? t.roleMgr : t.roleEmp}</p>
                                <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                                    <tr>
                                        <td style="padding: 5px 0; width: 50%;"><span style="font-size: 9pt; color: #64748b;">${t.employee}</span><br/><strong>${formData.employee || '–'}</strong></td>
                                        <td style="padding: 5px 0;"><span style="font-size: 9pt; color: #64748b;">${t.manager}</span><br/><strong>${formData.manager || '–'}</strong></td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 5px 0;"><span style="font-size: 9pt; color: #64748b;">${t.position}</span><br/><strong>${formData.position || '–'}</strong></td>
                                        <td style="padding: 5px 0;"><span style="font-size: 9pt; color: #64748b;">${t.date}</span><br/><strong>${formData.date || '–'}</strong></td>
                                    </tr>
                                </table>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                    <h3 style="font-size: 14pt; margin: 0; color: #334155;">${t.partB}</h3>
                                    <span style="background: #dbeafe; color: #1e40af; padding: 3px 8px; border-radius: 4px; font-size: 10pt; font-weight: 600;">Score: ${wasScore.toFixed(2)}</span>
                                </div>
                                <table style="width: 100%; border-collapse: collapse; font-size: 10pt;">
                                    <thead>
                                        <tr style="background: #f8fafc;">
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.goalName}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; width: 70px;">${t.weight}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; width: 70px;">${t.achievement}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; width: 60px;">BARS</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${goals.map(g => `
                                            <tr>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${g.name || '–'}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; text-align: right;">${g.weight}%</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; text-align: right;">${g.achievement}%</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; background: #f8fafc;">${getBarsScore(g.achievement)}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                    <h3 style="font-size: 14pt; margin: 0; color: #334155;">${t.partC}</h3>
                                    <span style="background: #e8f5ed; color: #4d9360; padding: 3px 8px; border-radius: 4px; font-size: 10pt; font-weight: 600;">Score: ${wieCoreScore.toFixed(2)}</span>
                                </div>
                                <table style="width: 100%; border-collapse: collapse; font-size: 10pt;">
                                    <thead>
                                        <tr style="background: #f8fafc;">
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.compName}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; width: 80px;">${t.rating}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.comment}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${coreList.map(c => `
                                            <tr>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${c.name}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; background: #f8fafc;">${c.rating}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; font-size: 9pt;">${c.comment || '–'}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            ${isManager ? `
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                    <h3 style="font-size: 14pt; margin: 0; color: #5ca872;">${t.partCLead}</h3>
                                    <span style="background: #e8f5ed; color: #4d9360; padding: 3px 8px; border-radius: 4px; font-size: 10pt; font-weight: 600;">Score: ${wieLeadScore.toFixed(2)}</span>
                                </div>
                                <table style="width: 100%; border-collapse: collapse; font-size: 10pt;">
                                    <thead>
                                        <tr style="background: #f8fafc;">
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.compName}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; width: 80px;">${t.rating}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.comment}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${leadList.map(l => `
                                            <tr>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${l.name}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; text-align: center; font-weight: 700; background: #f8fafc;">${l.rating}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px; font-size: 9pt;">${l.comment || '–'}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            ` : ''}
                            
                            <div style="margin-bottom: 15px; padding: 15px; border: 1px solid #e2e8f0; background: #f8fafc; text-align: center; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 5px 0; color: #334155;">${t.partC3}</h3>
                                <p style="font-size: 10pt; color: #64748b; margin: 5px 0;">FINAL GPS</p>
                                <p style="font-size: 48pt; font-weight: 900; margin: 10px 0; color: #1e293b;">${finalGPS.toFixed(2)}</p>
                                <p style="font-size: 11pt; color: #6EBD84; font-weight: 600; margin: 5px 0;">${isManager ? '(WAS 50% + WIE Core 25% + WIE Lead 25%)' : '(WAS 50% + WIE Core 50%)'}</p>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 10px 0; color: #334155;">${t.partD}</h3>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.strengthsProfessional}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 40px;">${formData.strengths1 || '–'}</p>
                                <p style="font-weight: 600; margin: 15px 0 5px 0; font-size: 10pt;">${t.strengthsPersonal}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 40px;">${formData.strengths2 || '–'}</p>
                                
                                <h4 style="font-weight: 700; margin: 15px 0 5px 0; font-size: 12pt;">${t.development}</h4>
                                <table style="width: 100%; border-collapse: collapse; font-size: 10pt; margin-top: 10px;">
                                    <thead>
                                        <tr style="background: #f8fafc;">
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.measure}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700;">${t.responsible}</th>
                                            <th style="border: 1px solid #cbd5e1; padding: 6px; text-align: left; font-weight: 700; width: 100px;">${t.deadline}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${devPlan.map(d => `
                                            <tr>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${d.measure || '–'}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${d.responsible || '–'}</td>
                                                <td style="border: 1px solid #cbd5e1; padding: 6px;">${d.deadline || '–'}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 10px 0; color: #334155;">${t.partE}</h3>
                                <div style="margin: 10px 0;">
                                    ${careerChecks.map((checked, i) => checked ? `<p style="margin: 5px 0; padding: 5px; background: #e8f5ed; border-left: 3px solid #6EBD84;">✓ ${t.careerOptions[i]}</p>` : '').join('')}
                                </div>
                                ${formData.careerComment ? `<p style="margin: 10px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa;">${formData.careerComment}</p>` : ''}
                            </div>
                            
                            <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 10px 0; color: #334155;">${t.partF}</h3>
                                <p style="font-size: 9pt; color: #64748b; margin-bottom: 10px;">${t.feedbackIntro}</p>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.feedbackQ1}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 30px;">${formData.feedbackQ1 || '–'}</p>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.feedbackQ2}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 30px;">${formData.feedbackQ2 || '–'}</p>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.feedbackQ3}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 30px;">${formData.feedbackQ3 || '–'}</p>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.feedbackQ4}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 30px;">${formData.feedbackQ4 || '–'}</p>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.feedbackQ5}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 30px;">${formData.feedbackQ5 || '–'}</p>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.feedbackQ6}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa; min-height: 30px;">${formData.feedbackQ6 || '–'}</p>
                                <p style="font-weight: 600; margin: 10px 0 5px 0; font-size: 10pt;">${t.feedbackQ7}</p>
                                <p style="margin: 5px 0; padding: 8px; border: 1px solid #e2e8f0; background: #fafafa;">${formData.feedbackQ7 || '–'}</p>
                            </div>
                            
                            <div style="margin-top: 30px; padding: 10px; border: 1px solid #e2e8f0; page-break-inside: avoid;">
                                <h3 style="font-size: 14pt; margin: 0 0 20px 0; color: #334155;">${t.partH}</h3>
                                <div style="display: flex; justify-content: space-between; margin-top: 40px;">
                                    <div style="width: 45%; text-align: center;">
                                        <div style="border-bottom: 2px solid #1e293b; height: 50px;"></div>
                                        <p style="margin: 10px 0 0 0; font-size: 9pt; color: #64748b;">${t.employee}</p>
                                    </div>
                                    <div style="width: 45%; text-align: center;">
                                        <div style="border-bottom: 2px solid #1e293b; height: 50px;"></div>
                                        <p style="margin: 10px 0 0 0; font-size: 9pt; color: #64748b;">${t.manager}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                        
                        pdfContainer.innerHTML = pdfHTML;
                        document.body.appendChild(pdfContainer);
                        
                        const opt = {
                            margin: 0,
                            filename: `Performance_Review_${(formData.employee || 'Export').replace(/[^a-z0-9äöüß]/gi, '_')}.pdf`,
                            image: { type: 'jpeg', quality: 0.95 },
                            html2canvas: { 
                                scale: 2,
                                useCORS: true,
                                logging: false,
                                backgroundColor: '#ffffff'
                            },
                            jsPDF: { 
                                unit: 'mm', 
                                format: 'a4', 
                                orientation: 'portrait'
                            }
                        };
                        
                        window.html2pdf()
                            .set(opt)
                            .from(pdfContainer)
                            .save()
                            .then(() => {
                                document.body.removeChild(pdfContainer);
                                setIsGenerating(false);
                            })
                            .catch(err => {
                                console.error('PDF Error:', err);
                                alert("Fehler beim PDF-Export: " + err.message);
                                if (document.body.contains(pdfContainer)) {
                                    document.body.removeChild(pdfContainer);
                                }
                                setIsGenerating(false);
                            });
                            
                    } catch (error) {
                        console.error('PDF Generation Error:', error);
                        alert("Fehler beim PDF-Export: " + error.message);
                        setIsGenerating(false);
                    }
                }, 300);
            };

            const renderRow = (item, setList, list, isGoal) => (
                e(React.Fragment, { key: item.id },
                    e('tr', { className: "break-inside-avoid" },
                        e('td', { className: "p-2 border" }, 
                            e('input', { className: "w-full bg-transparent outline-none font-medium", value: item.name, placeholder: "...", onChange: (ev) => updateItem(list, setList, item.id, 'name', ev.target.value) })
                        ),
                        isGoal && e('td', { className: "p-2 border text-center w-16" }, 
                            e('div', { className: "flex items-center justify-center" },
                                e('input', { type: "number", className: "w-full bg-transparent outline-none text-right pr-1", value: item.weight, onChange: (ev) => updateItem(list, setList, item.id, 'weight', ev.target.value) }), e('span', null, "%")
                            )
                        ),
                        isGoal && e('td', { className: "p-2 border text-center w-16" }, 
                            e('div', { className: "flex items-center justify-center" },
                                e('input', { type: "number", className: "w-full bg-transparent outline-none text-right pr-1", value: item.achievement, onChange: (ev) => updateItem(list, setList, item.id, 'achievement', ev.target.value) }), e('span', null, "%")
                            )
                        ),
                        e('td', { className: "p-2 border text-center w-24 font-bold bg-slate-50" }, 
                            isGoal ? getBarsScore(item.achievement) : 
                            e('select', { className: "bg-transparent w-full text-center outline-none font-bold", value: item.rating, onChange: (ev) => updateItem(list, setList, item.id, 'rating', parseInt(ev.target.value)) }, 
                                [1,2,3,4,5].map(n => e('option', {key:n, value:n}, n)))
                        ),
                        !isGoal && e('td', { className: "p-2 border" }, 
                            e('textarea', { className: "w-full bg-transparent outline-none resize-none text-sm", rows: 1, value: item.comment, placeholder: "...", onChange: (ev) => updateItem(list, setList, item.id, 'comment', ev.target.value) })
                        ),
                        // Löschen-Button für Ziele
                        isGoal && e('td', { className: "p-2 border text-center no-print w-8" }, 
                            e('button', { 
                                onClick: () => removeItem(list, setList, item.id), 
                                className: "text-slate-300 hover:text-red-500 transition-colors",
                                title: lang === 'de' ? 'Ziel löschen' : 'Elimina obiettivo'
                            }, e(Trash2, { size: 14 }))
                        )
                    ),
                    !isGoal && item.rating && (() => {
                        // Map competency id to BARS key
                        const compKey = item.id === 'fach' || (typeof item.id === 'string' && item.id.length <= 10) ? item.id : 
                                       CORE_COMPETENCIES_CALC.find(c => c.name === item.name || c.nameIt === item.name)?.id ||
                                       LEADERSHIP_COMPETENCIES_CALC.find(c => c.name === item.name || c.nameIt === item.name)?.id;
                        const description = compKey && t.barsCompetency && t.barsCompetency[compKey] ? 
                                           t.barsCompetency[compKey][item.rating] : 
                                           '';
                        return description ? e('tr', { className: "break-inside-avoid no-print" },
                            e('td', { colSpan: 4, className: "px-2 py-1 border-l border-r bg-blue-50 text-xs text-blue-700 italic" },
                                description
                            )
                        ) : null;
                    })()
                )
            );
            
            const renderDevRow = (item) => (
                e('tr', { key: item.id, className: "break-inside-avoid" },
                    e('td', { className: "p-2 border" }, 
                        e('input', { className: "w-full bg-transparent outline-none", value: item.measure, placeholder: "...", onChange: (ev) => updateItem(devPlan, setDevPlan, item.id, 'measure', ev.target.value) })
                    ),
                    e('td', { className: "p-2 border" }, 
                        e('input', { className: "w-full bg-transparent outline-none", value: item.responsible, placeholder: "...", onChange: (ev) => updateItem(devPlan, setDevPlan, item.id, 'responsible', ev.target.value) })
                    ),
                    e('td', { className: "p-2 border" }, 
                        e('input', { type: "date", className: "w-full bg-transparent outline-none", value: item.deadline, onChange: (ev) => updateItem(devPlan, setDevPlan, item.id, 'deadline', ev.target.value) })
                    ),
                    e('td', { className: "p-2 border text-center no-print w-8" }, 
                        e('button', { onClick: () => removeItem(devPlan, setDevPlan, item.id), className: "text-slate-300 hover:text-red-500" }, e(Trash2, { size: 14 }))
                    )
                )
            );

            return e('div', { ref: formRef, className: "max-w-5xl mx-auto space-y-8 pb-20" },
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200" },
                    e('div', { className: "flex justify-between items-start mb-6" },
                        e('div', null, 
                            e('h1', { className: "text-3xl font-bold", style: { color: "#243186" } }, "nıederwıeser"), 
                            e('span', { className: "text-sm tracking-wider font-medium", style: { color: "#6EBD84" } }, "FLEXIBLE FOOD PACKAGING")
                        ),
                        e('button', { onClick: handleDownloadPDF, disabled: isGenerating, className: "no-print flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50" }, 
                            isGenerating ? e(Loader2, { className: "animate-spin", size: 18 }) : e(Download, { size: 18 }), 
                            isGenerating ? t.generating : t.print
                        )
                    ),
                    e('div', { className: "border-b-2 border-slate-100 mb-4" }),
                    
                    // === TEAM BUTTONS (wenn teamContext) ===
                    teamButtonsVisible && teamContext && e('div', {
                      className: 'mb-6 p-5 bg-gradient-to-r from-[#243186] to-[#1a2564] rounded-xl shadow-2xl border-2 border-[#6EBD84]'
                    },
                      e('div', { className: 'flex flex-col gap-4' },
                        e('div', { className: 'flex justify-between items-start' },
                          e('div', { className: 'text-white' },
                            e('h2', { className: 'text-2xl font-bold mb-1', style: { color: '#6EBD84' } }, 
                              teamContext.employee.name
                            ),
                            e('p', { className: 'text-blue-200 text-sm font-medium' }, 
                              teamContext.employee.position + (teamContext.employee.department ? ' • ' + teamContext.employee.department : '')
                            ),
                            e('p', { className: 'text-blue-100 text-xs mt-1' }, 
                              (lang === 'de' ? 'Bewertungszeitraum: ' : 'Periodo: ') + teamContext.period
                            )
                          ),
                          e('button', {
                            onClick: handleCancelTeam,
                            type: 'button',
                            className: 'text-white/80 hover:text-white transition-colors text-2xl leading-none font-bold'
                          }, '×')
                        ),
                        e('div', { className: 'grid grid-cols-3 gap-3 mt-2' },
                          e('button', {
                            onClick: () => handleSaveTeamAppraisal('draft'),
                            type: 'button',
                            className: 'bg-slate-200 hover:bg-slate-300 text-slate-900 py-3 px-4 rounded-lg font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2'
                          }, '💾 ', lang === 'de' ? 'Entwurf speichern' : 'Salva bozza'),
                          e('button', {
                            onClick: () => handleSaveTeamAppraisal('completed'),
                            type: 'button',
                            className: 'bg-[#6EBD84] hover:bg-[#5da872] text-white py-3 px-4 rounded-lg font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2'
                          }, '✓ ', lang === 'de' ? 'Abschließen' : 'Completa'),
                          e('button', {
                            onClick: handleCancelTeam,
                            type: 'button',
                            className: 'border-2 border-white/40 text-white py-3 px-4 rounded-lg font-bold hover:bg-white/20 transition-all shadow-lg text-sm'
                          }, lang === 'de' ? 'Abbrechen' : 'Annulla')
                        )
                      )
                    ),
                    
                    e('h2', { className: "text-2xl font-bold", style: { color: "#243186" } }, t.headerTitle),
                    e('p', { className: "font-medium", style: { color: "#6EBD84" } }, t.headerSubtitle)
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, t.partA),
                    e('div', { className: "no-print mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200" },
                        e('span', { className: "font-bold text-sm text-blue-800 block mb-3" }, t.formType + ":"),
                        e('div', { className: "flex gap-6 mb-3" },
                            e('label', { className: "flex items-center gap-2 text-sm cursor-pointer" }, 
                                e('input', { type: "radio", checked: formType === 'self', onChange: () => setFormType('self'), name: "formType" }), 
                                t.formTypeSelf
                            ),
                            e('label', { className: "flex items-center gap-2 text-sm cursor-pointer" }, 
                                e('input', { type: "radio", checked: formType === 'manager', onChange: () => setFormType('manager'), name: "formType" }), 
                                t.formTypeManager
                            )
                        ),
                        formType === 'self' && e('div', { className: "bg-yellow-50 border border-yellow-300 p-3 rounded text-sm text-yellow-900" }, t.selfReflectionNote)
                    ),
                    e('div', { className: "hidden print:block pdf-only mb-4 p-3 bg-slate-50 border rounded" }, 
                        e('strong', null, t.formType + ": "), 
                        formType === 'self' ? t.formTypeSelf : t.formTypeManager
                    ),
                    e('div', { className: "no-print mb-6 bg-[#F4FAF7] p-3 rounded flex gap-6 items-center" },
                        e('span', { className: "font-bold text-sm text-[#4D9360]" }, t.profile + ":"),
                        e('label', { className: "flex items-center gap-2 text-sm cursor-pointer" }, e('input', { type: "radio", checked: !isManager, onChange: () => setIsManager(false) }), t.roleEmp),
                        e('label', { className: "flex items-center gap-2 text-sm cursor-pointer" }, e('input', { type: "radio", checked: isManager, onChange: () => setIsManager(true) }), t.roleMgr)
                    ),
                    e('div', { className: "hidden print:block pdf-only mb-4 font-bold" }, `${t.profile}: ${isManager ? t.roleMgr : t.roleEmp}`),
                    e('div', { className: "grid grid-cols-2 gap-6" },
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.employee), e('input', { type: "text", value: formData.employee, onChange: (ev) => handleFormChange('employee', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" })),
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.manager), e('input', { type: "text", value: formData.manager, onChange: (ev) => handleFormChange('manager', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" })),
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.position), e('input', { type: "text", value: formData.position, onChange: (ev) => handleFormChange('position', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" })),
                        e('div', null, e('label', { className: "text-xs text-slate-500 block" }, t.date), e('input', { type: "date", value: formData.date, onChange: (ev) => handleFormChange('date', ev.target.value), className: "w-full border-b border-slate-300 py-1 outline-none" }))
                    )
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('div', { className: "flex justify-between items-center mb-4 border-b pb-2" },
                        e('h3', { className: "text-lg font-bold text-slate-700" }, t.partB),
                        e('span', { className: "bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-bold" }, 
                            goals.length > 0 ? `Score: ${wasScore.toFixed(2)}` : (lang === 'de' ? 'Keine Ziele (nur WIE)' : 'Nessun obiettivo (solo COME)')
                        )
                    ),
                    e('table', { className: "w-full text-sm" },
                        e('thead', { className: "bg-slate-50 text-left" }, e('tr', null, 
                            e('th', { className: "p-2 border w-1/3" }, t.goalName), 
                            e('th', { className: "p-2 border" }, t.weight), 
                            e('th', { className: "p-2 border" }, t.achievement), 
                            e('th', { className: "p-2 border" }, "BARS"),
                            e('th', { className: "p-2 border no-print w-8" }, "")
                        )),
                        e('tbody', null, goals.map(item => renderRow(item, setGoals, goals, true)))
                    ),
                    e('button', { onClick: () => addItem(goals, setGoals, {name:'', weight:0, achievement:0}), className: "no-print mt-3 text-xs flex items-center gap-1 text-blue-600" }, e(PlusCircle, {size:14}), t.addGoal),
                    goals.length === 0 && e('div', { 
                        className: 'no-print text-sm p-3 mt-3 rounded-lg bg-blue-50 text-blue-700 border border-blue-200'
                    }, 
                        lang === 'de' 
                            ? '💡 Keine Ziele definiert. Der GPS wird nur aus den WIE-Kompetenzen (100%) berechnet.'
                            : '💡 Nessun obiettivo definito. Il GPS viene calcolato solo dalle competenze COME (100%).'
                    ),
                    goals.length > 0 && totalGoalWeight !== 100 && e('div', { 
                        className: `no-print text-sm p-3 mt-3 rounded-lg ${
                            totalGoalWeight > 100 ? 'bg-red-50 text-red-700 border border-red-200' : 
                            'bg-yellow-50 text-yellow-700 border border-yellow-200'
                        }`
                    }, 
                        `${t.totalWeight}: ${totalGoalWeight}% ${totalGoalWeight !== 100 ? `(${t.shouldBe100})` : ''}`
                    )
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('div', { className: "flex justify-between items-center mb-4 border-b pb-2" },
                        e('h3', { className: "text-lg font-bold text-slate-700" }, t.partC),
                        e('span', { className: "bg-[#E8F5ED] text-[#4D9360] px-2 py-1 rounded text-xs font-bold" }, `Score: ${wieCoreScore.toFixed(2)}`)
                    ),
                    e('table', { className: "w-full text-sm" },
                        e('thead', { className: "bg-slate-50 text-left" }, e('tr', null, 
                            e('th', { className: "p-2 border" }, t.compName), 
                            e('th', { className: "p-2 border w-24" }, t.rating), 
                            e('th', { className: "p-2 border" }, t.comment)
                        )),
                        e('tbody', null, coreList.map(item => renderRow(item, setCoreList, coreList, false)))
                    ),
                    e('button', { onClick: () => addItem(coreList, setCoreList, {name:'', weight:20, rating:3, comment:''}), className: "no-print mt-3 text-xs flex items-center gap-1 text-[#6EBD84]" }, e(PlusCircle, {size:14}), t.addComp)
                ),
                isManager && e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('div', { className: "flex justify-between items-center mb-4 border-b pb-2" },
                        e('h3', { className: "text-lg font-bold text-[#5CA872]" }, t.partCLead),
                        e('span', { className: "bg-[#E8F5ED] text-[#4D9360] px-2 py-1 rounded text-xs font-bold" }, `Score: ${wieLeadScore.toFixed(2)}`)
                    ),
                    e('table', { className: "w-full text-sm" },
                        e('thead', { className: "bg-slate-50 text-left" }, e('tr', null, 
                            e('th', { className: "p-2 border" }, t.compName), 
                            e('th', { className: "p-2 border w-24" }, t.rating), 
                            e('th', { className: "p-2 border" }, t.comment)
                        )),
                        e('tbody', null, leadList.map(item => renderRow(item, setLeadList, leadList, false)))
                    ),
                    e('button', { onClick: () => addItem(leadList, setLeadList, {name:'', weight:20, rating:3, comment:''}), className: "no-print mt-3 text-xs flex items-center gap-1 text-[#6EBD84]" }, e(PlusCircle, {size:14}), t.addComp)
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, t.partC3),
                    e('div', { className: "bg-slate-50 p-6 rounded-xl text-center border border-slate-200" },
                        e('div', { className: "text-sm text-slate-500 uppercase tracking-widest mb-2" }, "Final GPS"),
                        e('div', { className: "text-5xl font-black text-slate-800" }, finalGPS.toFixed(2)),
                        e('div', { className: "mt-2 font-medium text-[#6EBD84]" }, isManager ? `(WAS 50% + WIE Core 25% + WIE Lead 25%)` : `(WAS 50% + WIE Core 50%)`)
                    )
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, t.partD),
                    e('div', { className: "mb-6" },
                        e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.strengthsProfessional),
                        e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 3, value: formData.strengths1, onChange: (ev) => handleFormChange('strengths1', ev.target.value) }),
                        e('label', { className: "block text-sm font-bold mt-4 mb-1 text-slate-700" }, t.strengthsPersonal),
                        e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 3, value: formData.strengths2, onChange: (ev) => handleFormChange('strengths2', ev.target.value) })
                    ),
                    e('h4', { className: "font-bold text-slate-700 mb-2" }, t.development),
                    e('p', { className: "text-xs text-slate-500 mb-2" }, t.devIntro),
                    e('table', { className: "w-full text-sm mb-2" },
                        e('thead', { className: "bg-slate-50 text-left" }, e('tr', null, e('th', { className: "p-2 border" }, t.measure), e('th', { className: "p-2 border" }, t.responsible), e('th', { className: "p-2 border" }, t.deadline), e('th', { className: "p-2 border no-print" }, ""))),
                        e('tbody', null, devPlan.map(item => renderDevRow(item)))
                    ),
                    e('button', { onClick: () => addItem(devPlan, setDevPlan, {measure:'', responsible:'', deadline:''}), className: "no-print mt-2 text-xs flex items-center gap-1 text-blue-600" }, e(PlusCircle, {size:14}), t.addDev)
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, t.partE),
                    e('p', { className: "text-xs text-slate-500 mb-2" }, t.careerIntro),
                    e('div', { className: "grid grid-cols-1 md:grid-cols-2 gap-2 mb-4" },
                        t.careerOptions.map((opt, i) => 
                            e('label', { key: i, className: "flex items-center gap-2 text-sm p-2 border rounded cursor-pointer hover:bg-slate-50" },
                                e('input', { type: "checkbox", checked: careerChecks[i], onChange: () => toggleCareer(i) }), opt
                            )
                        )
                    ),
                    e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.comments),
                    e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 2, value: formData.careerComment, onChange: (ev) => handleFormChange('careerComment', ev.target.value) })
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-4 border-b pb-2" }, t.partF),
                    e('p', { className: "text-xs text-slate-500 mb-4" }, t.feedbackIntro),
                    e('div', { className: "space-y-4" },
                        e('div', null, 
                            e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.feedbackQ1),
                            e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 2, value: formData.feedbackQ1, onChange: (ev) => handleFormChange('feedbackQ1', ev.target.value) })
                        ),
                        e('div', null, 
                            e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.feedbackQ2),
                            e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 2, value: formData.feedbackQ2, onChange: (ev) => handleFormChange('feedbackQ2', ev.target.value) })
                        ),
                        e('div', null, 
                            e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.feedbackQ3),
                            e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 2, value: formData.feedbackQ3, onChange: (ev) => handleFormChange('feedbackQ3', ev.target.value) })
                        ),
                        e('div', null, 
                            e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.feedbackQ4),
                            e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 2, value: formData.feedbackQ4, onChange: (ev) => handleFormChange('feedbackQ4', ev.target.value) })
                        ),
                        e('div', null, 
                            e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.feedbackQ5),
                            e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 2, value: formData.feedbackQ5, onChange: (ev) => handleFormChange('feedbackQ5', ev.target.value) })
                        ),
                        e('div', null, 
                            e('label', { className: "block text-sm font-bold mb-1 text-slate-700" }, t.feedbackQ6),
                            e('textarea', { className: "w-full border border-slate-300 rounded p-2 text-sm", rows: 2, value: formData.feedbackQ6, onChange: (ev) => handleFormChange('feedbackQ6', ev.target.value) })
                        ),
                        e('div', null, 
                            e('label', { className: "block text-sm font-bold mb-2 text-slate-700" }, t.feedbackQ7),
                            e('div', { className: "flex gap-4" },
                                [1,2,3,4,5].map(n => 
                                    e('label', { key: n, className: "flex items-center gap-1 cursor-pointer" },
                                        e('input', { type: "radio", name: "balance", value: n, checked: formData.feedbackQ7 == n, onChange: (ev) => handleFormChange('feedbackQ7', ev.target.value) }), n
                                    )
                                )
                            )
                        )
                    )
                ),
                e('div', { className: "bg-white p-8 rounded-xl shadow-sm border border-slate-200 break-inside-avoid" },
                    e('h3', { className: "text-lg font-bold text-slate-700 mb-8 border-b pb-2" }, t.partH),
                    e('div', { className: "grid grid-cols-2 gap-12" },
                        e('div', null, e('div', { className: "border-b border-black h-8" }), e('p', { className: "text-xs mt-1" }, t.employee)),
                        e('div', null, e('div', { className: "border-b border-black h-8" }), e('p', { className: "text-xs mt-1" }, t.manager))
                    )
                )
            );
        };

        function PerformanceApp() {
          const [activeView, setActiveView] = useState('dashboard');

          
          // === TEAM STATES ===
          const [teamMembers, setTeamMembers] = useState([]);
          const [teamAppraisals, setTeamAppraisals] = useState([]);
          
          React.useEffect(() => {
            const saved = localStorage.getItem('nw_team_members');
            if (saved) setTeamMembers(JSON.parse(saved));
          }, []);
          
          React.useEffect(() => {
            const saved = localStorage.getItem('nw_team_appraisals');
            if (saved) setTeamAppraisals(JSON.parse(saved));
          }, []);
          
          React.useEffect(() => {
            localStorage.setItem('nw_team_members', JSON.stringify(teamMembers));
          }, [teamMembers]);
          
          React.useEffect(() => {
            localStorage.setItem('nw_team_appraisals', JSON.stringify(teamAppraisals));
          }, [teamAppraisals]);          const [selectedCompetencyId, setSelectedCompetencyId] = useState(null);
          const [activeScore, setActiveScore] = useState(3);
          
          // Quiz-spezifische States entfernt
          const [lang, setLang] = useState('de'); // 'de' or 'it'
          
          // Helper function for default goals based on language
          const getDefaultGoals = (language) => {
            return language === 'it' 
              ? [
                  { id: 1, name: 'Obiettivo di fatturato', weight: 60, achievement: 100 },
                  { id: 2, name: 'Progetto X', weight: 40, achievement: 95 }
                ]
              : [
                  { id: 1, name: 'Umsatzziel', weight: 60, achievement: 100 },
                  { id: 2, name: 'Projekt X', weight: 40, achievement: 95 }
                ];
          };

          // GPS Simulator State
          const [includeLeadership, setIncludeLeadership] = useState(false);
          const [goals, setGoals] = useState(getDefaultGoals('de'));
          const [coreScores, setCoreScores] = useState({
            fach: 3, komm: 3, prob: 3, adapt: 3, orga: 3
          });
          const [leaderScores, setLeaderScores] = useState({
            lead: 3, strat: 3, decide: 3, exec: 3, stake: 3
          });
          const [wasScore, setWasScore] = useState(0);
          const [wieCoreScore, setWieCoreScore] = useState(0);
          const [wieLeaderScore, setWieLeaderScore] = useState(0);
          const [finalGPS, setFinalGPS] = useState(0);

          // SAFE DATA ACCESS (Bug Fix)
          const t = UI_TEXT[lang] || UI_TEXT['de']; 
          const data = APP_DATA[lang] || APP_DATA['de']; 

          const navigateToCompetency = (id) => {
            setSelectedCompetencyId(id);
            setActiveScore(3);
            setActiveView('detail');
          };

          // Update goals when language changes (only if using default names)
          useEffect(() => {
            const defaultDe = ['Umsatzziel', 'Projekt X'];
            const defaultIt = ['Obiettivo di fatturato', 'Progetto X'];
            
            // Check if goals are still at default values
            if (goals.length === 2 && 
                (defaultDe.includes(goals[0].name) || defaultIt.includes(goals[0].name)) &&
                (defaultDe.includes(goals[1].name) || defaultIt.includes(goals[1].name))) {
              setGoals(getDefaultGoals(lang));
            }
          }, [lang]);
          
          // GPS Simulator Calculations
          useEffect(() => {
            if (activeView !== 'simulator') return;

            let totalWeightedScore = 0;
            let totalWeight = 0;
            
            goals.forEach(g => {
              const bars = getBarsScore(g.achievement);
              totalWeightedScore += bars * (g.weight / 100);
              totalWeight += g.weight;
            });

            const finalWas = totalWeight > 0 ? (totalWeightedScore / (totalWeight/100)) : 0;
            setWasScore(finalWas);

            let coreSum = 0;
            CORE_COMP_SIM[lang].forEach(c => {
              coreSum += coreScores[c.id] * (c.weight / 100);
            });
            setWieCoreScore(coreSum);

            let leaderSum = 0;
            LEADERSHIP_COMP_SIM[lang].forEach(c => {
              leaderSum += leaderScores[c.id] * (c.weight / 100);
            });
            setWieLeaderScore(leaderSum);

            let gps = 0;
            if (!includeLeadership) {
              gps = (finalWas * 0.5) + (coreSum * 0.5);
            } else {
              gps = (finalWas * 0.5) + (coreSum * 0.25) + (leaderSum * 0.25);
            }
            setFinalGPS(gps);

          }, [goals, coreScores, leaderScores, includeLeadership, activeView, lang]);

          // GPS Simulator Handlers
          const handleGoalChange = (id, field, value) => {
            setGoals(goals.map(g => {
              if (g.id !== id) return g;
              if (field === 'weight' || field === 'achievement') {
                return { ...g, [field]: parseFloat(value) || 0 };
              }
              return { ...g, [field]: value };
            }));
          };

          const addGoal = () => {
            const remainingWeight = 100 - goals.reduce((sum, g) => sum + g.weight, 0);
            setGoals([...goals, { id: Date.now(), name: 'Neues Ziel', weight: remainingWeight > 0 ? remainingWeight : 0, achievement: 100 }]);
          };

          const removeGoal = (id) => {
            setGoals(goals.filter(g => g.id !== id));
          };

          const resetSimulator = () => {
            setGoals(getDefaultGoals(lang));
            setCoreScores({ fach: 3, komm: 3, prob: 3, adapt: 3, orga: 3 });
            setLeaderScores({ lead: 3, strat: 3, decide: 3, exec: 3, stake: 3 });
            setIncludeLeadership(false);
          };

          const getActiveCompetencyData = () => {
            if (!data || !data.competencies) return null;
            return data.competencies.find(c => c.id === selectedCompetencyId);
          };

          // Components
          const ScoreBadge = ({ score, active }) => {
            const colors = {
              1: "bg-red-100 text-red-800 border-red-200",
              2: "bg-orange-100 text-orange-800 border-orange-200",
              3: "bg-green-100 text-green-800 border-green-200",
              4: "bg-blue-100 text-blue-800 border-blue-200",
              5: "bg-[#E8F5ED] text-[#4D9360] border-[#D1EBE0]"
            };
            
            return React.createElement('div', {
              className: `flex items-center justify-center w-10 h-10 rounded-full font-bold border-2 cursor-pointer transition-all ${active ? 'scale-110 shadow-md ring-2 ring-offset-2 ring-[#6EBD84] ' + colors[score] : 'opacity-60 grayscale hover:grayscale-0'}`,
              onClick: () => setActiveScore(score)
            }, score);
          };

          
          // === TEAM FUNCTIONS ===
          const addTeamMember = (data) => {
            setTeamMembers([...teamMembers, {
              id: 'emp_' + Date.now(),
              name: data.name,
              position: data.position,
              department: data.department || '',
              createdAt: new Date().toISOString()
            }]);
          };
          
          const deleteTeamMember = (id) => {
            if (confirm(lang === 'de' ? 'Wirklich löschen?' : 'Eliminare?')) {
              setTeamMembers(teamMembers.filter(m => m.id !== id));
              setTeamAppraisals(teamAppraisals.filter(a => a.employeeId !== id));
            }
          };
          
          const startTeamAppraisal = (employeeId, period, existingAppraisal = null) => {
            const employee = teamMembers.find(e => e.id === employeeId);
            if (!employee) return;
            
            // Wenn existingAppraisal übergeben wurde, nutze diesen, sonst suche nach Draft
            const existingDraft = existingAppraisal || teamAppraisals.find(
              a => a.employeeId === employeeId && a.period === period && a.status === 'draft' && a.type === 'review'
            );
            
            localStorage.setItem('nw_current_employee', JSON.stringify({
              employee, period,
              type: 'review',
              appraisalId: existingDraft ? existingDraft.id : 'appr_' + Date.now(),
              existingData: existingDraft
            }));
            
            setActiveView('formular');
          };
          
          // Neue Funktion für Zielvereinbarungen
          const startTeamGoalSetting = (employeeId, period, existingGoal = null) => {
            const employee = teamMembers.find(e => e.id === employeeId);
            if (!employee) return;
            
            // Wenn existingGoal übergeben wurde, nutze diesen, sonst suche nach Draft
            const existingDraft = existingGoal || teamAppraisals.find(
              a => a.employeeId === employeeId && a.period === period && a.status === 'draft' && a.type === 'goals'
            );
            
            localStorage.setItem('nw_current_employee', JSON.stringify({
              employee, period,
              type: 'goals',
              appraisalId: existingDraft ? existingDraft.id : 'goal_' + Date.now(),
              existingData: existingDraft
            }));
            
            setActiveView('zielvereinbarung');
          };
          
          const saveTeamAppraisal = (appraisal) => {
            // Stelle sicher, dass type gesetzt ist (default: 'review')
            const appraisalWithType = {
              ...appraisal,
              type: appraisal.type || 'review'
            };
            
            const idx = teamAppraisals.findIndex(a => a.id === appraisalWithType.id);
            if (idx >= 0) {
              const updated = [...teamAppraisals];
              updated[idx] = appraisalWithType;
              setTeamAppraisals(updated);
            } else {
              setTeamAppraisals([...teamAppraisals, appraisalWithType]);
            }
            localStorage.removeItem('nw_current_employee');
            
            // Angepasste Meldung je nach Typ
            const typeLabel = appraisalWithType.type === 'goals' 
              ? (lang === 'de' ? 'Zielvereinbarung' : 'Accordo obiettivi')
              : (lang === 'de' ? 'Bewertung' : 'Valutazione');
            const statusLabel = appraisalWithType.status === 'draft'
              ? (lang === 'de' ? ' (Entwurf)' : ' (Bozza)')
              : '';
            alert(typeLabel + statusLabel + (lang === 'de' ? ' gespeichert!' : ' salvato!'));
            setActiveView('teamoverview');
          };
          
          const renderTeamOverview = () => {
            // Erweiterte Statistiken mit Typ-Unterscheidung
            const reviews = teamAppraisals.filter(a => a.type === 'review' || !a.type);
            const goals = teamAppraisals.filter(a => a.type === 'goals');
            
            const stats = {
              members: teamMembers.length,
              reviews: reviews.length,
              goals: goals.length,
              completedReviews: reviews.filter(a => a.status === 'completed').length,
              drafts: teamAppraisals.filter(a => a.status === 'draft').length,
              avgGPS: reviews.filter(a => a.status === 'completed').length > 0 
                ? (reviews.filter(a => a.status === 'completed').reduce((s, a) => s + (a.gpsScore || 0), 0) / reviews.filter(a => a.status === 'completed').length).toFixed(2)
                : '–'
            };
            
            // Berechne Status pro Mitarbeiter
            const getMemberStatus = (memberId) => {
              const memberAppraisals = teamAppraisals.filter(a => a.employeeId === memberId);
              if (memberAppraisals.length === 0) return 'none';
              const hasCompleted = memberAppraisals.some(a => a.status === 'completed');
              const hasDraft = memberAppraisals.some(a => a.status === 'draft');
              if (hasCompleted) return 'completed';
              if (hasDraft) return 'draft';
              return 'none';
            };
            
            const getStatusBadge = (status) => {
              if (status === 'completed') {
                return React.createElement('span', {
                  className: 'px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800'
                }, lang === 'de' ? '✓ Abgeschlossen' : '✓ Completato');
              } else if (status === 'draft') {
                return React.createElement('span', {
                  className: 'px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800'
                }, lang === 'de' ? '📝 Entwurf' : '📝 Bozza');
              }
              return React.createElement('span', {
                className: 'px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600'
              }, lang === 'de' ? '○ Nicht gestartet' : '○ Non avviato');
            };
            
            // Type Badge für Historie
            const getTypeBadge = (type) => {
              if (type === 'goals') {
                return React.createElement('span', {
                  className: 'px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800 flex items-center gap-1'
                }, React.createElement(Target, { size: 10 }), lang === 'de' ? 'Ziele' : 'Obiettivi');
              }
              return React.createElement('span', {
                className: 'px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 flex items-center gap-1'
              }, React.createElement(ClipboardList, { size: 10 }), 'Review');
            };
            
            return React.createElement('div', { className: 'space-y-6 pb-10' },
              // Header
              React.createElement('div', { className: 'flex justify-between items-center' },
                React.createElement('h2', { className: 'text-3xl font-bold', style: { color: '#243186' } },
                  lang === 'de' ? '👥 Mein Team' : '👥 Il mio team'
                ),
                React.createElement('p', { className: 'text-slate-500 text-sm' },
                  lang === 'de' ? 'Performance Reviews & Zielvereinbarungen verwalten' : 'Gestisci Performance Reviews e Obiettivi'
                )
              ),
              
              // Stats Cards - 5 Karten
              React.createElement('div', { className: 'grid grid-cols-5 gap-4' },
                React.createElement('div', { className: 'bg-white p-5 rounded-xl shadow-sm border border-slate-200' },
                  React.createElement('div', { className: 'flex items-center gap-3' },
                    React.createElement(Users, { size: 24, className: 'text-[#243186]' }),
                    React.createElement('div', null,
                      React.createElement('div', { className: 'text-2xl font-bold text-slate-800' }, stats.members),
                      React.createElement('div', { className: 'text-xs text-slate-500' }, 
                        lang === 'de' ? 'Mitarbeiter' : 'Dipendenti')
                    )
                  )
                ),
                React.createElement('div', { className: 'bg-white p-5 rounded-xl shadow-sm border border-slate-200' },
                  React.createElement('div', { className: 'flex items-center gap-3' },
                    React.createElement(ClipboardList, { size: 24, className: 'text-blue-600' }),
                    React.createElement('div', null,
                      React.createElement('div', { className: 'text-2xl font-bold text-slate-800' }, stats.reviews),
                      React.createElement('div', { className: 'text-xs text-slate-500' }, 'Reviews')
                    )
                  )
                ),
                React.createElement('div', { className: 'bg-white p-5 rounded-xl shadow-sm border border-slate-200' },
                  React.createElement('div', { className: 'flex items-center gap-3' },
                    React.createElement(Target, { size: 24, className: 'text-purple-600' }),
                    React.createElement('div', null,
                      React.createElement('div', { className: 'text-2xl font-bold text-slate-800' }, stats.goals),
                      React.createElement('div', { className: 'text-xs text-slate-500' }, 
                        lang === 'de' ? 'Zielvereinb.' : 'Obiettivi')
                    )
                  )
                ),
                React.createElement('div', { className: 'bg-white p-5 rounded-xl shadow-sm border border-slate-200' },
                  React.createElement('div', { className: 'flex items-center gap-3' },
                    React.createElement(CheckCircle2, { size: 24, className: 'text-green-600' }),
                    React.createElement('div', null,
                      React.createElement('div', { className: 'text-2xl font-bold text-slate-800' }, stats.completedReviews),
                      React.createElement('div', { className: 'text-xs text-slate-500' }, 
                        lang === 'de' ? 'Abgeschlossen' : 'Completate')
                    )
                  )
                ),
                React.createElement('div', { className: 'bg-white p-5 rounded-xl shadow-sm border border-slate-200' },
                  React.createElement('div', { className: 'flex items-center gap-3' },
                    React.createElement(Award, { size: 24, className: 'text-[#6EBD84]' }),
                    React.createElement('div', null,
                      React.createElement('div', { className: 'text-2xl font-bold text-slate-800' }, stats.avgGPS),
                      React.createElement('div', { className: 'text-xs text-slate-500' }, 'Ø GPS Score')
                    )
                  )
                )
              ),
              
              // Add Employee Form
              React.createElement('div', { className: 'bg-white p-6 rounded-xl shadow-sm border border-slate-200' },
                React.createElement('h3', { className: 'font-bold text-lg mb-4 flex items-center gap-2', style: { color: '#243186' } },
                  React.createElement(UserPlus, { size: 20 }),
                  lang === 'de' ? 'Neuen Mitarbeiter hinzufügen' : 'Aggiungi nuovo dipendente'
                ),
                React.createElement('div', { className: 'grid grid-cols-4 gap-3' },
                  React.createElement('input', {
                    type: 'text', 
                    placeholder: lang === 'de' ? 'Name *' : 'Nome *', 
                    id: 'new-name',
                    className: 'border border-slate-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-[#6EBD84] focus:border-[#6EBD84] outline-none transition-all'
                  }),
                  React.createElement('input', {
                    type: 'text', 
                    placeholder: lang === 'de' ? 'Position *' : 'Posizione *', 
                    id: 'new-position',
                    className: 'border border-slate-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-[#6EBD84] focus:border-[#6EBD84] outline-none transition-all'
                  }),
                  React.createElement('input', {
                    type: 'text', 
                    placeholder: lang === 'de' ? 'Abteilung' : 'Reparto', 
                    id: 'new-dept',
                    className: 'border border-slate-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-[#6EBD84] focus:border-[#6EBD84] outline-none transition-all'
                  }),
                  React.createElement('button', {
                    onClick: () => {
                      const name = document.getElementById('new-name').value.trim();
                      const position = document.getElementById('new-position').value.trim();
                      const department = document.getElementById('new-dept').value.trim();
                      if (name && position) {
                        addTeamMember({ name, position, department });
                        document.getElementById('new-name').value = '';
                        document.getElementById('new-position').value = '';
                        document.getElementById('new-dept').value = '';
                      } else {
                        alert(lang === 'de' ? 'Name und Position sind erforderlich!' : 'Nome e posizione sono obbligatori!');
                      }
                    },
                    className: 'bg-[#6EBD84] text-white px-6 py-2.5 rounded-lg hover:bg-[#5da872] transition-colors font-medium flex items-center justify-center gap-2'
                  }, React.createElement(PlusCircle, { size: 18 }), lang === 'de' ? 'Hinzufügen' : 'Aggiungi')
                )
              ),
              
              // Team Members List
              React.createElement('div', { className: 'space-y-4' },
                React.createElement('h3', { className: 'font-bold text-lg', style: { color: '#243186' } },
                  lang === 'de' ? 'Team-Mitglieder' : 'Membri del team'
                ),
                teamMembers.length === 0 
                  ? React.createElement('div', { 
                      className: 'bg-slate-50 p-12 rounded-xl text-center border-2 border-dashed border-slate-300' 
                    },
                    React.createElement(Users, { size: 48, className: 'mx-auto text-slate-300 mb-4' }),
                    React.createElement('p', { className: 'text-slate-500 text-lg' }, 
                      lang === 'de' ? 'Noch keine Mitarbeiter hinzugefügt' : 'Nessun dipendente ancora aggiunto'),
                    React.createElement('p', { className: 'text-slate-400 text-sm mt-1' }, 
                      lang === 'de' ? 'Fügen Sie oben einen Mitarbeiter hinzu, um zu beginnen.' : 'Aggiungi un dipendente sopra per iniziare.')
                  )
                  : teamMembers.map(member => {
                      const memberAppraisals = teamAppraisals.filter(a => a.employeeId === member.id);
                      const memberStatus = getMemberStatus(member.id);
                      
                      return React.createElement('div', { 
                        key: member.id,
                        className: 'bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-all'
                      },
                        React.createElement('div', { className: 'flex justify-between items-start' },
                          // Left: Member Info
                          React.createElement('div', { className: 'flex-1' },
                            React.createElement('div', { className: 'flex items-center gap-3 mb-2' },
                              React.createElement('h3', { className: 'font-bold text-lg text-slate-800' }, member.name),
                              getStatusBadge(memberStatus)
                            ),
                            React.createElement('p', { className: 'text-sm text-slate-600 mb-3' },
                              member.position + (member.department ? ' • ' + member.department : '')
                            ),
                            
                            // Appraisals List - mit Typ-Badge
                            memberAppraisals.length > 0 && React.createElement('div', { 
                              className: 'mt-3 space-y-2 bg-slate-50 p-3 rounded-lg' 
                            },
                              React.createElement('p', { className: 'text-xs font-medium text-slate-500 uppercase tracking-wider mb-2' },
                                lang === 'de' ? 'Dokumente & Bewertungen:' : 'Documenti e valutazioni:'
                              ),
                              memberAppraisals.map(a => 
                                React.createElement('div', { 
                                  key: a.id, 
                                  className: 'flex gap-3 items-center text-sm bg-white p-2.5 rounded border border-slate-200' 
                                },
                                  // Type Badge
                                  getTypeBadge(a.type),
                                  // Period
                                  React.createElement('span', { className: 'font-medium text-slate-700 min-w-16' }, a.period),
                                  // Status Badge
                                  React.createElement('span', {
                                    className: `px-2 py-0.5 rounded text-xs font-medium ${
                                      a.status === 'completed' 
                                        ? 'bg-green-100 text-green-800' 
                                        : 'bg-yellow-100 text-yellow-800'
                                    }`
                                  }, a.status === 'completed' 
                                    ? (lang === 'de' ? 'Fertig' : 'Fatto') 
                                    : (lang === 'de' ? 'Entwurf' : 'Bozza')),
                                  // GPS Score (nur für Reviews anzeigen)
                                  (a.type !== 'goals') && React.createElement('span', { className: 'text-slate-600' }, 
                                    'GPS: ', 
                                    React.createElement('span', { className: 'font-bold' }, (a.gpsScore || 0).toFixed(2))
                                  ),
                                  // Action Buttons
                                  React.createElement('div', { className: 'flex gap-2 ml-auto' },
                                    React.createElement('button', {
                                      onClick: () => {
                                        // Je nach Typ die richtige Funktion aufrufen
                                        if (a.type === 'goals') {
                                          startTeamGoalSetting(member.id, a.period, a);
                                        } else {
                                          startTeamAppraisal(member.id, a.period, a);
                                        }
                                      },
                                      className: 'text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded transition-colors',
                                      title: lang === 'de' ? 'Bearbeiten' : 'Modifica'
                                    }, React.createElement(Edit2, { size: 16 })),
                                    a.status === 'completed' && React.createElement('button', {
                                      onClick: () => {
                                        // Öffne zum Ansehen/Drucken
                                        if (a.type === 'goals') {
                                          startTeamGoalSetting(member.id, a.period, a);
                                        } else {
                                          startTeamAppraisal(member.id, a.period, a);
                                        }
                                      },
                                      className: 'text-slate-600 hover:text-slate-800 p-1 hover:bg-slate-100 rounded transition-colors',
                                      title: lang === 'de' ? 'Ansehen/Drucken' : 'Visualizza/Stampa'
                                    }, React.createElement(Eye, { size: 16 })),
                                    React.createElement('button', {
                                      onClick: () => {
                                        const confirmMsg = a.type === 'goals'
                                          ? (lang === 'de' ? 'Zielvereinbarung wirklich löschen?' : 'Eliminare gli obiettivi?')
                                          : (lang === 'de' ? 'Bewertung wirklich löschen?' : 'Eliminare la valutazione?');
                                        if (confirm(confirmMsg)) {
                                          setTeamAppraisals(teamAppraisals.filter(x => x.id !== a.id));
                                        }
                                      },
                                      className: 'text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded transition-colors',
                                      title: lang === 'de' ? 'Löschen' : 'Elimina'
                                    }, React.createElement(Trash2, { size: 16 }))
                                  )
                                )
                              )
                            )
                          ),
                          
                          // Right: Action Buttons - mit Zielvereinbarung
                          React.createElement('div', { className: 'flex flex-col gap-2 ml-4' },
                            // Neue Bewertung Button
                            React.createElement('button', {
                              onClick: () => {
                                const currentYear = new Date().getFullYear();
                                const period = prompt(
                                  lang === 'de' ? 'Bewertungszeitraum eingeben:' : 'Inserisci periodo:',
                                  currentYear.toString()
                                );
                                if (period) startTeamAppraisal(member.id, period);
                              },
                              className: 'px-4 py-2.5 bg-[#6EBD84] text-white rounded-lg hover:bg-[#5da872] text-sm font-medium flex items-center gap-2 transition-colors'
                            }, 
                              React.createElement(ClipboardList, { size: 16 }),
                              lang === 'de' ? 'Neue Bewertung' : 'Nuova valutazione'
                            ),
                            // Neue Zielvereinbarung Button
                            React.createElement('button', {
                              onClick: () => {
                                const currentYear = new Date().getFullYear();
                                const period = prompt(
                                  lang === 'de' ? 'Zielzeitraum eingeben (z.B. 2025):' : 'Inserisci periodo obiettivi:',
                                  currentYear.toString()
                                );
                                if (period) startTeamGoalSetting(member.id, period);
                              },
                              className: 'px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm font-medium flex items-center gap-2 transition-colors'
                            }, 
                              React.createElement(Target, { size: 16 }),
                              lang === 'de' ? 'Neue Zielvereinb.' : 'Nuovi obiettivi'
                            ),
                            // Entfernen Button
                            React.createElement('button', {
                              onClick: () => deleteTeamMember(member.id),
                              className: 'px-4 py-2.5 border border-red-200 text-red-600 rounded-lg hover:bg-red-50 text-sm font-medium flex items-center gap-2 transition-colors'
                            }, 
                              React.createElement(Trash2, { size: 16 }),
                              lang === 'de' ? 'Entfernen' : 'Rimuovi'
                            )
                          )
                        )
                      );
                    })
              )
            );
          };
          
const renderDashboard = () => {
            // Safety check inside render
            if (!data || !data.intro) return React.createElement('div', null, "Loading...");

            return React.createElement('div', { className: "space-y-8 animate-in fade-in duration-500" },
              React.createElement('div', { className: "bg-white rounded-xl p-6 shadow-sm border border-slate-200" },
                React.createElement('h2', { className: "text-2xl font-bold mb-4", style: { color: "#243186" } }, t.welcome),
                React.createElement('p', { className: "mb-6 leading-relaxed", style: { color: "#243186" } },
                  t.intro, React.createElement('strong', null, t.introBold), t.introEnd
                ),
                React.createElement('div', { className: "bg-slate-50 p-5 rounded-lg border border-slate-100 mb-6" },
                  React.createElement('h3', { className: "font-semibold mb-3 flex items-center gap-2", style: { color: "#243186" } },
                    React.createElement(Target, { size: 18 }), " ", t.strategyTitle
                  ),
                  React.createElement('p', { className: "text-sm leading-relaxed", style: { color: "#243186" } },
                    t.strategyDesc, React.createElement('strong', null, t.strategyBold), t.strategyEnd
                  )
                )
              ),
              
              React.createElement('div', { className: "grid md:grid-cols-3 gap-4" },
                // BEGIN: Fast, Fair, Personal Block
                data.intro.values.map((val) => (
                  React.createElement('div', { 
                    key: val.key, 
                    // Dunkler Hintergrund, weißer Text, Akzentlinie oben
                    className: "bg-[#243186] p-5 rounded-xl shadow-lg border-t-4 border-t-[#6EBD84] flex flex-col items-center text-center transition-all hover:shadow-xl" 
                  },
                    // Icon: Weiß mit Akzentfarbe für die Hervorhebung
                    React.createElement('div', { className: `mb-3 p-2 rounded-full border-2 border-white/50 text-white/90` }, 
                      React.createElement(val.icon, { size: 32 })
                    ),
                    // Titel: Weißer Text, fett
                    React.createElement('h3', { className: "font-bold text-lg text-white mb-1" }, val.key),
                    // Beschreibung: Hellerer weißer Text
                    React.createElement('p', { className: "text-sm text-slate-300" }, val.desc)
                  )
                ))
                // END: Fast, Fair, Personal Block
              ),
              
              // Performance Kompass Section
              React.createElement('div', { 
                className: "rounded-xl shadow-lg p-8", 
                style: { background: "linear-gradient(135deg, #243186 0%, #1a2460 100%)" }
              },
                React.createElement('h2', { className: "text-3xl font-bold text-white mb-3" }, 
                  t.performanceCompassTitle
                ),
                React.createElement('p', { className: "text-slate-200 text-lg mb-6 leading-relaxed" }, 
                  t.performanceCompassSubtitle
                ),
                // Top Row: WAS + WIE
                React.createElement('div', { className: "relative mb-6" },
                  React.createElement('div', { className: "grid md:grid-cols-2 gap-6" },
                    // WAS Box
                    React.createElement('div', { 
                      className: "bg-white/10 backdrop-blur-sm rounded-2xl p-6 border-2 border-white/20 hover:border-[#6EBD84] transition-all duration-300 hover:scale-105"
                    },
                      React.createElement('div', { className: "flex items-center justify-between mb-4" },
                        React.createElement('h3', { 
                          className: "text-3xl font-bold",
                          style: { color: "#6EBD84" }
                        }, t.wasBoxTitle),
                        React.createElement(Target, { size: 48, className: "text-white/60" })
                      ),
                      React.createElement('p', { className: "text-white text-lg" }, 
                        t.wasBoxSubtitle
                      )
                    ),
                    
                    // WIE Box
                    React.createElement('div', { 
                      className: "bg-white/10 backdrop-blur-sm rounded-2xl p-6 border-2 border-white/20 hover:border-[#6EBD84] transition-all duration-300 hover:scale-105"
                    },
                      React.createElement('div', { className: "flex items-center justify-between mb-4" },
                        React.createElement('h3', { 
                          className: "text-3xl font-bold",
                          style: { color: "#6EBD84" }
                        }, t.wieBoxTitle),
                        React.createElement(Brain, { size: 48, className: "text-white/60" })
                      ),
                      React.createElement('p', { className: "text-white text-lg" }, 
                        t.wieBoxSubtitle
                      )
                    )
                  ),
                  // Plus Symbol zwischen den Boxen (nur Desktop)
                  React.createElement('div', { className: "hidden md:flex absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none" },
                    React.createElement('div', { className: "w-16 h-16 rounded-full bg-white flex items-center justify-center shadow-lg" },
                      React.createElement('span', { className: "text-[#243186] text-4xl font-bold" }, "+")
                    )
                  )
                ),
                
                // GPS Result Box - mittig positioniert, zentrierter Text
                React.createElement('div', { className: "flex justify-center" },
                  React.createElement('div', { 
                    className: "w-full md:w-1/2 bg-gradient-to-br from-[#6EBD84] to-[#5aa871] rounded-2xl p-6 border-2 border-white shadow-2xl transform hover:scale-105 transition-all duration-300"
                  },
                    React.createElement('div', { className: "text-center" },
                      React.createElement('h3', { 
                        className: "text-3xl font-bold text-white mb-2"
                      }, "GPS"),
                      React.createElement('p', { className: "text-white text-lg" }, 
                        "Global Performance Score"
                      )
                    )
                  )
                ),
                // Fairness Garantie Badge
                React.createElement('div', { className: "flex justify-center mt-6" },
                  React.createElement('div', { 
                    className: "inline-flex items-center gap-3 px-6 py-3 rounded-full border-2",
                    style: { 
                      backgroundColor: "rgba(110, 189, 132, 0.2)",
                      borderColor: "#6EBD84"
                    }
                  },
                    React.createElement(Scale, { size: 20, style: { color: "#6EBD84" } }),
                    React.createElement('span', { 
                      className: "font-bold text-sm uppercase tracking-wider",
                      style: { color: "#6EBD84" }
                    }, t.fairnessGuarantee)
                  )
                ),
                
                // GPS Rating Scale Table
                React.createElement('div', { className: "mt-6 bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20" },
                  React.createElement('p', { className: "text-white text-center text-sm mb-4" },
                    lang === 'de' 
                      ? 'Der finale GPS-Score wird in ein 5-stufiges Rating überführt:'
                      : 'Il punteggio GPS finale viene convertito in un rating a 5 livelli:'
                  ),
                  React.createElement('div', { className: "overflow-hidden rounded-lg border border-white/30" },
                    // Header Row
                    React.createElement('div', { className: "grid grid-cols-3 gap-0" },
                      React.createElement('div', { className: "bg-white/20 backdrop-blur-sm px-4 py-3 font-bold text-white text-sm border-r border-white/30" },
                        lang === 'de' ? 'GPS-Score' : 'Punteggio GPS'
                      ),
                      React.createElement('div', { className: "bg-white/20 backdrop-blur-sm px-4 py-3 font-bold text-white text-sm text-center border-r border-white/30" },
                        'Note'
                      ),
                      React.createElement('div', { className: "bg-white/20 backdrop-blur-sm px-4 py-3 font-bold text-white text-sm" },
                        lang === 'de' ? 'Beschreibung' : 'Descrizione'
                      )
                    ),
                    // Rating 5
                    React.createElement('div', { className: "grid grid-cols-3 gap-0 border-t border-white/30" },
                      React.createElement('div', { className: "bg-pink-50/10 px-4 py-3 text-white text-sm border-r border-white/30" },
                        '4,51 – 5,00'
                      ),
                      React.createElement('div', { className: "bg-pink-50/10 px-4 py-3 text-white text-lg font-bold text-center border-r border-white/30" },
                        '5'
                      ),
                      React.createElement('div', { className: "bg-pink-50/10 px-4 py-3 text-white text-sm font-semibold" },
                        'Outstanding'
                      )
                    ),
                    // Rating 4
                    React.createElement('div', { className: "grid grid-cols-3 gap-0 border-t border-white/30" },
                      React.createElement('div', { className: "bg-orange-50/10 px-4 py-3 text-white text-sm border-r border-white/30" },
                        '3,51 – 4,50'
                      ),
                      React.createElement('div', { className: "bg-orange-50/10 px-4 py-3 text-white text-lg font-bold text-center border-r border-white/30" },
                        '4'
                      ),
                      React.createElement('div', { className: "bg-orange-50/10 px-4 py-3 text-white text-sm font-semibold" },
                        'Exceeds Expectations'
                      )
                    ),
                    // Rating 3
                    React.createElement('div', { className: "grid grid-cols-3 gap-0 border-t border-white/30" },
                      React.createElement('div', { className: "bg-blue-50/10 px-4 py-3 text-white text-sm border-r border-white/30" },
                        '2,51 – 3,50'
                      ),
                      React.createElement('div', { className: "bg-blue-50/10 px-4 py-3 text-white text-lg font-bold text-center border-r border-white/30" },
                        '3'
                      ),
                      React.createElement('div', { className: "bg-blue-50/10 px-4 py-3 text-white text-sm font-semibold" },
                        'Meets Expectations (Baseline)'
                      )
                    ),
                    // Rating 2
                    React.createElement('div', { className: "grid grid-cols-3 gap-0 border-t border-white/30" },
                      React.createElement('div', { className: "bg-green-50/10 px-4 py-3 text-white text-sm border-r border-white/30" },
                        '1,51 – 2,50'
                      ),
                      React.createElement('div', { className: "bg-green-50/10 px-4 py-3 text-white text-lg font-bold text-center border-r border-white/30" },
                        '2'
                      ),
                      React.createElement('div', { className: "bg-green-50/10 px-4 py-3 text-white text-sm font-semibold" },
                        'Needs Improvement'
                      )
                    ),
                    // Rating 1
                    React.createElement('div', { className: "grid grid-cols-3 gap-0 border-t border-white/30" },
                      React.createElement('div', { className: "bg-teal-50/10 px-4 py-3 text-white text-sm border-r border-white/30" },
                        '1,00 – 1,50'
                      ),
                      React.createElement('div', { className: "bg-teal-50/10 px-4 py-3 text-white text-lg font-bold text-center border-r border-white/30" },
                        '1'
                      ),
                      React.createElement('div', { className: "bg-teal-50/10 px-4 py-3 text-white text-sm font-semibold" },
                        'Does Not Meet'
                      )
                    )
                  )
                )
              ),
              
              // Hintergrundfarbe geändert auf das CI-Dunkelblau: #243186
              React.createElement('div', { className: "bg-[#243186] rounded-xl p-6 text-white shadow-lg" },
                React.createElement('div', { className: "flex flex-col items-start" },
                  React.createElement('h3', { className: "text-xl font-bold mb-2" }, t.barsTitle),
                  React.createElement('p', { className: "text-[#E8F5ED] text-sm mb-4 opacity-90" }, t.barsDesc),
                  React.createElement('button', {
                    onClick: () => setActiveView('list'),
                    className: "bg-white text-[#6EBD84] px-6 py-2 rounded-lg font-semibold hover:bg-[#F4FAF7] transition-colors"
                  }, t.btnCompetencies)
                )
              ),
              
              React.createElement('div', { className: "mt-12 mb-8" },
                React.createElement('h2', { className: "text-2xl font-bold mb-8 text-center", style: { color: "#243186" } },
                  lang === 'de' ? 'DER JAHRESZYKLUS IM ÜBERBLICK' : 'IL CICLO ANNUALE IN SINTESI'
                ),
                // Verwendung der benutzerdefinierten Klasse für gleich hohe Spalten
                React.createElement('div', { className: "equal-height-grid" },
                  React.createElement('div', { className: "bg-[#243186] rounded-3xl p-6 text-white shadow-lg border-4 border-[#6EBD84] flex flex-col" },
                    React.createElement('div', { className: "flex justify-center mb-4" },
                      React.createElement(Scale, { size: 64, className: "text-white" })
                    ),
                    React.createElement('div', { className: "text-center mb-4" },
                      React.createElement('p', { className: "text-sm uppercase tracking-wider text-slate-300 mb-2" }, 
                        lang === 'de' ? 'NOVEMBER' : 'NOVEMBRE'
                      ),
                      React.createElement('h3', { className: "text-xl font-bold", style: { color: "#6EBD84" } },
                        lang === 'de' ? 'Entwurf & Kalibrierung' : 'Bozza & Calibrazione'
                      )
                    ),
                    // Inhalt ohne Aufzählungspunkte/Striche
                    React.createElement('div', { className: "space-y-3 text-sm mb-4 flex-1" },
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(ClipboardList, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Führungskraft erstellt GPS-Entwurf.' 
                          : 'Il manager crea la bozza GPS.')
                      ),
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(CalendarCheck, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Kalibrierungs-Meeting im Führungskreis sichert Fairness.' 
                          : 'Meeting di calibrazione nel team di leadership garantisce equità.')
                      )
                    ),
                    React.createElement('div', { className: "bg-[#6EBD84] rounded-xl p-3 mt-auto" },
                      React.createElement('p', { className: "text-xs font-bold text-[#243186]" },
                        lang === 'de' 
                          ? 'WICHTIG: Nach diesem Meeting ist der GPS-Score final und verbindlich.' 
                          : 'IMPORTANTE: Dopo questo meeting il punteggio GPS è finale e vincolante.'
                      )
                    )
                  ),

                  React.createElement('div', { className: "bg-[#243186] rounded-3xl p-6 text-white shadow-lg border-4 border-[#6EBD84] flex flex-col" },
                    React.createElement('div', { className: "flex justify-center mb-4" },
                      React.createElement(Brain, { size: 64, className: "text-white" })
                    ),
                    React.createElement('div', { className: "text-center mb-4" },
                      React.createElement('p', { className: "text-sm uppercase tracking-wider text-slate-300 mb-2" }, 
                        lang === 'de' ? 'NOV / DEZ' : 'NOV / DIC'
                      ),
                      React.createElement('h3', { className: "text-xl font-bold", style: { color: "#6EBD84" } },
                        lang === 'de' ? 'Selbstreflexion' : 'Autoriflessione'
                      )
                    ),
                    // Inhalt ohne Aufzählungspunkte/Striche
                    React.createElement('div', { className: "space-y-3 text-sm mb-4 flex-1" },
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(BookOpen, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Mitarbeiter bereitet Selbstreflexion vor.' 
                          : 'Il collaboratore prepara l\'autoriflessione.')
                      ),
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(Users, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Dient als Basis für den Dialog auf Augenhöhe.' 
                          : 'Serve come base per il dialogo alla pari.')
                      )
                    ),
                    React.createElement('div', { className: "bg-[#6EBD84] rounded-xl p-3 mt-auto" },
                      React.createElement('p', { className: "text-xs font-bold text-[#243186]" },
                        lang === 'de' 
                          ? 'TIMING: Zusendung an FK ca. eine Woche vor Gesprächstermin' 
                          : 'TIMING: Invio al manager ca. una settimana prima del colloquio'
                      )
                    )
                  ),

                  React.createElement('div', { className: "bg-[#243186] rounded-3xl p-6 text-white shadow-lg border-4 border-[#6EBD84] flex flex-col" },
                    React.createElement('div', { className: "flex justify-center mb-4" },
                      React.createElement(MessageCircle, { size: 64, className: "text-white" })
                    ),
                    React.createElement('div', { className: "text-center mb-4" },
                      React.createElement('p', { className: "text-sm uppercase tracking-wider text-slate-300 mb-2" }, 
                        lang === 'de' ? 'ANFANG DEZ' : 'INIZIO DIC'
                      ),
                      React.createElement('h3', { className: "text-xl font-bold", style: { color: "#6EBD84" } },
                        lang === 'de' ? 'Review Gespräch' : 'Colloquio di Review'
                      )
                    ),
                    // Inhalt ohne Aufzählungspunkte/Striche
                    React.createElement('div', { className: "space-y-3 text-sm mb-4 flex-1" },
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(Scale, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Erklärung des GPS-Scores' 
                          : 'Spiegazione del punteggio GPS')
                      ),
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(Target, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Feedback zu Zielerreichung (WAS) & Kompetenzen (WIE)' 
                          : 'Feedback sul raggiungimento obiettivi (COSA) & competenze (COME)')
                      )
                    ),
                    React.createElement('div', { className: "bg-[#6EBD84] rounded-xl p-3 mt-auto" },
                      React.createElement('p', { className: "text-xs font-bold text-[#243186]" },
                        lang === 'de' 
                          ? 'Keine Verhandlung des GPS-Scores, aber offenes Ohr.' 
                          : 'Nessuna negoziazione del punteggio GPS, ma ascolto aperto.'
                      )
                    )
                  ),

                  React.createElement('div', { className: "bg-[#243186] rounded-3xl p-6 text-white shadow-lg border-4 border-[#6EBD84] flex flex-col" },
                    React.createElement('div', { className: "flex justify-center mb-4" },
                      React.createElement(Target, { size: 64, className: "text-white" })
                    ),
                    React.createElement('div', { className: "text-center mb-4" },
                      React.createElement('p', { className: "text-sm uppercase tracking-wider text-slate-300 mb-2" }, 
                        lang === 'de' ? 'JANUAR' : 'GENNAIO'
                      ),
                      React.createElement('h3', { className: "text-xl font-bold", style: { color: "#6EBD84" } },
                        lang === 'de' ? 'Neustart (Ziele)' : 'Ripartenza (Obiettivi)'
                      )
                    ),
                    // Inhalt ohne Aufzählungspunkte/Striche
                    React.createElement('div', { className: "space-y-3 text-sm mb-4 flex-1" },
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(TrendingUp, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Blick nach vorne.' 
                          : 'Sguardo al futuro.')
                      ),
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(Briefcase, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Vereinbarung der neuen Ziele.' 
                          : 'Definizione dei nuovi obiettivi.')
                      ),
                      React.createElement('div', { className: "flex items-start gap-2" },
                        React.createElement(Lightbulb, { size: 16, className: "text-[#6EBD84] mt-1 shrink-0" }), 
                        React.createElement('span', { className: "text-white" }, lang === 'de' 
                          ? 'Erstellung des Entwicklungsplans' 
                          : 'Creazione del piano di sviluppo')
                      )
                    ),
                    React.createElement('div', { className: "bg-[#6EBD84] rounded-xl p-3 mt-auto" },
                      React.createElement('p', { className: "text-xs font-bold text-[#243186]" },
                        lang === 'de' 
                          ? 'Sommer-Boxenstopp (Juni/Juli): Kurzer Check-in zur Kurskorrektur.' 
                          : 'Pit-stop estivo (Giugno/Luglio): Breve check-in per correzione di rotta.'
                      )
                    )
                  )
                )
              )
            );
          };

          const renderCompetencyList = () => {
            if (!data || !data.competencies) return null;
            
            const core = data.competencies.filter(c => c.category === 'core');
            const lead = data.competencies.filter(c => c.category === 'leadership');

            return React.createElement('div', { className: "space-y-8 pb-10" },
              // BARS Explanation Box
              React.createElement('div', { className: "bg-[#243186] rounded-xl p-6 shadow-lg mb-6" },
                React.createElement('h2', { className: "text-2xl font-bold text-white mb-4 flex items-center gap-3" },
                  React.createElement(BookOpen, { size: 28, style: { color: "#6EBD84" } }),
                  lang === 'de' ? 'Bewertung anhand von Verhaltensankern (BARS)' : 'Valutazione tramite ancore comportamentali (BARS)'
                ),
                React.createElement('div', { className: "space-y-4 text-white" },
                  React.createElement('p', { className: "text-lg leading-relaxed" },
                    lang === 'de' 
                      ? 'Für jede Kompetenz wird ein Score von 1 bis 5 vergeben.'
                      : 'Per ogni competenza viene assegnato un punteggio da 1 a 5.'
                  ),
                  React.createElement('p', { className: "text-lg leading-relaxed" },
                    lang === 'de'
                      ? 'Basis ist nicht das "Bauchgefühl", sondern der Vergleich des beobachteten Verhaltens mit den definierten Ankern.'
                      : 'La base non è l\'intuizione, ma il confronto del comportamento osservato con gli ancore definiti.'
                  ),
                  React.createElement('div', { className: "bg-white/10 rounded-lg p-5 border-l-4", style: { borderColor: "#6EBD84" } },
                    React.createElement('div', { className: "flex items-start gap-3 mb-3" },
                      React.createElement(Lightbulb, { size: 24, style: { color: "#6EBD84" }, className: "flex-shrink-0 mt-1" }),
                      React.createElement('p', { className: "text-lg font-semibold", style: { color: "#6EBD84" } },
                        lang === 'de' 
                          ? 'Die Vorgehensweise für Führungskräfte:'
                          : 'La procedura per i manager:'
                      )
                    ),
                    React.createElement('p', { className: "text-white italic text-base leading-relaxed pl-9" },
                      lang === 'de'
                        ? 'Lese die Verhaltensanker im Handlungsleitfaden. Frage dich: "Welche Beschreibung passt am besten zu dem Verhalten, das ich dieses Jahr beobachtet habe?"'
                        : 'Leggi gli ancore comportamentali nella guida operativa. Chiediti: "Quale descrizione si adatta meglio al comportamento che ho osservato quest\'anno?"'
                    )
                  )
                )
              ),
              
              React.createElement('div', null,
                React.createElement('h3', { className: "text-lg font-bold text-slate-700 mb-4 flex items-center gap-2" },
                  React.createElement(Users, { size: 20 }), " ", t.coreComp
                ),
                React.createElement('div', { className: "grid md:grid-cols-2 lg:grid-cols-3 gap-4" },
                  core.map(c => (
                    React.createElement('div', {
                      key: c.id,
                      onClick: () => navigateToCompetency(c.id),
                      className: "group bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md hover:border-[#BAE1CE] cursor-pointer transition-all"
                    },
                      React.createElement('div', { className: "flex justify-between items-start mb-3" },
                        React.createElement('div', { className: "p-2 bg-[#F4FAF7] rounded-lg text-[#6EBD84] group-hover:bg-[#6EBD84] group-hover:text-white transition-colors" }, React.createElement(c.icon, { size: 24 })),
                        React.createElement(ChevronRight, { size: 20, className: "text-slate-300 group-hover:text-[#6EBD84]" })
                      ),
                      React.createElement('h4', { className: "font-bold text-slate-800" }, c.title)
                    )
                  ))
                )
              ),
              React.createElement('div', null,
                React.createElement('h3', { className: "text-lg font-bold text-slate-700 mb-4 flex items-center gap-2" },
                  React.createElement(Briefcase, { size: 20 }), " ", t.leadComp
                ),
                React.createElement('div', { className: "grid md:grid-cols-2 lg:grid-cols-3 gap-4" },
                  lead.map(c => (
                    React.createElement('div', {
                      key: c.id,
                      onClick: () => navigateToCompetency(c.id),
                      className: "group bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md hover:border-[#BAE1CE] cursor-pointer transition-all"
                    },
                      React.createElement('div', { className: "flex justify-between items-start mb-3" },
                        React.createElement('div', { className: "p-2 bg-[#F4FAF7] rounded-lg text-[#6EBD84] group-hover:bg-[#6EBD84] group-hover:text-white transition-colors" }, React.createElement(c.icon, { size: 24 })),
                        React.createElement(ChevronRight, { size: 20, className: "text-slate-300 group-hover:text-[#6EBD84]" })
                      ),
                      React.createElement('h4', { className: "font-bold text-slate-800" }, c.title)
                    )
                  ))
                )
              )
            );
          };

          const renderDetailView = () => {
            const compData = getActiveCompetencyData();
            if (!compData) return null;
            const currentLevel = compData.levels[activeScore];

            return React.createElement('div', { className: "animate-in slide-in-from-right duration-300 pb-12" },
              React.createElement('button', {
                onClick: () => setActiveView('list'),
                className: "text-sm text-slate-500 hover:text-[#6EBD84] flex items-center gap-1 mb-4"
              }, t.back),
              React.createElement('div', { className: "bg-white rounded-xl shadow-lg overflow-hidden border border-slate-200" },
                React.createElement('div', { className: "p-6 md:p-8 bg-slate-50 border-b border-slate-100" },
                  React.createElement('div', { className: "flex items-center gap-4 mb-4" },
                    React.createElement('div', { className: `p-3 rounded-xl ${compData.category === 'core' ? 'bg-[#6EBD84]' : 'bg-[#6EBD84]'} text-white` }, React.createElement(compData.icon, { size: 32 })),
                    React.createElement('div', null,
                      React.createElement('h2', { className: "text-2xl font-bold text-slate-800" }, compData.title),
                      React.createElement('span', { className: "text-xs uppercase tracking-wider font-semibold text-slate-500" }, compData.category === 'core' ? 'Core' : 'Leadership')
                    )
                  ),
                  React.createElement('p', { className: "text-slate-600 leading-relaxed" }, compData.definition)
                ),
                React.createElement('div', { className: "p-6 md:p-8" },
                  React.createElement('div', { className: "flex flex-col items-center mb-8" },
                    React.createElement('span', { className: "text-sm font-semibold text-slate-400 mb-4 uppercase tracking-widest" }, t.selectScore),
                    React.createElement('div', { className: "flex gap-3 md:gap-6" },
                      [1, 2, 3, 4, 5].map(s => React.createElement(ScoreBadge, { key: s, score: s, active: activeScore === s }))
                    )
                  ),
                  React.createElement('div', { className: "bg-slate-50 rounded-2xl p-6 md:p-8 border border-slate-200 relative overflow-hidden transition-all" },
                    React.createElement('div', { className: `absolute top-0 left-0 w-2 h-full ${activeScore === 1 ? 'bg-red-500' : activeScore === 2 ? 'bg-orange-400' : activeScore === 3 ? 'bg-green-500' : activeScore === 4 ? 'bg-blue-500' : 'bg-[#6EBD84]'}` }),
                    React.createElement('div', { className: "mb-6" },
                      React.createElement('h3', { className: "text-lg font-bold text-slate-800 mb-2 flex items-center gap-2" },
                        activeScore === 3 ? React.createElement(CheckCircle2, { className: "text-green-600", size: 20 }) :
                        activeScore === 5 ? React.createElement(Award, { className: "text-[#6EBD84]", size: 20 }) :
                        activeScore === 1 ? React.createElement(ShieldAlert, { className: "text-red-500", size: 20 }) : React.createElement(BookOpen, { className: "text-slate-400", size: 20 }),
                        activeScore === 1 ? t.level1 :
                        activeScore === 2 ? t.level2 :
                        activeScore === 3 ? t.level3 :
                        activeScore === 4 ? t.level4 : t.level5
                      ),
                      React.createElement('p', { className: "text-slate-700 text-lg leading-relaxed whitespace-pre-line" }, currentLevel.text)
                    ),
                    React.createElement('div', { className: "bg-white rounded-xl p-5 border-l-4 border-l-slate-300 shadow-sm" },
                      React.createElement('h4', { className: "text-sm font-bold text-slate-400 uppercase mb-2 flex items-center gap-2" },
                        React.createElement(Lightbulb, { size: 16 }), " ", t.example
                      ),
                      React.createElement('p', { className: "text-slate-600 italic font-medium" }, `"${currentLevel.example}"`)
                    )
                  )
                )
              )
            );
          };

          // === GPS EXPLAINER RENDER FUNCTION ===
          const renderGPSExplainer = () => {
            return React.createElement('div', { className: "pb-12 space-y-8" },
              // Header
              React.createElement('div', { className: "mb-8" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-800 mb-2" }, t.gpsExplainerTitle),
                React.createElement('p', { className: "text-slate-600 text-lg" }, t.gpsExplainerSubtitle)
              ),
              
              // Intro Box
              React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-slate-200 p-6" },
                React.createElement('h2', { className: "text-xl font-bold text-slate-800 mb-3 flex items-center gap-2" },
                  React.createElement(Target, { className: "w-6 h-6", style: { color: "#6EBD84" } }),
                  t.gpsIntroTitle
                ),
                React.createElement('p', { className: "text-slate-700 leading-relaxed" }, t.gpsIntroText)
              ),

              // GPS Formula Visual
              React.createElement('div', { className: "rounded-xl shadow-lg p-8", style: { backgroundColor: "#6EBD84" } },
                React.createElement('h2', { className: "text-2xl font-bold text-white mb-6 text-center" }, t.gpsFormulaTitle),
                React.createElement('div', { className: "flex flex-col md:flex-row items-center justify-center gap-4 text-white" },
                  React.createElement('div', { className: "text-center" },
                    React.createElement('div', { className: "text-5xl font-bold mb-2" }, "GPS"),
                    React.createElement('div', { className: "text-sm opacity-90" }, "Global Performance Score")
                  ),
                  React.createElement('div', { className: "text-4xl font-bold" }, "="),
                  React.createElement('div', { className: "text-center" },
                    React.createElement('div', { className: "text-4xl font-bold mb-2" }, lang === 'de' ? 'WAS' : 'COSA'),
                    React.createElement('div', { className: "text-sm opacity-90" }, lang === 'de' ? 'Messbare Ergebnisse' : 'Risultati misurabili')
                  ),
                  React.createElement('div', { className: "text-4xl font-bold" }, "+"),
                  React.createElement('div', { className: "text-center" },
                    React.createElement('div', { className: "text-4xl font-bold mb-2" }, lang === 'de' ? 'WIE' : 'COME'),
                    React.createElement('div', { className: "text-sm opacity-90" }, lang === 'de' ? 'Verhalten & Kompetenzen' : 'Comportamento & Competenze')
                  )
                )
              ),

              // WAS Explanation
              React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-blue-200 overflow-hidden" },
                React.createElement('div', { className: "bg-blue-50 p-6 border-b border-blue-200" },
                  React.createElement('div', { className: "flex items-start justify-between mb-3" },
                    React.createElement('h3', { className: "text-2xl font-bold text-blue-900 flex items-center gap-3" },
                      React.createElement(Target, { className: "w-7 h-7 text-blue-600" }),
                      t.wasExplainTitle
                    ),
                    React.createElement('span', { className: "bg-blue-600 text-white px-4 py-2 rounded-lg font-bold text-lg" }, 
                      t.wasExplainWeight
                    )
                  ),
                  React.createElement('p', { className: "text-slate-700 text-lg" }, t.wasExplainText)
                ),
                React.createElement('div', { className: "p-6" },
                  React.createElement('div', { className: "bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500" },
                    React.createElement('p', { className: "text-sm text-slate-600 font-semibold mb-1" }, lang === 'de' ? 'Beispiel:' : 'Esempio:'),
                    React.createElement('p', { className: "text-slate-700" }, t.wasExplainExample)
                  )
                )
              ),

              // WIE Explanation
              React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-[#D1EBE0] overflow-hidden" },
                React.createElement('div', { className: "bg-[#F4FAF7] p-6 border-b border-[#D1EBE0]" },
                  React.createElement('div', { className: "flex items-start justify-between mb-3" },
                    React.createElement('h3', { className: "text-2xl font-bold text-[#3E7D4E] flex items-center gap-3" },
                      React.createElement(Brain, { className: "w-7 h-7 text-[#6EBD84]" }),
                      t.wieExplainTitle
                    ),
                    React.createElement('div', { className: "text-right" },
                      React.createElement('div', { className: "bg-[#6EBD84] text-white px-4 py-2 rounded-lg font-bold text-lg mb-2" }, 
                        t.wieCoreExplainWeight
                      ),
                      React.createElement('div', { className: "bg-[#6EBD84] text-white px-4 py-2 rounded-lg font-bold text-lg" }, 
                        t.wieLeadExplainWeight
                      )
                    )
                  ),
                  React.createElement('p', { className: "text-slate-700 text-lg" }, t.wieExplainText)
                ),
                React.createElement('div', { className: "p-6" },
                  React.createElement('div', { className: "bg-[#F4FAF7] rounded-lg p-5 border-l-4 border-[#6EBD84]" },
                    React.createElement('p', { className: "text-sm text-slate-600 font-bold mb-4 uppercase tracking-wide" }, 
                      lang === 'de' ? 'Bewertete Kompetenzen:' : 'Competenze valutate:'
                    ),
                    React.createElement('div', { className: "space-y-4" },
                      t.wieExplainCompetencies.split(' | ').map((section, idx) => 
                        React.createElement('div', { 
                          key: idx, 
                          className: "bg-white rounded-lg p-4 shadow-sm border border-[#D1EBE0]"
                        },
                          React.createElement('div', { className: "flex items-center gap-2 mb-3" },
                            React.createElement('div', { 
                              className: "w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm",
                              style: { backgroundColor: idx === 0 ? "#9333ea" : "#4f46e5" }
                            }, idx === 0 ? '5' : '5'),
                            React.createElement('p', { className: "font-bold text-[#3E7D4E] text-sm" },
                              idx === 0 ? 
                                (lang === 'de' ? 'Kern-Kompetenzen' : 'Competenze Chiave') :
                                (lang === 'de' ? 'Leadership-Kompetenzen' : 'Competenze di Leadership')
                            )
                          ),
                          React.createElement('div', { className: "pl-10" },
                            React.createElement('ul', { className: "space-y-2" },
                              section.split(': ')[1].split(' • ').map((comp, compIdx) =>
                                React.createElement('li', { 
                                  key: compIdx,
                                  className: "flex items-start gap-2 text-slate-700 text-sm"
                                },
                                  React.createElement('span', { className: "text-[#6EBD84] mt-0.5" }, "●"),
                                  React.createElement('span', null, comp.trim())
                                )
                              )
                            )
                          )
                        )
                      )
                    )
                  )
                )
              ),

              // BARS Conversion Table
              React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden" },
                React.createElement('div', { className: "p-6 border-b border-slate-200", style: { backgroundColor: "#243186" } },
                  React.createElement('h3', { className: "text-2xl font-bold text-white flex items-center gap-3" },
                    React.createElement(Scale, { className: "w-7 h-7", style: { color: "#6EBD84" } }),
                    t.barsConversionTitle
                  ),
                  React.createElement('p', { className: "mt-2", style: { color: "#6EBD84" } }, t.barsConversionDesc)
                ),
                React.createElement('div', { className: "overflow-x-auto" },
                  React.createElement('table', { className: "w-full" },
                    React.createElement('thead', { className: "bg-slate-50" },
                      React.createElement('tr', null,
                        React.createElement('th', { className: "px-6 py-3 text-left text-xs font-bold text-slate-700 uppercase tracking-wider" }, 
                          lang === 'de' ? 'Zielerreichung %' : 'Raggiungimento %'
                        ),
                        React.createElement('th', { className: "px-6 py-3 text-center text-xs font-bold text-slate-700 uppercase tracking-wider" }, 
                          "BARS-Stufe"
                        ),
                        React.createElement('th', { className: "px-6 py-3 text-left text-xs font-bold text-slate-700 uppercase tracking-wider" }, 
                          lang === 'de' ? 'Beschreibung' : 'Descrizione'
                        )
                      )
                    ),
                    React.createElement('tbody', { className: "bg-white divide-y divide-slate-200" },
                      BARS_RANGES.map((range, idx) => React.createElement('tr', { key: idx, className: "hover:bg-slate-50" },
                        React.createElement('td', { className: "px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900" }, 
                          lang === 'de' ? range.label : 
                            (range.score === 5 ? 'Eccezionale (>130%)' :
                             range.score === 4 ? 'Superato (111-130%)' :
                             range.score === 3 ? 'Baseline (90-110%)' :
                             range.score === 2 ? 'Parziale (70-89%)' : 'Non raggiunto (<70%)')
                        ),
                        React.createElement('td', { className: "px-6 py-4 whitespace-nowrap text-center" },
                          React.createElement('span', { 
                            className: `inline-flex items-center justify-center w-10 h-10 rounded-full text-white font-bold ${
                              range.score === 5 ? 'bg-green-600' :
                              range.score === 4 ? 'bg-emerald-500' :
                              range.score === 3 ? 'bg-blue-600' :
                              range.score === 2 ? 'bg-orange-500' : 'bg-red-600'
                            }`
                          }, range.score)
                        ),
                        React.createElement('td', { className: "px-6 py-4 text-sm text-slate-700" }, 
                          lang === 'de' ? 
                            (range.score === 5 ? 'Ziel herausragend übertroffen' :
                             range.score === 4 ? 'Ziel übertroffen' :
                             range.score === 3 ? 'Ziel vollständig erreicht (Baseline)' :
                             range.score === 2 ? 'Ziel teilweise erreicht' : 'Ziel nicht erreicht') :
                            (range.score === 5 ? 'Obiettivo superato eccezionalmente' :
                             range.score === 4 ? 'Obiettivo superato' :
                             range.score === 3 ? 'Obiettivo completamente raggiunto (Baseline)' :
                             range.score === 2 ? 'Obiettivo parzialmente raggiunto' : 'Obiettivo non raggiunto')
                        )
                      ))
                    )
                  )
                )
              ),

              // Performance Rating Table
              React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden" },
                React.createElement('div', { className: "p-6 border-b border-slate-200", style: { backgroundColor: "#243186" } },
                  React.createElement('h3', { className: "text-2xl font-bold text-white flex items-center gap-3" },
                    React.createElement(Award, { className: "w-7 h-7", style: { color: "#6EBD84" } }),
                    t.performanceRatingTitle
                  ),
                  React.createElement('p', { className: "mt-2", style: { color: "#6EBD84" } }, t.performanceRatingDesc)
                ),
                React.createElement('div', { className: "overflow-x-auto" },
                  React.createElement('table', { className: "w-full" },
                    React.createElement('thead', { className: "bg-slate-50" },
                      React.createElement('tr', null,
                        React.createElement('th', { className: "px-6 py-3 text-left text-xs font-bold text-slate-700 uppercase tracking-wider" }, 
                          "GPS Range"
                        ),
                        React.createElement('th', { className: "px-6 py-3 text-left text-xs font-bold text-slate-700 uppercase tracking-wider" }, 
                          "Rating"
                        )
                      )
                    ),
                    React.createElement('tbody', { className: "bg-white divide-y divide-slate-200" },
                      RATINGS.map((rating, idx) => React.createElement('tr', { key: idx, className: "hover:bg-slate-50" },
                        React.createElement('td', { className: "px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-900" }, 
                          `${rating.min.toFixed(2)} - ${rating.max.toFixed(2)}`
                        ),
                        React.createElement('td', { className: "px-6 py-4 whitespace-nowrap" },
                          React.createElement('span', { className: `px-3 py-1 rounded-full text-white text-sm font-bold ${rating.color}` }, 
                            rating.label
                          )
                        )
                      ))
                    )
                  )
                )
              ),

              // Calculation Example
              React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-slate-200 p-6" },
                React.createElement('h3', { className: "text-2xl font-bold text-slate-800 mb-4 flex items-center gap-3" },
                  React.createElement(Calculator, { className: "w-7 h-7 text-slate-600" }),
                  t.calculationExampleTitle
                ),
                React.createElement('div', { className: "bg-slate-50 rounded-lg p-6 space-y-4" },
                  React.createElement('p', { className: "font-semibold text-slate-700" }, t.calculationExampleIntro),
                  React.createElement('ul', { className: "space-y-2 ml-4" },
                    React.createElement('li', { className: "text-slate-700" }, `• ${t.calculationStep1}`),
                    React.createElement('li', { className: "text-slate-700" }, `• ${t.calculationStep2}`),
                    React.createElement('li', { className: "text-slate-700" }, `• ${t.calculationStep3}`)
                  ),
                  React.createElement('div', { className: "border-t border-slate-300 pt-4 mt-4" },
                    React.createElement('p', { className: "font-semibold text-slate-700 mb-2" }, t.calculationFormula),
                    React.createElement('p', { className: "font-mono text-lg text-slate-800 bg-white p-4 rounded border border-slate-200" }, 
                      "(4,0 × 0,5) + (3,2 × 0,25) + (4,0 × 0,25) = 3,8"
                    )
                  ),
                  React.createElement('div', { className: "bg-green-50 border-l-4 border-green-500 p-4 rounded" },
                    React.createElement('p', { className: "font-bold text-green-900" }, t.calculationResult)
                  )
                )
              ),

              // Why GPS Section
              React.createElement('div', { className: "rounded-xl shadow-lg p-8", style: { backgroundColor: "#243186" } },
                React.createElement('h3', { className: "text-2xl font-bold text-white mb-6 flex items-center gap-3" },
                  React.createElement(Lightbulb, { className: "w-7 h-7", style: { color: "#6EBD84" } }),
                  t.whyGPSTitle
                ),
                React.createElement('div', { className: "grid md:grid-cols-3 gap-6" },
                  React.createElement('div', { className: "bg-white bg-opacity-10 rounded-lg p-6" },
                    React.createElement('div', { className: "w-12 h-12 rounded-full flex items-center justify-center mb-4", style: { backgroundColor: "#6EBD84" } },
                      React.createElement(Scale, { className: "w-6 h-6 text-white" })
                    ),
                    React.createElement('h4', { className: "text-lg font-bold text-white mb-2" }, t.whyGPS1Title),
                    React.createElement('p', { className: "text-slate-300 text-sm" }, t.whyGPS1Text)
                  ),
                  React.createElement('div', { className: "bg-white bg-opacity-10 rounded-lg p-6" },
                    React.createElement('div', { className: "w-12 h-12 rounded-full flex items-center justify-center mb-4", style: { backgroundColor: "#6EBD84" } },
                      React.createElement(Target, { className: "w-6 h-6 text-white" })
                    ),
                    React.createElement('h4', { className: "text-lg font-bold text-white mb-2" }, t.whyGPS2Title),
                    React.createElement('p', { className: "text-slate-300 text-sm" }, t.whyGPS2Text)
                  ),
                  React.createElement('div', { className: "bg-white bg-opacity-10 rounded-lg p-6" },
                    React.createElement('div', { className: "w-12 h-12 rounded-full flex items-center justify-center mb-4", style: { backgroundColor: "#6EBD84" } },
                      React.createElement(TrendingUp, { className: "w-6 h-6 text-white" })
                    ),
                    React.createElement('h4', { className: "text-lg font-bold text-white mb-2" }, t.whyGPS3Title),
                    React.createElement('p', { className: "text-slate-300 text-sm" }, t.whyGPS3Text)
                  )
                )
              )
            );
          };

          // === GPS SIMULATOR RENDER FUNCTION ===
          const renderGPSSimulator = () => {
            const totalGoalWeight = goals.reduce((sum, g) => sum + g.weight, 0);
            const ratingInfo = getRating(finalGPS);

            return React.createElement('div', { className: "pb-12" },
              React.createElement('div', { className: "mb-8" },
                React.createElement('h1', { className: "text-3xl font-bold text-slate-800 mb-2" }, t.gpsSimTitle),
                React.createElement('p', { className: "text-slate-600" }, 
                  t.gpsSimDesc
                )
              ),
              React.createElement('div', { className: "grid lg:grid-cols-12 gap-6" },
                React.createElement('div', { className: "lg:col-span-7 space-y-6" },
                  // WAS Section
                  React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-blue-200 overflow-hidden" },
                    React.createElement('div', { className: "bg-blue-50 p-4 border-b border-blue-200 flex justify-between items-center" },
                      React.createElement('h2', { className: "font-bold text-lg flex items-center gap-2 text-blue-900" },
                        React.createElement(Target, { className: "w-5 h-5 text-blue-600" }),
                        `${t.wasSection} (${t.wasPercent})`
                      ),
                      React.createElement('span', { className: "text-sm font-mono bg-white text-blue-800 px-2 py-1 rounded font-bold border border-blue-100" },
                        `${t.score}: ${wasScore.toFixed(2)}`
                      )
                    ),
                    React.createElement('div', { className: "p-6 space-y-4" },
                      goals.map((goal) => (
                        React.createElement('div', { key: goal.id, className: "bg-slate-50 p-4 rounded-lg border border-slate-200" },
                          React.createElement('div', { className: "flex justify-between items-start mb-3" },
                            React.createElement('input', {
                              type: "text",
                              value: goal.name,
                              onChange: (e) => handleGoalChange(goal.id, 'name', e.target.value),
                              className: "font-medium text-slate-700 bg-transparent border-b border-dashed border-slate-300 focus:border-blue-500 outline-none flex-1 mr-4"
                            }),
                            goals.length > 1 && React.createElement('button', {
                              onClick: () => removeGoal(goal.id),
                              className: "text-red-400 hover:text-red-600 transition-colors"
                            }, React.createElement(XCircle, { size: 20 }))
                          ),
                          React.createElement('div', { className: "grid grid-cols-2 gap-4" },
                            React.createElement('div', null,
                              React.createElement('label', { className: "block text-xs text-slate-500 mb-1" }, t.goalWeight),
                              React.createElement('input', {
                                type: "number",
                                value: goal.weight,
                                onChange: (e) => handleGoalChange(goal.id, 'weight', e.target.value),
                                className: "w-full px-3 py-2 bg-white border border-slate-300 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none"
                              })
                            ),
                            React.createElement('div', null,
                              React.createElement('label', { className: "block text-xs text-slate-500 mb-1" }, t.goalAchievement),
                              React.createElement('input', {
                                type: "number",
                                value: goal.achievement,
                                onChange: (e) => handleGoalChange(goal.id, 'achievement', e.target.value),
                                className: "w-full px-3 py-2 bg-white border border-slate-300 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none"
                              })
                            )
                          ),
                          React.createElement('div', { className: "mt-3 text-right" },
                            React.createElement('span', { className: "text-xs text-slate-500" }, "BARS "),
                            React.createElement('span', { className: `text-sm font-bold ${
                              getBarsScore(goal.achievement) >= 4 ? 'text-green-600' : 
                              getBarsScore(goal.achievement) === 3 ? 'text-blue-600' : 'text-orange-500'
                            }`}, getBarsScore(goal.achievement))
                          )
                        )
                      )),
                      React.createElement('button', {
                        onClick: addGoal,
                        className: "w-full py-2 border-2 border-dashed border-slate-300 rounded-lg text-slate-500 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center gap-2"
                      },
                        React.createElement(PlusCircle, { size: 18 }),
                        t.addGoal
                      ),
                      totalGoalWeight !== 100 && React.createElement('div', { 
                        className: `text-sm p-3 rounded-lg ${
                          totalGoalWeight > 100 ? 'bg-red-50 text-red-700 border border-red-200' : 
                          'bg-yellow-50 text-yellow-700 border border-yellow-200'
                        }`
                      }, 
                        `${t.totalWeight}: ${totalGoalWeight}% ${totalGoalWeight !== 100 ? `(${t.shouldBe100})` : ''}`
                      )
                    )
                  ),
                  // WIE Core Section
                  React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-[#D1EBE0] overflow-hidden" },
                    React.createElement('div', { className: "bg-[#F4FAF7] p-4 border-b border-[#D1EBE0] flex justify-between items-center" },
                      React.createElement('h2', { className: "font-bold text-lg flex items-center gap-2 text-[#3E7D4E]" },
                        React.createElement(Brain, { className: "w-5 h-5 text-[#6EBD84]" }),
                        t.wieCore + " ",
                        React.createElement('span', { className: "text-sm font-normal text-slate-500" },
                          includeLeadership ? '(25%)' : '(50%)'
                        )
                      ),
                      React.createElement('span', { className: "text-sm font-mono bg-[#E8F5ED] text-[#4D9360] px-2 py-1 rounded font-bold" },
                        `${t.score}: ${wieCoreScore.toFixed(2)}`
                      )
                    ),
                    React.createElement('div', { className: "p-6" },
                      CORE_COMP_SIM[lang].map(comp => (
                        React.createElement(CompetencySlider, {
                          key: comp.id,
                          name: comp.name,
                          weight: comp.weight,
                          value: coreScores[comp.id],
                          onChange: (val) => setCoreScores({...coreScores, [comp.id]: val}),
                          labels: {
                            weight: t.competencyWeight,
                            level1: t.level1,
                            level3: t.level3,
                            level5: t.level5
                          }
                        })
                      ))
                    ),
                    React.createElement('div', { className: "bg-slate-50 p-4 border-t border-slate-200" },
                      React.createElement('button', {
                        onClick: () => setIncludeLeadership(!includeLeadership),
                        className: `w-full flex items-center justify-between p-3 rounded-lg border transition-all ${
                          includeLeadership 
                          ? 'bg-[#F4FAF7] border-[#D1EBE0] text-[#4D9360]' 
                          : 'bg-white border-slate-300 text-slate-600 hover:border-[#BAE1CE] hover:text-[#6EBD84]'
                        }`
                      },
                        React.createElement('div', { className: "flex items-center gap-3" },
                          includeLeadership ? React.createElement(CheckCircle2, { className: "w-5 h-5" }) : React.createElement(PlusCircle, { className: "w-5 h-5" }),
                          React.createElement('span', { className: "font-medium" }, t.addLeadership)
                        ),
                        React.createElement('span', { className: "text-xs uppercase tracking-wide font-semibold" },
                          includeLeadership ? t.leadershipActive : t.leadershipOptional
                        )
                      )
                    )
                  ),
                  // WIE Leadership Section
                  includeLeadership && React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-[#D1EBE0] overflow-hidden animate-in fade-in slide-in-from-top-4 duration-300" },
                    React.createElement('div', { className: "bg-[#F4FAF7] p-4 border-b border-[#D1EBE0] flex justify-between items-center" },
                      React.createElement('h2', { className: "font-bold text-lg flex items-center gap-2 text-[#3E7D4E]" },
                        React.createElement(Briefcase, { className: "w-5 h-5 text-[#6EBD84]" }),
                        `${t.wieLeadership} (25%)`
                      ),
                      React.createElement('span', { className: "text-sm font-mono bg-white text-[#4D9360] px-2 py-1 rounded font-bold border border-[#E8F5ED]" },
                        `${t.score}: ${wieLeaderScore.toFixed(2)}`
                      )
                    ),
                    React.createElement('div', { className: "p-6" },
                      LEADERSHIP_COMP_SIM[lang].map(comp => (
                        React.createElement(CompetencySlider, {
                          key: comp.id,
                          name: comp.name,
                          weight: comp.weight,
                          value: leaderScores[comp.id],
                          onChange: (val) => setLeaderScores({...leaderScores, [comp.id]: val}),
                          labels: {
                            weight: t.competencyWeight,
                            level1: t.level1,
                            level3: t.level3,
                            level5: t.level5
                          }
                        })
                      ))
                    )
                  )
                ),
                // Results Column
                React.createElement('div', { className: "lg:col-span-5 space-y-6" },
                  React.createElement('div', { className: "text-white rounded-xl shadow-lg p-6 sticky top-6 z-10", style: { backgroundColor: "#243186" } },
                    React.createElement('div', { className: "flex justify-between items-start mb-4" },
                      React.createElement('div', null,
                        React.createElement('h3', { className: "uppercase text-sm tracking-wider font-medium", style: { color: "#6EBD84" } }, 
                          t.globalPerformanceScore
                        ),
                        React.createElement('div', { className: "text-5xl font-bold mt-2 tracking-tight text-white" }, 
                          finalGPS.toFixed(2)
                        )
                      ),
                      React.createElement(Trophy, { 
                        className: `w-12 h-12 opacity-80 ${
                          finalGPS >= 4.5 ? 'text-yellow-400' : 
                          finalGPS >= 3.5 ? 'text-emerald-400' : 'text-slate-400'
                        }`
                      })
                    ),
                    React.createElement('div', { className: "space-y-4" },
                      React.createElement('div', { className: "relative h-4 rounded-full overflow-hidden", style: { backgroundColor: "rgba(110, 189, 132, 0.2)" } },
                        React.createElement('div', {
                          className: `absolute top-0 left-0 h-full transition-all duration-500 ${ratingInfo.color}`,
                          style: { width: `${Math.min(100, (finalGPS / 5) * 100)}%` }
                        }),
                        // 5 gleich große Bereiche (je 20%)
                        React.createElement('div', { className: "absolute top-0 left-[20%] h-full w-0.5 opacity-30", style: { backgroundColor: "#6EBD84" } }),
                        React.createElement('div', { className: "absolute top-0 left-[40%] h-full w-0.5 opacity-30", style: { backgroundColor: "#6EBD84" } }),
                        React.createElement('div', { className: "absolute top-0 left-[60%] h-full w-0.5 opacity-30", style: { backgroundColor: "#6EBD84" } }),
                        React.createElement('div', { className: "absolute top-0 left-[80%] h-full w-0.5 opacity-30", style: { backgroundColor: "#6EBD84" } })
                      ),
                      React.createElement('div', { 
                        className: `p-4 rounded-lg bg-opacity-20 border border-opacity-20 transition-colors ${
                          ratingInfo.color.replace('bg-', 'bg-').replace('bg-', 'border-')
                        }`
                      },
                        React.createElement('div', { className: "font-bold text-lg" }, ratingInfo.label),
                        React.createElement('div', { className: "text-sm opacity-90 mt-1" }, ratingInfo.desc)
                      )
                    )
                  ),
                  React.createElement('div', { className: "bg-white rounded-xl shadow-sm border border-slate-200 p-6" },
                    React.createElement('h3', { className: "font-bold text-lg mb-4 flex items-center gap-2" },
                      React.createElement(Info, { className: "w-5 h-5 text-slate-400" }),
                      t.theMath
                    ),
                    React.createElement('div', { className: "space-y-3 text-sm font-mono" },
                      React.createElement('div', { className: "flex justify-between items-center pb-2 border-b border-slate-100" },
                        React.createElement('div', { className: "flex items-center gap-2" },
                          React.createElement('div', { className: "w-2 h-2 rounded-full bg-blue-500" }),
                          React.createElement('span', { className: "text-slate-600" }, t.wasGoals)
                        ),
                        React.createElement('span', null,
                          `${wasScore.toFixed(2)} × 50% = `,
                          React.createElement('span', { className: "font-bold text-blue-600" }, 
                            (wasScore * 0.5).toFixed(2)
                          )
                        )
                      ),
                      !includeLeadership ? 
                        React.createElement('div', { className: "flex justify-between items-center pb-2 border-b border-slate-100" },
                          React.createElement('div', { className: "flex items-center gap-2" },
                            React.createElement('div', { className: "w-2 h-2 rounded-full bg-[#F4FAF7]0" }),
                            React.createElement('span', { className: "text-slate-600" }, t.wieCompetencies)
                          ),
                          React.createElement('span', null,
                            `${wieCoreScore.toFixed(2)} × 50% = `,
                            React.createElement('span', { className: "font-bold text-[#6EBD84]" }, 
                              (wieCoreScore * 0.5).toFixed(2)
                            )
                          )
                        )
                      : React.createElement(React.Fragment, null,
                          React.createElement('div', { className: "flex justify-between items-center pb-2" },
                            React.createElement('div', { className: "flex items-center gap-2" },
                              React.createElement('div', { className: "w-2 h-2 rounded-full bg-[#F4FAF7]0" }),
                              React.createElement('span', { className: "text-slate-600" }, t.wieCore2)
                            ),
                            React.createElement('span', null,
                              `${wieCoreScore.toFixed(2)} × 25% = `,
                              React.createElement('span', { className: "font-bold text-[#6EBD84]" }, 
                                (wieCoreScore * 0.25).toFixed(2)
                              )
                            )
                          ),
                          React.createElement('div', { className: "flex justify-between items-center pb-2 border-b border-slate-100" },
                            React.createElement('div', { className: "flex items-center gap-2" },
                              React.createElement('div', { className: "w-2 h-2 rounded-full bg-[#F4FAF7]0" }),
                              React.createElement('span', { className: "text-slate-600" }, t.wieLeader)
                            ),
                            React.createElement('span', null,
                              `${wieLeaderScore.toFixed(2)} × 25% = `,
                              React.createElement('span', { className: "font-bold text-[#6EBD84]" }, 
                                (wieLeaderScore * 0.25).toFixed(2)
                              )
                            )
                          )
                        ),
                      React.createElement('div', { className: "flex justify-between items-center pt-3 text-base font-bold border-t border-slate-200 mt-2" },
                        React.createElement('span', null, t.gpsTotal),
                        React.createElement('span', { className: "bg-slate-100 px-2 py-1 rounded" }, 
                          `= ${finalGPS.toFixed(2)}`
                        )
                      )
                    )
                  ),
                  React.createElement('div', { className: "flex justify-center" },
                    React.createElement('button', {
                      onClick: resetSimulator,
                      className: "flex items-center gap-2 text-slate-400 hover:text-slate-600 text-sm transition-colors"
                    },
                      React.createElement(RotateCcw, { className: "w-4 h-4" }),
                      t.resetSimulator
                    )
                  )
                )
              )
            );
          };

          return React.createElement('div', { className: "min-h-screen bg-slate-100 font-sans text-slate-900 flex flex-col md:flex-row" },
            React.createElement('aside', { className: "bg-[#243186] text-slate-300 w-full md:w-64 flex-shrink-0 flex flex-col" }, // Sidebar background
              React.createElement('div', { className: "p-6 border-b border-slate-800" },
                React.createElement('h1', { className: "text-white font-bold text-xl tracking-tight" }, "nıederwıeser"),
                // Akzentfarbe geändert auf #6EBD84
                React.createElement('p', { className: "text-xs mt-1 uppercase tracking-widest", style: { color: "#6EBD84" } }, t.title)
              ),
              React.createElement('nav', { className: "flex-1 p-4 space-y-2" },
                React.createElement('div', { className: "mb-6 px-4" },
                    // Sprachauswahl mit Akzentfarbe
                    React.createElement('div', { className: "flex bg-slate-800 rounded-lg p-1 border border-slate-700" },
                        React.createElement('button', {
                            onClick: () => setLang('de'),
                            className: `flex-1 py-2 rounded-md text-sm font-medium transition-all duration-200 ${lang === 'de' ? 'bg-[#6EBD84] text-white shadow-md' : 'text-slate-400 hover:text-white'}`
                        }, "Deutsch"),
                        React.createElement('button', {
                            onClick: () => setLang('it'),
                            className: `flex-1 py-2 rounded-md text-sm font-medium transition-all duration-200 ${lang === 'it' ? 'bg-[#6EBD84] text-white shadow-md' : 'text-slate-400 hover:text-white'}`
                        }, "Italiano")
                    )
                ),
                // Navigations-Buttons mit Akzentfarbe
                React.createElement('button', {
                  // Navigation auf Dashboard
                  onClick: () => { setActiveView('dashboard'); setActiveScore(3); },
                  className: `w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${activeView === 'dashboard' ? 'bg-[#6EBD84] text-white' : 'hover:bg-slate-800'}`
                }, React.createElement(BookOpen, { size: 18 }), " ", t.dashboard),
                React.createElement('button', {
                  // Navigation auf Kompetenzliste
                  onClick: () => { setActiveView('list'); setActiveScore(3); },
                  className: `w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${activeView === 'list' || activeView === 'detail' ? 'bg-[#6EBD84] text-white' : 'hover:bg-slate-800'}`
                }, React.createElement(Users, { size: 18 }), " ", t.competencies),
                React.createElement('button', {
                  onClick: () => { setActiveView('gpsexplainer'); setActiveScore(3); },
                  className: `w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${activeView === 'gpsexplainer' ? 'bg-[#6EBD84] text-white' : 'hover:bg-slate-800'}`
                }, React.createElement(Info, { size: 18 }), " ", t.gpsExplainer),
                React.createElement('button', {
                  onClick: () => { setActiveView('formular'); setActiveScore(3); },
                  className: `w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${activeView === 'formular' ? 'bg-[#6EBD84] text-white' : 'hover:bg-slate-800'}`
                }, React.createElement(FileText, { size: 18 }), " ", t.formular),
                React.createElement('button', {
                  onClick: () => { setActiveView('zielvereinbarung'); setActiveScore(3); },
                  className: `w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${activeView === 'zielvereinbarung' ? 'bg-[#6EBD84] text-white' : 'hover:bg-slate-800'}`
                }, React.createElement(Target, { size: 18 }), " ", t.zielvereinbarung),
                React.createElement('button', {
                  onClick: () => { setActiveView('teamoverview'); setActiveScore(3); },
                  className: `w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${activeView === 'teamoverview' ? 'bg-[#6EBD84] text-white' : 'hover:bg-slate-800'}`
                }, React.createElement(Users, { size: 18 }), " ", lang === 'de' ? 'Mein Team' : 'Il mio team'),
              )
            ),
            React.createElement('main', { className: "flex-1 overflow-y-auto h-screen p-4 md:p-8 md:pb-20" },
              React.createElement('div', { className: "max-w-4xl mx-auto" },
                activeView === 'dashboard' && renderDashboard(),
                activeView === 'list' && renderCompetencyList(),
                activeView === 'detail' && renderDetailView(),
                activeView === 'gpsexplainer' && renderGPSExplainer(),
                activeView === 'zielvereinbarung' && React.createElement(Zielvereinbarung, { lang: lang, onSaveTeam: saveTeamAppraisal, onCancel: () => setActiveView('teamoverview') }),
                activeView === 'teamoverview' && renderTeamOverview(),
                activeView === 'formular' && React.createElement(AppraisalForm, { lang: lang, onSaveTeam: saveTeamAppraisal, onCancel: () => setActiveView('teamoverview') })
              )
            )
          );
        }

        // --- RENDER APP ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(PerformanceApp));
    </script>
</body>
</html>